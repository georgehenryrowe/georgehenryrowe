console.log("### p5.collide ###"),p5.prototype._collideDebug=!1,p5.prototype.collideDebug=function(e){_collideDebug=e},p5.prototype.collideRectRect=function(e,i,o,t,l,n,r,c){return e+o>=l&&l+r>=e&&i+t>=n&&n+c>=i?!0:!1},p5.prototype.collideRectCircle=function(e,i,o,t,l,n,r){var c=l,p=n;e>l?c=e:l>e+o&&(c=e+o),i>n?p=i:n>i+t&&(p=i+t);var d=dist(l,n,c,p);return r/2>=d?!0:!1},p5.prototype.collideCircleCircle=function(e,i,o,t,l,n){return dist(e,i,t,l)<=o/2+n/2?!0:!1},p5.prototype.collidePointCircle=function(e,i,o,t,l){return dist(e,i,o,t)<=l/2?!0:!1},p5.prototype.collidePointRect=function(e,i,o,t,l,n){return e>=o&&o+l>=e&&i>=t&&t+n>=i?!0:!1},p5.prototype.collidePointLine=function(e,i,o,t,l,n,r){var c=dist(e,i,o,t),p=dist(e,i,l,n),d=dist(o,t,l,n);return void 0===r&&(r=.1),c+p>=d-r&&d+r>=c+p?!0:!1},p5.prototype.collideLineCircle=function(e,i,o,t,l,n,r){var c=collidePointCircle(e,i,l,n,r),p=collidePointCircle(o,t,l,n,r);if(c||p)return!0;var d=e-o,u=i-t,y=sqrt(d*d+u*u),f=((l-e)*(o-e)+(n-i)*(t-i))/pow(y,2),L=e+f*(o-e),a=i+f*(t-i),v=collidePointLine(L,a,e,i,o,t);if(!v)return!1;_collideDebug&&ellipse(L,a,10,10),d=L-l,u=a-n;var P=sqrt(d*d+u*u);return r/2>=P?!0:!1},p5.prototype.collideLineLine=function(e,i,o,t,l,n,r,c,p){var d,u=((r-l)*(i-n)-(c-n)*(e-l))/((c-n)*(o-e)-(r-l)*(t-i)),y=((o-e)*(i-n)-(t-i)*(e-l))/((c-n)*(o-e)-(r-l)*(t-i));if(u>=0&&1>=u&&y>=0&&1>=y){if(_collideDebug||p)var f=e+u*(o-e),L=i+u*(t-i);return _collideDebug&&ellipse(f,L,10,10),p?d={x:f,y:L}:!0}return p?d={x:!1,y:!1}:!1},p5.prototype.collideLineRect=function(e,i,o,t,l,n,r,c,p){var d,u,y,f,L;return p?(d=collideLineLine(e,i,o,t,l,n,l,n+c,!0),u=collideLineLine(e,i,o,t,l+r,n,l+r,n+c,!0),y=collideLineLine(e,i,o,t,l,n,l+r,n,!0),f=collideLineLine(e,i,o,t,l,n+c,l+r,n+c,!0),L={left:d,right:u,top:y,bottom:f}):(d=collideLineLine(e,i,o,t,l,n,l,n+c),u=collideLineLine(e,i,o,t,l+r,n,l+r,n+c),y=collideLineLine(e,i,o,t,l,n,l+r,n),f=collideLineLine(e,i,o,t,l,n+c,l+r,n+c)),d||u||y||f?p?L:!0:!1},p5.prototype.collidePointPoly=function(e,i,o){for(var t=!1,l=0,n=0;n<o.length;n++){l=n+1,l==o.length&&(l=0);var r=o[n],c=o[l];(r.y>i&&c.y<i||r.y<i&&c.y>i)&&e<(c.x-r.x)*(i-r.y)/(c.y-r.y)+r.x&&(t=!t)}return t},p5.prototype.collideCirclePoly=function(e,i,o,t,l){void 0==l&&(l=!1);for(var n=0,r=0;r<t.length;r++){n=r+1,n==t.length&&(n=0);var c=t[r],p=t[n],d=collideLineCircle(c.x,c.y,p.x,p.y,e,i,o);if(d)return!0}if(1==l){var u=collidePointPoly(e,i,t);if(u)return!0}return!1},p5.prototype.collideRectPoly=function(e,i,o,t,l,n){void 0==n&&(n=!1);for(var r=0,c=0;c<l.length;c++){r=c+1,r==l.length&&(r=0);var p=l[c],d=l[r],u=collideLineRect(p.x,p.y,d.x,d.y,e,i,o,t);if(u)return!0;if(1==n){var y=collidePointPoly(e,i,l);if(y)return!0}}return!1},p5.prototype.collideLinePoly=function(e,i,o,t,l){for(var n=0,r=0;r<l.length;r++){n=r+1,n==l.length&&(n=0);var c=l[r].x,p=l[r].y,d=l[n].x,u=l[n].y,y=collideLineLine(e,i,o,t,c,p,d,u);if(y)return!0}return!1},p5.prototype.collidePolyPoly=function(e,i,o){void 0==o&&(o=!1);for(var t=0,l=0;l<e.length;l++){t=l+1,t==e.length&&(t=0);var n=e[l],r=e[t],c=collideLinePoly(n.x,n.y,r.x,r.y,i);if(c)return!0;if(1==o&&(c=collidePointPoly(i[0].x,i[0].y,e)))return!0}return!1},p5.prototype.collidePointTriangle=function(e,i,o,t,l,n,r,c){var p=abs((l-o)*(c-t)-(r-o)*(n-t)),d=abs((o-e)*(n-i)-(l-e)*(t-i)),u=abs((l-e)*(c-i)-(r-e)*(n-i)),y=abs((r-e)*(t-i)-(o-e)*(c-i));return d+u+y==p?!0:!1},p5.prototype.collidePointPoint=function(e,i,o,t,l){return void 0==l&&(l=0),dist(e,i,o,t)<=l?!0:!1};