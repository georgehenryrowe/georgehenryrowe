function preload(){drums=loadSound("../public/sounds/break.mp3"),noise0=loadSound("../public/sounds/pad_flute_select.mp3"),noise1=loadSound("../public/sounds/pad_glow_chord.mp3"),noise2=loadSound("../public/sounds/pad_glow_welcome2.mp3"),noise3=loadSound("../public/sounds/pad_hi_note.mp3"),noise4=loadSound("../public/sounds/pad_up.mp3"),noise5=loadSound("../public/sounds/pad_space_select_01.mp3"),noise6=loadSound("../public/sounds/pad_space_fade_01.mp3"),noise7=loadSound("../public/sounds/pad_glow_welcome2.mp3"),noise8=loadSound("../public/sounds/pad_glow_power_off_01.mp3"),noise9=loadSound("../public/sounds/wavy_1.mp3"),noise10=loadSound("../public/sounds/wavy_2.mp3"),noise11=loadSound("../public/sounds/wavy_3.mp3"),noise12=loadSound("../public/sounds/Synth-SoggyFishstick.mp3"),noise13=loadSound("../public/sounds/Synth-TortoiseOne.mp3"),noise14=loadSound("../public/sounds/Synth-TransistoFunk.mp3"),noise15=loadSound("../public/sounds/Synth-Twinpeakish3.mp3"),noise16=loadSound("../public/sounds/Synth-Wompi.mp3"),noise17=loadSound("../public/sounds/Synth-Xeno.mp3")}function setup(){// if (!!$('#sketch-holder').length) {
var t=createCanvas(windowWidth,windowHeight);t.parent("sketch-holder"),drums.loop();for(var e=0;e<soundArray.length;e++)soundArray[0]=noise0,soundArray[1]=noise1,soundArray[2]=noise2,soundArray[3]=noise3,soundArray[4]=noise4,soundArray[5]=noise5,soundArray[6]=noise6,soundArray[7]=noise7,soundArray[8]=noise8,soundArray[9]=noise9,soundArray[10]=noise10,soundArray[11]=noise11,soundArray[12]=noise12,soundArray[13]=noise13,soundArray[14]=noise14,soundArray[15]=noise15,soundArray[16]=noise16,soundArray[17]=noise17;for(amplitude=new p5.Amplitude,e=0;numRects>e;e++)r=new rectObj(random(width),random(height),random(10,100),random(10,100)),rects.push(r);cir=new circleObj(50)}function draw(){for(var t=amplitude.getLevel(),e=map(t,0,.5,0,300),n=map(mouseY,.1,height,.75,1.5),i=0;i<soundArray.length;i++)soundArray[i].rate(n);for(background(e),i=0;numRects>i;i++)rects[i].disp(),rects[i].collide(cir);// 	// console.log("Hello!");
cir.disp(mouseX,mouseY),textSize(25),text("Sound: "+playSoundNumber,100,100),text("Pitch: "+nfc(n,2),100,140)}function rectObj(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i,this.color=color(random(102,255),random(102,255),random(102,255)),this.hit=!1,this.isCollisioning=!1,this.collide=function(t){this.hit=collideRectCircle(this.x,this.y,this.w,this.h,t.x,t.y,t.dia),this.hit&&!this.isCollisioning&&(this.color=color(0),lives++,soundArray[playSoundNumber].play(),playSoundNumber++,this.isCollisioning=!0,playSoundNumber>17&&(playSoundNumber=0))};var o=random(1,5);this.disp=function(){noStroke(),fill(this.color),this.x+=o,//move to the right!
this.x>width&&(//loop to the left!
this.x=-this.w),rect(this.x,this.y,this.w,this.h)}}function circleObj(t){this.dia=t,this.color=color(random(255),random(255),random(255)),this.x,this.y,this.disp=function(t,e){this.x=t,this.y=e,noStroke(),fill(this.color),ellipse(this.x,this.y,this.dia,this.dia)}}window.Modernizr=function(t,e,n){function i(t){T.cssText=t}function o(t,e){return i(S.join(t+";")+(e||""))}function r(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var i in t)if(T[t[i]]!==n)return"pfx"==e?t[i]:!0;return!1}function u(t,e,i){for(var o in t){var s=e[t[o]];if(s!==n)return i===!1?t[o]:r(s,"function")?s.bind(i||e):s}return!1}function c(t,e,n){var i=t.charAt(0).toUpperCase()+t.substr(1),o=(t+" "+A.join(i+" ")+i).split(" ");return r(e,"string")||r(e,"undefined")?a(o,e):(o=(t+" "+N.join(i+" ")+i).split(" "),u(o,e,n))}function l(){f.input=function(n){for(var i=0,o=n.length;o>i;i++)F[n[i]]=n[i]in b;return F.list&&(F.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),F}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var i,o,r,s=0,a=t.length;a>s;s++)b.setAttribute("type",o=t[s]),i="text"!==b.type,i&&(b.value=x,b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&b.style.WebkitAppearance!==n?(y.appendChild(b),r=e.defaultView,i=r.getComputedStyle&&"textfield"!==r.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,y.removeChild(b)):/^(search|tel)$/.test(o)||(/^(url|email)$/.test(o)?i=b.checkValidity&&b.checkValidity()===!1:/^color$/.test(o)?(y.appendChild(b),y.offsetWidth,i=b.value!=x,y.removeChild(b)):i=b.value!=x)),P[t[s]]=!!i;return P}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var p,h,d="2.5.3",f={},m=!0,y=e.documentElement,g="modernizr",v=e.createElement(g),T=v.style,b=e.createElement("input"),x=":)",_={}.toString,S=" -webkit- -moz- -o- -ms- ".split(" "),w="Webkit Moz O ms",A=w.split(" "),N=w.toLowerCase().split(" "),C={svg:"http://www.w3.org/2000/svg"},k={},P={},F={},E=[],O=E.slice,M=function(t,n,i,o){var r,s,a,u=e.createElement("div"),c=e.body,l=c?c:e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=o?o[i]:g+(i+1),u.appendChild(a);return r=["&#173;","<style>",t,"</style>"].join(""),u.id=g,l.innerHTML+=r,l.appendChild(u),c||(l.style.background="",y.appendChild(l)),s=n(u,t),c?u.parentNode.removeChild(u):l.parentNode.removeChild(l),!!s},D=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e).matches;var i;return M("@media "+e+" { #"+g+" { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),i},L=function(){function t(t,o){o=o||e.createElement(i[t]||"div"),t="on"+t;var s=t in o;return s||(o.setAttribute||(o=e.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(t,""),s=r(o[t],"function"),r(o[t],"undefined")||(o[t]=n),o.removeAttribute(t))),o=null,s}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),R={}.hasOwnProperty;h=r(R,"undefined")||r(R.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return R.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=O.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var r=new o,s=e.apply(r,n.concat(O.call(arguments)));return Object(s)===s?s:r}return e.apply(t,n.concat(O.call(arguments)))};return i});!function(n,i){var o=n.join(""),r=i.length;M(o,function(n,i){for(var o=e.styleSheets[e.styleSheets.length-1],s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"",a=n.childNodes,u={};r--;)u[a[r].id]=a[r];f.touch="ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch||9===(u.touch&&u.touch.offsetTop),f.csstransforms3d=9===(u.csstransforms3d&&u.csstransforms3d.offsetLeft)&&3===u.csstransforms3d.offsetHeight,f.generatedcontent=(u.generatedcontent&&u.generatedcontent.offsetHeight)>=1,f.fontface=/src/i.test(s)&&0===s.indexOf(i.split(" ")[0])},r,i)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",S.join("touch-enabled),("),g,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",S.join("transform-3d),("),g,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',x,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);k.flexbox=function(){return c("flexOrder")},k.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},k.canvastext=function(){return!!f.canvas&&!!r(e.createElement("canvas").getContext("2d").fillText,"function")},k.webgl=function(){try{var i,o=e.createElement("canvas");i=!(!t.WebGLRenderingContext||!o.getContext("experimental-webgl")&&!o.getContext("webgl")),o=n}catch(r){i=!1}return i},k.touch=function(){return f.touch},k.geolocation=function(){return!!navigator.geolocation},k.postmessage=function(){return!!t.postMessage},k.websqldatabase=function(){return!!t.openDatabase},k.indexedDB=function(){return!!c("indexedDB",t)},k.hashchange=function(){return L("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},k.history=function(){return!!t.history&&!!history.pushState},k.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},k.websockets=function(){for(var e=-1,n=A.length;++e<n;)if(t[A[e]+"WebSocket"])return!0;return"WebSocket"in t},k.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),s(T.backgroundColor,"rgba")},k.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),s(T.backgroundColor,"rgba")||s(T.backgroundColor,"hsla")},k.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(T.background)},k.backgroundsize=function(){return c("backgroundSize")},k.borderimage=function(){return c("borderImage")},k.borderradius=function(){return c("borderRadius")},k.boxshadow=function(){return c("boxShadow")},k.textshadow=function(){return""===e.createElement("div").style.textShadow},k.opacity=function(){return o("opacity:.55"),/^0.55$/.test(T.opacity)},k.cssanimations=function(){return c("animationName")},k.csscolumns=function(){return c("columnCount")},k.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((t+"-webkit- ".split(" ").join(e+t)+S.join(n+t)).slice(0,-t.length)),s(T.backgroundImage,"gradient")},k.cssreflections=function(){return c("boxReflect")},k.csstransforms=function(){return!!c("transform")},k.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in y.style&&(t=f.csstransforms3d),t},k.csstransitions=function(){return c("transition")},k.fontface=function(){return f.fontface},k.generatedcontent=function(){return f.generatedcontent},k.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},k.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},k.localstorage=function(){try{return localStorage.setItem(g,g),localStorage.removeItem(g),!0}catch(t){return!1}},k.sessionstorage=function(){try{return sessionStorage.setItem(g,g),sessionStorage.removeItem(g),!0}catch(t){return!1}},k.webworkers=function(){return!!t.Worker},k.applicationcache=function(){return!!t.applicationCache},k.svg=function(){return!!e.createElementNS&&!!e.createElementNS(C.svg,"svg").createSVGRect},k.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==C.svg},k.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(_.call(e.createElementNS(C.svg,"animate")))},k.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(_.call(e.createElementNS(C.svg,"clipPath")))};for(var q in k)h(k,q)&&(p=q.toLowerCase(),f[p]=k[q](),E.push((f[p]?"":"no-")+p));return f.input||l(),f.addTest=function(t,e){if("object"==typeof t)for(var i in t)h(t,i)&&f.addTest(i,t[i]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,y.className+=" "+(e?"":"no-")+t,f[t]=e}return f},i(""),v=b=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=l.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e={},n=t.createElement,o=t.createDocumentFragment,r=o();t.createElement=function(t){var i=(e[t]||(e[t]=n(t))).cloneNode();return l.shivMethods&&i.canHaveChildren&&!c.test(t)?r.appendChild(i):i},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e[t]=n(t),r.createElement(t),'c("'+t+'")'})+");return n}")(l,r)}function r(t){var e;return t.documentShived?t:(l.shivCSS&&!s&&(e=!!n(t,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),a||(e=!o(t)),e&&(t.documentShived=e),t)}var s,a,u=t.html5||{},c=/^<|^(?:button|form|map|select|textarea)$/i;!function(){var t=e.createElement("a");t.innerHTML="<xyz></xyz>",s="hidden"in t,a=1==t.childNodes.length||function(){try{e.createElement("a")}catch(t){return!0}var n=e.createDocumentFragment();return"undefined"==typeof n.cloneNode||"undefined"==typeof n.createDocumentFragment||"undefined"==typeof n.createElement}()}();var l={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:r};t.html5=l,r(e)}(this,e),f._version=d,f._prefixes=S,f._domPrefixes=N,f._cssomPrefixes=A,f.mq=D,f.hasEvent=L,f.testProp=function(t){return a([t])},f.testAllProps=c,f.testStyles=M,f.prefixed=function(t,e,n){return e?c(t,e,n):c(t,"pfx")},y.className=y.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+E.join(" "):""),f}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==y.call(t)}function o(t){return"string"==typeof t}function r(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=g.shift();v=1,t?t.t?f(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):v=0}function u(t,n,i,o,r,u,c){function l(e){if(!d&&s(p.readyState)&&(T.r=d=1,!v&&a(),p.onload=p.onreadystatechange=null,e)){"img"!=t&&f(function(){x.removeChild(p)},50);for(var i in N[n])N[n].hasOwnProperty(i)&&N[n][i].onload()}}var c=c||h.errorTimeout,p={},d=0,y=0,T={t:i,s:n,e:r,a:u,x:c};1===N[n]&&(y=1,N[n]=[],p=e.createElement(t)),"object"==t?p.data=n:(p.src=n,p.type=t),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){l.call(this,y)},g.splice(o,0,T),"img"!=t&&(y||2===N[n]?(x.insertBefore(p,b?null:m),f(l,c)):N[n].push(p))}function c(t,e,n,i,r){return v=0,e=e||"j",o(t)?u("c"==e?S:_,t,e,this.i++,n,i,r):(g.splice(this.i++,0,t),1==g.length&&a()),this}function l(){var t=h;return t.loader={load:c,i:0},t}var p,h,d=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],y={}.toString,g=[],v=0,T="MozAppearance"in d.style,b=T&&!!e.createRange().compareNode,x=b?d:m.parentNode,d=t.opera&&"[object Opera]"==y.call(t.opera),d=!!e.attachEvent&&!d,_=T?"object":d?"script":"img",S=d?"script":_,w=Array.isArray||function(t){return"[object Array]"==y.call(t)},A=[],N={},C={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,n,i,t=t.split("!"),o=A.length,r=t.pop(),s=t.length,r={url:r,origUrl:r,prefixes:t};for(n=0;s>n;n++)i=t[n].split("="),(e=C[i.shift()])&&(r=e(r,i));for(n=0;o>n;n++)r=A[n](r);return r}function s(t,o,r,s,u){var c=e(t),p=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(o&&(o=i(o)?o:o[t]||o[s]||o[t.split("/").pop().split("?")[0]]||a),c.instead?c.instead(t,o,r,s,u):(N[c.url]?c.noexec=!0:N[c.url]=1,r.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(i(o)||i(p))&&r.load(function(){l(),o&&o(c.origUrl,u,s),p&&p(c.origUrl,u,s),N[c.url]=2})))}function u(t,e){function n(t,n){if(t){if(o(t))n||(p=function(){var t=[].slice.call(arguments);h.apply(this,t),d()}),s(t,p,e,0,c);else if(Object(t)===t)for(u in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(u)&&(!n&&!--a&&(i(p)?p=function(){var t=[].slice.call(arguments);h.apply(this,t),d()}:p[u]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),d()}}(h[u])),s(t[u],p,e,u,c))}else!n&&d()}var a,u,c=!!t.test,l=t.load||t.both,p=t.callback||r,h=p,d=t.complete||r;n(c?t.yep:t.nope,!!l),l&&n(l)}var c,p,d=this.yepnope.loader;if(o(t))s(t,0,d,0);else if(w(t))for(c=0;c<t.length;c++)p=t[c],o(p)?s(p,0,d,0):w(p)?h(p):Object(p)===p&&u(p,d);else Object(t)===t&&u(t,d)},h.addPrefix=function(t,e){C[t]=e},h.addFilter=function(t){A.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",p=function(){e.removeEventListener("DOMContentLoaded",p,0),e.readyState="complete"},0)),t.yepnope=l(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,i,o,u,c){var l,p,d=e.createElement("script"),o=o||h.errorTimeout;d.src=t;for(p in i)d.setAttribute(p,i[p]);n=c?a:n||r,d.onreadystatechange=d.onload=function(){!l&&s(d.readyState)&&(l=1,n(),d.onload=d.onreadystatechange=null)},f(function(){l||(l=1,n(1))},o),u?d.onload():m.parentNode.insertBefore(d,m)},t.yepnope.injectCss=function(t,n,i,o,s,u){var c,o=e.createElement("link"),n=u?a:n||r;o.href=t,o.rel="stylesheet",o.type="text/css";for(c in i)o.setAttribute(c,i[c]);s||(m.parentNode.insertBefore(o,m),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},/*! jQuery v1.7.1 jquery.com | jquery.org/license */
function(t,e){function n(t){return R.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}function i(t){if(!bn[t]){var e=M.body,n=R("<"+t+">").appendTo(e),i=n.css("display");n.remove(),("none"===i||""===i)&&(yn||(yn=M.createElement("iframe"),yn.frameBorder=yn.width=yn.height=0),e.appendChild(yn),gn&&yn.createElement||(gn=(yn.contentWindow||yn.contentDocument).document,gn.write(("CSS1Compat"===M.compatMode?"<!doctype html>":"")+"<html><body>"),gn.close()),n=gn.createElement(t),gn.body.appendChild(n),i=R.css(n,"display"),e.removeChild(yn)),bn[t]=i}return bn[t]}function o(t,e){var n={};return R.each(Sn.concat.apply([],Sn.slice(0,e)),function(){n[this]=t}),n}function r(){Tn=e}function s(){return setTimeout(r,0),Tn=R.now()}function a(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function u(){try{return new t.XMLHttpRequest}catch(e){}}function c(t,n){t.dataFilter&&(n=t.dataFilter(n,t.dataType));var i,o,r,s,a,u,c,l,p=t.dataTypes,h={},d=p.length,f=p[0];for(i=1;d>i;i++){if(1===i)for(o in t.converters)"string"==typeof o&&(h[o.toLowerCase()]=t.converters[o]);if(s=f,f=p[i],"*"===f)f=s;else if("*"!==s&&s!==f){if(a=s+" "+f,u=h[a]||h["* "+f],!u){l=e;for(c in h)if(r=c.split(" "),(r[0]===s||"*"===r[0])&&(l=h[r[1]+" "+f])){c=h[c],c===!0?u=l:l===!0&&(u=c);break}}!u&&!l&&R.error("No conversion from "+a.replace(" "," to ")),u!==!0&&(n=u?u(n):l(c(n)))}}return n}function l(t,n,i){var o,r,s,a,u=t.contents,c=t.dataTypes,l=t.responseFields;for(r in l)r in i&&(n[l[r]]=i[r]);for(;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("content-type"));if(o)for(r in u)if(u[r]&&u[r].test(o)){c.unshift(r);break}if(c[0]in i)s=c[0];else{for(r in i){if(!c[0]||t.converters[r+" "+c[0]]){s=r;break}a||(a=r)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function p(t,e,n,i){if(R.isArray(e))R.each(e,function(e,o){n||Ue.test(t)?i(t,o):p(t+"["+("object"==typeof o||R.isArray(o)?e:"")+"]",o,n,i)});else if(n||null==e||"object"!=typeof e)i(t,e);else for(var o in e)p(t+"["+o+"]",e[o],n,i)}function h(t,n){var i,o,r=R.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((r[i]?t:o||(o={}))[i]=n[i]);o&&R.extend(!0,t,o)}function d(t,n,i,o,r,s){r=r||n.dataTypes[0],s=s||{},s[r]=!0;for(var a,u=t[r],c=0,l=u?u.length:0,p=t===an;l>c&&(p||!a);c++)a=u[c](n,i,o),"string"==typeof a&&(!p||s[a]?a=e:(n.dataTypes.unshift(a),a=d(t,n,i,o,a,s)));return(p||!a)&&!s["*"]&&(a=d(t,n,i,o,"*",s)),a}function f(t){return function(e,n){if("string"!=typeof e&&(n=e,e="*"),R.isFunction(n))for(var i,o,r,s=e.toLowerCase().split(nn),a=0,u=s.length;u>a;a++)i=s[a],r=/^\+/.test(i),r&&(i=i.substr(1)||"*"),o=t[i]=t[i]||[],o[r?"unshift":"push"](n)}}function m(t,e,n){var i="width"===e?t.offsetWidth:t.offsetHeight,o="width"===e?Ve:Ie,r=0,s=o.length;if(i>0){if("border"!==n)for(;s>r;r++)n||(i-=parseFloat(R.css(t,"padding"+o[r]))||0),"margin"===n?i+=parseFloat(R.css(t,n+o[r]))||0:i-=parseFloat(R.css(t,"border"+o[r]+"Width"))||0;return i+"px"}if(i=Fe(t,e,e),(0>i||null==i)&&(i=t.style[e]||0),i=parseFloat(i)||0,n)for(;s>r;r++)i+=parseFloat(R.css(t,"padding"+o[r]))||0,"padding"!==n&&(i+=parseFloat(R.css(t,"border"+o[r]+"Width"))||0),"margin"===n&&(i+=parseFloat(R.css(t,n+o[r]))||0);return i+"px"}function y(t,e){e.src?R.ajax({url:e.src,async:!1,dataType:"script"}):R.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ce,"/*$0*/")),e.parentNode&&e.parentNode.removeChild(e)}function g(t){var e=M.createElement("div");return Pe.appendChild(e),e.innerHTML=t.outerHTML,e.firstChild}function v(t){var e=(t.nodeName||"").toLowerCase();"input"===e?T(t):"script"!==e&&"undefined"!=typeof t.getElementsByTagName&&R.grep(t.getElementsByTagName("input"),T)}function T(t){("checkbox"===t.type||"radio"===t.type)&&(t.defaultChecked=t.checked)}function b(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function x(t,e){var n;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),n=e.nodeName.toLowerCase(),"object"===n?e.outerHTML=t.outerHTML:"input"!==n||"checkbox"!==t.type&&"radio"!==t.type?"option"===n?e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue):(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.removeAttribute(R.expando))}function _(t,e){if(1===e.nodeType&&R.hasData(t)){var n,i,o,r=R._data(t),s=R._data(e,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)R.event.add(e,n+(a[n][i].namespace?".":"")+a[n][i].namespace,a[n][i],a[n][i].data)}s.data&&(s.data=R.extend({},s.data))}}function S(t){return R.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function w(t){var e=me.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function A(t,e,n){if(e=e||0,R.isFunction(e))return R.grep(t,function(t,i){var o=!!e.call(t,i,t);return o===n});if(e.nodeType)return R.grep(t,function(t){return t===e===n});if("string"==typeof e){var i=R.grep(t,function(t){return 1===t.nodeType});if(pe.test(e))return R.filter(e,i,!n);e=R.filter(e,i)}return R.grep(t,function(t){return R.inArray(t,e)>=0===n})}function N(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function C(){return!0}function k(){return!1}function P(t,e,n){var i=e+"defer",o=e+"queue",r=e+"mark",s=R._data(t,i);!(!s||"queue"!==n&&R._data(t,o)||"mark"!==n&&R._data(t,r)||!setTimeout(function(){!R._data(t,o)&&!R._data(t,r)&&(R.removeData(t,i,!0),s.fire())},0))}function F(t){for(var e in t)if(("data"!==e||!R.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function E(t,n,i){if(i===e&&1===t.nodeType){var o="data-"+n.replace(V,"-$1").toLowerCase();if(i=t.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:R.isNumeric(i)?parseFloat(i):B.test(i)?R.parseJSON(i):i}catch(r){}R.data(t,n,i)}else i=e}return i}function O(t){var e,n,i=q[t]={};for(t=t.split(/\s+/),e=0,n=t.length;n>e;e++)i[t[e]]=!0;return i}var M=t.document,D=t.navigator,L=t.location,R=function(){function n(){if(!a.isReady){try{M.documentElement.doScroll("left")}catch(t){return setTimeout(n,1),void 0}a.ready()}}var i,o,r,s,a=function(t,e){return new a.fn.init(t,e,i)},u=t.jQuery,c=t.$,l=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,p=/\S/,h=/^\s+/,d=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,y=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,g=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,v=/(?:^|:|,)(?:\s*\[)+/g,T=/(webkit)[ \/]([\w.]+)/,b=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,_=/(mozilla)(?:.*? rv:([\w.]+))?/,S=/-([a-z]|[0-9])/gi,w=/^-ms-/,A=function(t,e){return(e+"").toUpperCase()},N=D.userAgent,C=Object.prototype.toString,k=Object.prototype.hasOwnProperty,P=Array.prototype.push,F=Array.prototype.slice,E=String.prototype.trim,O=Array.prototype.indexOf,L={};return a.fn=a.prototype={constructor:a,init:function(t,n,i){var o,r,s,u;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("body"===t&&!n&&M.body)return this.context=M,this[0]=M.body,this.selector=t,this.length=1,this;if("string"==typeof t){if(o="<"!==t.charAt(0)||">"!==t.charAt(t.length-1)||t.length<3?l.exec(t):[null,t,null],o&&(o[1]||!n)){if(o[1])return n=n instanceof a?n[0]:n,u=n?n.ownerDocument||n:M,s=f.exec(t),s?a.isPlainObject(n)?(t=[M.createElement(s[1])],a.fn.attr.call(t,n,!0)):t=[u.createElement(s[1])]:(s=a.buildFragment([o[1]],[u]),t=(s.cacheable?a.clone(s.fragment):s.fragment).childNodes),a.merge(this,t);if(r=M.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return i.find(t);this.length=1,this[0]=r}return this.context=M,this.selector=t,this}return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t)}return a.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),a.makeArray(t,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,n){var i=this.constructor();return a.isArray(t)?P.apply(i,t):a.merge(i,t),i.prevObject=this,i.context=this.context,"find"===e?i.selector=this.selector+(this.selector?" ":"")+n:e&&(i.selector=this.selector+"."+e+"("+n+")"),i},each:function(t,e){return a.each(this,t,e)},ready:function(t){return a.bindReady(),r.add(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(t){return this.pushStack(a.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:P,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var t,n,i,o,r,s,u=arguments[0]||{},c=1,l=arguments.length,p=!1;for("boolean"==typeof u&&(p=u,u=arguments[1]||{},c=2),"object"!=typeof u&&!a.isFunction(u)&&(u={}),l===c&&(u=this,--c);l>c;c++)if(null!=(t=arguments[c]))for(n in t)i=u[n],o=t[n],u!==o&&(p&&o&&(a.isPlainObject(o)||(r=a.isArray(o)))?(r?(r=!1,s=i&&a.isArray(i)?i:[]):s=i&&a.isPlainObject(i)?i:{},u[n]=a.extend(p,s,o)):o!==e&&(u[n]=o));return u},a.extend({noConflict:function(e){return t.$===a&&(t.$=c),e&&t.jQuery===a&&(t.jQuery=u),a},isReady:!1,readyWait:1,holdReady:function(t){t?a.readyWait++:a.ready(!0)},ready:function(t){if(t===!0&&!--a.readyWait||t!==!0&&!a.isReady){if(!M.body)return setTimeout(a.ready,1);if(a.isReady=!0,t!==!0&&--a.readyWait>0)return;r.fireWith(M,[a]),a.fn.trigger&&a(M).trigger("ready").off("ready")}},bindReady:function(){if(!r){if(r=a.Callbacks("once memory"),"complete"===M.readyState)return setTimeout(a.ready,1);if(M.addEventListener)M.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",a.ready,!1);else if(M.attachEvent){M.attachEvent("onreadystatechange",s),t.attachEvent("onload",a.ready);var e=!1;try{e=null==t.frameElement}catch(i){}M.documentElement.doScroll&&e&&n()}}},isFunction:function(t){return"function"===a.type(t)},isArray:Array.isArray||function(t){return"array"===a.type(t)},isWindow:function(t){return t&&"object"==typeof t&&"setInterval"in t},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):L[C.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==a.type(t)||t.nodeType||a.isWindow(t))return!1;try{if(t.constructor&&!k.call(t,"constructor")&&!k.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in t);return i===e||k.call(t,i)},isEmptyObject:function(t){for(var e in t)return!1;return!0},error:function(t){throw new Error(t)},parseJSON:function(e){return"string"==typeof e&&e?(e=a.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):m.test(e.replace(y,"@").replace(g,"]").replace(v,""))?new Function("return "+e)():(a.error("Invalid JSON: "+e),void 0)):null},parseXML:function(n){var i,o;try{t.DOMParser?(o=new DOMParser,i=o.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=e}return(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)&&a.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&p.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(w,"ms-").replace(S,A)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,n,i){var o,r=0,s=t.length,u=s===e||a.isFunction(t);if(i)if(u){for(o in t)if(n.apply(t[o],i)===!1)break}else for(;s>r&&n.apply(t[r++],i)!==!1;);else if(u){for(o in t)if(n.call(t[o],o,t[o])===!1)break}else for(;s>r&&n.call(t[r],r,t[r++])!==!1;);return t},trim:E?function(t){return null==t?"":E.call(t)}:function(t){return null==t?"":(t+"").replace(h,"").replace(d,"")},makeArray:function(t,e){var n=e||[];if(null!=t){var i=a.type(t);null==t.length||"string"===i||"function"===i||"regexp"===i||a.isWindow(t)?P.call(n,t):a.merge(n,t)}return n},inArray:function(t,e,n){var i;if(e){if(O)return O.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=t.length,o=0;if("number"==typeof n.length)for(var r=n.length;r>o;o++)t[i++]=n[o];else for(;n[o]!==e;)t[i++]=n[o++];return t.length=i,t},grep:function(t,e,n){var i,o=[];n=!!n;for(var r=0,s=t.length;s>r;r++)i=!!e(t[r],r),n!==i&&o.push(t[r]);return o},map:function(t,n,i){var o,r,s=[],u=0,c=t.length,l=t instanceof a||c!==e&&"number"==typeof c&&(c>0&&t[0]&&t[c-1]||0===c||a.isArray(t));if(l)for(;c>u;u++)o=n(t[u],u,i),null!=o&&(s[s.length]=o);else for(r in t)o=n(t[r],r,i),null!=o&&(s[s.length]=o);return s.concat.apply([],s)},guid:1,proxy:function(t,n){if("string"==typeof n){var i=t[n];n=t,t=i}if(!a.isFunction(t))return e;var o=F.call(arguments,2),r=function(){return t.apply(n,o.concat(F.call(arguments)))};return r.guid=t.guid=t.guid||r.guid||a.guid++,r},access:function(t,n,i,o,r,s){var u=t.length;if("object"==typeof n){for(var c in n)a.access(t,c,n[c],o,r,i);return t}if(i!==e){o=!s&&o&&a.isFunction(i);for(var l=0;u>l;l++)r(t[l],n,o?i.call(t[l],l,r(t[l],n)):i,s);return t}return u?r(t[0],n):e},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=T.exec(t)||b.exec(t)||x.exec(t)||t.indexOf("compatible")<0&&_.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function t(e,n){return new t.fn.init(e,n)}a.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,i){return i&&i instanceof a&&!(i instanceof t)&&(i=t(i)),a.fn.init.call(this,n,i,e)},t.fn.init.prototype=t.fn;var e=t(M);return t},browser:{}}),a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){L["[object "+e+"]"]=e.toLowerCase()}),o=a.uaMatch(N),o.browser&&(a.browser[o.browser]=!0,a.browser.version=o.version),a.browser.webkit&&(a.browser.safari=!0),p.test(" ")&&(h=/^[\s\xA0]+/,d=/[\s\xA0]+$/),i=a(M),M.addEventListener?s=function(){M.removeEventListener("DOMContentLoaded",s,!1),a.ready()}:M.attachEvent&&(s=function(){"complete"===M.readyState&&(M.detachEvent("onreadystatechange",s),a.ready())}),a}(),q={};R.Callbacks=function(t){t=t?q[t]||O(t):{};var n,i,o,r,s,a=[],u=[],c=function(e){var n,i,o,r;for(n=0,i=e.length;i>n;n++)o=e[n],r=R.type(o),"array"===r?c(o):"function"===r&&(!t.unique||!p.has(o))&&a.push(o)},l=function(e,c){for(c=c||[],n=!t.memory||[e,c],i=!0,s=o||0,o=0,r=a.length;a&&r>s;s++)if(a[s].apply(e,c)===!1&&t.stopOnFalse){n=!0;break}i=!1,a&&(t.once?n===!0?p.disable():a=[]:u&&u.length&&(n=u.shift(),p.fireWith(n[0],n[1])))},p={add:function(){if(a){var t=a.length;c(arguments),i?r=a.length:n&&n!==!0&&(o=t,l(n[0],n[1]))}return this},remove:function(){if(a)for(var e=arguments,n=0,o=e.length;o>n;n++)for(var u=0;u<a.length&&(e[n]!==a[u]||(i&&r>=u&&(r--,s>=u&&s--),a.splice(u--,1),!t.unique));u++);return this},has:function(t){if(a)for(var e=0,n=a.length;n>e;e++)if(t===a[e])return!0;return!1},empty:function(){return a=[],this},disable:function(){return a=u=n=e,this},disabled:function(){return!a},lock:function(){return u=e,(!n||n===!0)&&p.disable(),this},locked:function(){return!u},fireWith:function(e,o){return u&&(i?t.once||u.push([e,o]):(!t.once||!n)&&l(e,o)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p};var j=[].slice;R.extend({Deferred:function(t){var e,n=R.Callbacks("once memory"),i=R.Callbacks("once memory"),o=R.Callbacks("memory"),r="pending",s={resolve:n,reject:i,notify:o},a={done:n.add,fail:i.add,progress:o.add,state:function(){return r},isResolved:n.fired,isRejected:i.fired,then:function(t,e,n){return u.done(t).fail(e).progress(n),this},always:function(){return u.done.apply(u,arguments).fail.apply(u,arguments),this},pipe:function(t,e,n){return R.Deferred(function(i){R.each({done:[t,"resolve"],fail:[e,"reject"],progress:[n,"notify"]},function(t,e){var n,o=e[0],r=e[1];R.isFunction(o)?u[t](function(){n=o.apply(this,arguments),n&&R.isFunction(n.promise)?n.promise().then(i.resolve,i.reject,i.notify):i[r+"With"](this===u?i:this,[n])}):u[t](i[r])})}).promise()},promise:function(t){if(null==t)t=a;else for(var e in a)t[e]=a[e];return t}},u=a.promise({});for(e in s)u[e]=s[e].fire,u[e+"With"]=s[e].fireWith;return u.done(function(){r="resolved"},i.disable,o.lock).fail(function(){r="rejected"},n.disable,o.lock),t&&t.call(u,u),u},when:function(t){function e(t){return function(e){s[t]=arguments.length>1?j.call(arguments,0):e,u.notifyWith(c,s)}}function n(t){return function(e){i[t]=arguments.length>1?j.call(arguments,0):e,--a||u.resolveWith(u,i)}}var i=j.call(arguments,0),o=0,r=i.length,s=Array(r),a=r,u=1>=r&&t&&R.isFunction(t.promise)?t:R.Deferred(),c=u.promise();if(r>1){for(;r>o;o++)i[o]&&i[o].promise&&R.isFunction(i[o].promise)?i[o].promise().then(n(o),u.reject,e(o)):--a;a||u.resolveWith(u,i)}else u!==t&&u.resolveWith(u,r?[t]:[]);return c}}),R.support=function(){{var e,n,i,o,r,s,a,u,c,l,p,h,d=M.createElement("div");M.documentElement}if(d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!n.length||!i)return{};o=M.createElement("select"),r=o.appendChild(M.createElement("option")),s=d.getElementsByTagName("input")[0],e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:r.selected,getSetAttribute:"t"!==d.className,enctype:!!M.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==M.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},s.checked=!0,e.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!r.disabled;try{delete d.test}catch(f){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),s=M.createElement("input"),s.value="t",s.setAttribute("type","radio"),e.radioValue="t"===s.value,s.setAttribute("checked","checked"),d.appendChild(s),u=M.createDocumentFragment(),u.appendChild(d.lastChild),e.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=s.checked,u.removeChild(s),u.appendChild(d),d.innerHTML="",t.getComputedStyle&&(a=M.createElement("div"),a.style.width="0",a.style.marginRight="0",d.style.width="2px",d.appendChild(a),e.reliableMarginRight=0===(parseInt((t.getComputedStyle(a,null)||{marginRight:0}).marginRight,10)||0)),d.attachEvent)for(p in{submit:1,change:1,focusin:1})l="on"+p,h=l in d,h||(d.setAttribute(l,"return;"),h="function"==typeof d[l]),e[p+"Bubbles"]=h;return u.removeChild(d),u=o=r=a=d=s=null,R(function(){var t,n,i,o,r,s,a,u,l,p,f=M.getElementsByTagName("body")[0];!f||(s=1,a="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",u="visibility:hidden;border:0;",l="style='"+a+"border:5px solid #000;padding:0;'",p="<div "+l+"><div></div></div><table "+l+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",t=M.createElement("div"),t.style.cssText=u+"width:0;height:0;position:static;top:0;margin-top:"+s+"px",f.insertBefore(t,f.firstChild),d=M.createElement("div"),t.appendChild(d),d.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",c=d.getElementsByTagName("td"),h=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",e.reliableHiddenOffsets=h&&0===c[0].offsetHeight,d.innerHTML="",d.style.width=d.style.paddingLeft="1px",R.boxModel=e.boxModel=2===d.offsetWidth,"undefined"!=typeof d.style.zoom&&(d.style.display="inline",d.style.zoom=1,e.inlineBlockNeedsLayout=2===d.offsetWidth,d.style.display="",d.innerHTML="<div style='width:4px;'></div>",e.shrinkWrapBlocks=2!==d.offsetWidth),d.style.cssText=a+u,d.innerHTML=p,n=d.firstChild,i=n.firstChild,o=n.nextSibling.firstChild.firstChild,r={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},i.style.position="fixed",i.style.top="20px",r.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",n.style.overflow="hidden",n.style.position="relative",r.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,r.doesNotIncludeMarginInBodyOffset=f.offsetTop!==s,f.removeChild(t),d=t=null,R.extend(e,r))}),e}();var B=/^(?:\{.*\}|\[.*\])$/,V=/([A-Z])/g;R.extend({cache:{},uuid:0,expando:"jQuery"+(R.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?R.cache[t[R.expando]]:t[R.expando],!!t&&!F(t)},data:function(t,n,i,o){if(R.acceptData(t)){var r,s,a,u=R.expando,c="string"==typeof n,l=t.nodeType,p=l?R.cache:t,h=l?t[u]:t[u]&&u,d="events"===n;if(!(h&&p[h]&&(d||o||p[h].data)||!c||i!==e))return;return h||(l?t[u]=h=++R.uuid:h=u),p[h]||(p[h]={},l||(p[h].toJSON=R.noop)),("object"==typeof n||"function"==typeof n)&&(o?p[h]=R.extend(p[h],n):p[h].data=R.extend(p[h].data,n)),r=s=p[h],o||(s.data||(s.data={}),s=s.data),i!==e&&(s[R.camelCase(n)]=i),d&&!s[n]?r.events:(c?(a=s[n],null==a&&(a=s[R.camelCase(n)])):a=s,a)}},removeData:function(t,e,n){if(R.acceptData(t)){var i,o,r,s=R.expando,a=t.nodeType,u=a?R.cache:t,c=a?t[s]:s;if(!u[c])return;if(e&&(i=n?u[c]:u[c].data)){R.isArray(e)||(e in i?e=[e]:(e=R.camelCase(e),e=e in i?[e]:e.split(" ")));for(o=0,r=e.length;r>o;o++)delete i[e[o]];if(!(n?F:R.isEmptyObject)(i))return}if(!n&&(delete u[c].data,!F(u[c])))return;R.support.deleteExpando||!u.setInterval?delete u[c]:u[c]=null,a&&(R.support.deleteExpando?delete t[s]:t.removeAttribute?t.removeAttribute(s):t[s]=null)}},_data:function(t,e,n){return R.data(t,e,n,!0)},acceptData:function(t){if(t.nodeName){var e=R.noData[t.nodeName.toLowerCase()];if(e)return e!==!0&&t.getAttribute("classid")===e}return!0}}),R.fn.extend({data:function(t,n){var i,o,r,s=null;if("undefined"==typeof t){if(this.length&&(s=R.data(this[0]),1===this[0].nodeType&&!R._data(this[0],"parsedAttrs"))){o=this[0].attributes;for(var a=0,u=o.length;u>a;a++)r=o[a].name,0===r.indexOf("data-")&&(r=R.camelCase(r.substring(5)),E(this[0],r,s[r]));R._data(this[0],"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){R.data(this,t)}):(i=t.split("."),i[1]=i[1]?"."+i[1]:"",n===e?(s=this.triggerHandler("getData"+i[1]+"!",[i[0]]),s===e&&this.length&&(s=R.data(this[0],t),s=E(this[0],t,s)),s===e&&i[1]?this.data(i[0]):s):this.each(function(){var e=R(this),o=[i[0],n];e.triggerHandler("setData"+i[1]+"!",o),R.data(this,t,n),e.triggerHandler("changeData"+i[1]+"!",o)}))},removeData:function(t){return this.each(function(){R.removeData(this,t)})}}),R.extend({_mark:function(t,e){t&&(e=(e||"fx")+"mark",R._data(t,e,(R._data(t,e)||0)+1))},_unmark:function(t,e,n){if(t!==!0&&(n=e,e=t,t=!1),e){n=n||"fx";var i=n+"mark",o=t?0:(R._data(e,i)||1)-1;o?R._data(e,i,o):(R.removeData(e,i,!0),P(e,n,"mark"))}},queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=R._data(t,e),n&&(!i||R.isArray(n)?i=R._data(t,e,R.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=R.queue(t,e),i=n.shift(),o={};"inprogress"===i&&(i=n.shift()),i&&("fx"===e&&n.unshift("inprogress"),R._data(t,e+".run",o),i.call(t,function(){R.dequeue(t,e)},o)),n.length||(R.removeData(t,e+"queue "+e+".run",!0),P(t,e,"queue"))}}),R.fn.extend({queue:function(t,n){return"string"!=typeof t&&(n=t,t="fx"),n===e?R.queue(this[0],t):this.each(function(){var e=R.queue(this,t,n);"fx"===t&&"inprogress"!==e[0]&&R.dequeue(this,t)})},dequeue:function(t){return this.each(function(){R.dequeue(this,t)})},delay:function(t,e){return t=R.fx?R.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){function i(){--u||r.resolveWith(s,[s])}"string"!=typeof t&&(n=t,t=e),t=t||"fx";for(var o,r=R.Deferred(),s=this,a=s.length,u=1,c=t+"defer",l=t+"queue",p=t+"mark";a--;)(o=R.data(s[a],c,e,!0)||(R.data(s[a],l,e,!0)||R.data(s[a],p,e,!0))&&R.data(s[a],c,R.Callbacks("once memory"),!0))&&(u++,o.add(i));return i(),r.promise()}});var I,H,G,W=/[\n\t\r]/g,U=/\s+/,$=/\r/g,z=/^(?:button|input)$/i,X=/^(?:button|input|object|select|textarea)$/i,Q=/^a(?:rea)?$/i,J=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Y=R.support.getSetAttribute;R.fn.extend({attr:function(t,e){return R.access(this,t,e,!0,R.attr)},removeAttr:function(t){return this.each(function(){R.removeAttr(this,t)})},prop:function(t,e){return R.access(this,t,e,!0,R.prop)},removeProp:function(t){return t=R.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,o,r,s,a;if(R.isFunction(t))return this.each(function(e){R(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(U),n=0,i=this.length;i>n;n++)if(o=this[n],1===o.nodeType)if(o.className||1!==e.length){for(r=" "+o.className+" ",s=0,a=e.length;a>s;s++)~r.indexOf(" "+e[s]+" ")||(r+=e[s]+" ");o.className=R.trim(r)}else o.className=t;return this},removeClass:function(t){var n,i,o,r,s,a,u;if(R.isFunction(t))return this.each(function(e){R(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(n=(t||"").split(U),i=0,o=this.length;o>i;i++)if(r=this[i],1===r.nodeType&&r.className)if(t){for(s=(" "+r.className+" ").replace(W," "),a=0,u=n.length;u>a;a++)s=s.replace(" "+n[a]+" "," ");r.className=R.trim(s)}else r.className="";return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return R.isFunction(t)?this.each(function(n){R(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var o,r=0,s=R(this),a=e,u=t.split(U);o=u[r++];)a=i?a:!s.hasClass(o),s[a?"addClass":"removeClass"](o);else("undefined"===n||"boolean"===n)&&(this.className&&R._data(this,"__className__",this.className),this.className=this.className||t===!1?"":R._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(e)>-1)return!0;return!1},val:function(t){var n,i,o,r=this[0];return arguments.length?(o=R.isFunction(t),this.each(function(i){var r,s=R(this);1===this.nodeType&&(r=o?t.call(this,i,s.val()):t,null==r?r="":"number"==typeof r?r+="":R.isArray(r)&&(r=R.map(r,function(t){return null==t?"":t+""})),n=R.valHooks[this.nodeName.toLowerCase()]||R.valHooks[this.type],n&&"set"in n&&n.set(this,r,"value")!==e||(this.value=r))})):r?(n=R.valHooks[r.nodeName.toLowerCase()]||R.valHooks[r.type],n&&"get"in n&&(i=n.get(r,"value"))!==e?i:(i=r.value,"string"==typeof i?i.replace($,""):null==i?"":i)):void 0}}),R.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,n,i,o,r=t.selectedIndex,s=[],a=t.options,u="select-one"===t.type;if(0>r)return null;for(n=u?r:0,i=u?r+1:a.length;i>n;n++)if(o=a[n],!(!o.selected||(R.support.optDisabled?o.disabled:null!==o.getAttribute("disabled"))||o.parentNode.disabled&&R.nodeName(o.parentNode,"optgroup"))){if(e=R(o).val(),u)return e;s.push(e)}return u&&!s.length&&a.length?R(a[r]).val():s},set:function(t,e){var n=R.makeArray(e);return R(t).find("option").each(function(){this.selected=R.inArray(R(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,n,i,o){var r,s,a,u=t.nodeType;return t&&3!==u&&8!==u&&2!==u?o&&n in R.attrFn?R(t)[n](i):"undefined"==typeof t.getAttribute?R.prop(t,n,i):(a=1!==u||!R.isXMLDoc(t),a&&(n=n.toLowerCase(),s=R.attrHooks[n]||(J.test(n)?H:I)),i!==e?null===i?(R.removeAttr(t,n),void 0):s&&"set"in s&&a&&(r=s.set(t,i,n))!==e?r:(t.setAttribute(n,""+i),i):s&&"get"in s&&a&&null!==(r=s.get(t,n))?r:(r=t.getAttribute(n),null===r?e:r)):void 0},removeAttr:function(t,e){var n,i,o,r,s=0;if(e&&1===t.nodeType)for(i=e.toLowerCase().split(U),r=i.length;r>s;s++)o=i[s],o&&(n=R.propFix[o]||o,R.attr(t,o,""),t.removeAttribute(Y?o:n),J.test(o)&&n in t&&(t[n]=!1))},attrHooks:{type:{set:function(t,e){if(z.test(t.nodeName)&&t.parentNode)R.error("type property can't be changed");else if(!R.support.radioValue&&"radio"===e&&R.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}},value:{get:function(t,e){return I&&R.nodeName(t,"button")?I.get(t,e):e in t?t.value:null},set:function(t,e,n){return I&&R.nodeName(t,"button")?I.set(t,e,n):(t.value=e,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,n,i){var o,r,s,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(s=1!==a||!R.isXMLDoc(t),s&&(n=R.propFix[n]||n,r=R.propHooks[n]),i!==e?r&&"set"in r&&(o=r.set(t,i,n))!==e?o:t[n]=i:r&&"get"in r&&null!==(o=r.get(t,n))?o:t[n]):void 0},propHooks:{tabIndex:{get:function(t){var n=t.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):X.test(t.nodeName)||Q.test(t.nodeName)&&t.href?0:e}}}}),R.attrHooks.tabindex=R.propHooks.tabIndex,H={get:function(t,n){var i,o=R.prop(t,n);return o===!0||"boolean"!=typeof o&&(i=t.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():e},set:function(t,e,n){var i;return e===!1?R.removeAttr(t,n):(i=R.propFix[n]||n,i in t&&(t[i]=!0),t.setAttribute(n,n.toLowerCase())),n}},Y||(G={name:!0,id:!0},I=R.valHooks.button={get:function(t,n){var i;return i=t.getAttributeNode(n),i&&(G[n]?""!==i.nodeValue:i.specified)?i.nodeValue:e},set:function(t,e,n){var i=t.getAttributeNode(n);return i||(i=M.createAttribute(n),t.setAttributeNode(i)),i.nodeValue=e+""}},R.attrHooks.tabindex.set=I.set,R.each(["width","height"],function(t,e){R.attrHooks[e]=R.extend(R.attrHooks[e],{set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}})}),R.attrHooks.contenteditable={get:I.get,set:function(t,e,n){""===e&&(e="false"),I.set(t,e,n)}}),R.support.hrefNormalized||R.each(["href","src","width","height"],function(t,n){R.attrHooks[n]=R.extend(R.attrHooks[n],{get:function(t){var i=t.getAttribute(n,2);return null===i?e:i}})}),R.support.style||(R.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),R.support.optSelected||(R.propHooks.selected=R.extend(R.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),R.support.enctype||(R.propFix.enctype="encoding"),R.support.checkOn||R.each(["radio","checkbox"],function(){R.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),R.each(["radio","checkbox"],function(){R.valHooks[this]=R.extend(R.valHooks[this],{set:function(t,e){return R.isArray(e)?t.checked=R.inArray(R(t).val(),e)>=0:void 0}})});var K=/^(?:textarea|input|select)$/i,Z=/^([^\.]*)?(?:\.(.+))?$/,te=/\bhover(\.\S+)?\b/,ee=/^key/,ne=/^(?:mouse|contextmenu)|click/,ie=/^(?:focusinfocus|focusoutblur)$/,oe=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,re=function(t){var e=oe.exec(t);return e&&(e[1]=(e[1]||"").toLowerCase(),e[3]=e[3]&&new RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")),e},se=function(t,e){var n=t.attributes||{};return!(e[1]&&t.nodeName.toLowerCase()!==e[1]||e[2]&&(n.id||{}).value!==e[2]||e[3]&&!e[3].test((n["class"]||{}).value))
},ae=function(t){return R.event.special.hover?t:t.replace(te,"mouseenter$1 mouseleave$1")};R.event={add:function(t,n,i,o,r){var s,a,u,c,l,p,h,d,f,m,y;if(3!==t.nodeType&&8!==t.nodeType&&n&&i&&(s=R._data(t))){for(i.handler&&(f=i,i=f.handler),i.guid||(i.guid=R.guid++),u=s.events,u||(s.events=u={}),a=s.handle,a||(s.handle=a=function(t){return"undefined"==typeof R||t&&R.event.triggered===t.type?e:R.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=R.trim(ae(n)).split(" "),c=0;c<n.length;c++)l=Z.exec(n[c])||[],p=l[1],h=(l[2]||"").split(".").sort(),y=R.event.special[p]||{},p=(r?y.delegateType:y.bindType)||p,y=R.event.special[p]||{},d=R.extend({type:p,origType:l[1],data:o,handler:i,guid:i.guid,selector:r,quick:re(r),namespace:h.join(".")},f),m=u[p],m||(m=u[p]=[],m.delegateCount=0,y.setup&&y.setup.call(t,o,h,a)!==!1||(t.addEventListener?t.addEventListener(p,a,!1):t.attachEvent&&t.attachEvent("on"+p,a))),y.add&&(y.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),r?m.splice(m.delegateCount++,0,d):m.push(d),R.event.global[p]=!0;t=null}},global:{},remove:function(t,e,n,i,o){var r,s,a,u,c,l,p,h,d,f,m,y,g=R.hasData(t)&&R._data(t);if(g&&(h=g.events)){for(e=R.trim(ae(e||"")).split(" "),r=0;r<e.length;r++)if(s=Z.exec(e[r])||[],a=u=s[1],c=s[2],a){for(d=R.event.special[a]||{},a=(i?d.delegateType:d.bindType)||a,m=h[a]||[],l=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=0;p<m.length;p++)y=m[p],!(!o&&u!==y.origType||n&&n.guid!==y.guid||c&&!c.test(y.namespace)||i&&i!==y.selector&&("**"!==i||!y.selector)||(m.splice(p--,1),y.selector&&m.delegateCount--,!d.remove||!d.remove.call(t,y)));0===m.length&&l!==m.length&&((!d.teardown||d.teardown.call(t,c)===!1)&&R.removeEvent(t,a,g.handle),delete h[a])}else for(a in h)R.event.remove(t,a+e[r],n,i,!0);R.isEmptyObject(h)&&(f=g.handle,f&&(f.elem=null),R.removeData(t,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,o,r){if(!o||3!==o.nodeType&&8!==o.nodeType){var s,a,u,c,l,p,h,d,f,m,y=n.type||n,g=[];if(ie.test(y+R.event.triggered))return;if(y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(g=y.split("."),y=g.shift(),g.sort()),(!o||R.event.customEvent[y])&&!R.event.global[y])return;if(n="object"==typeof n?n[R.expando]?n:new R.Event(y,n):new R.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=y.indexOf(":")<0?"on"+y:"",!o){s=R.cache;for(u in s)s[u].events&&s[u].events[y]&&R.event.trigger(n,i,s[u].handle.elem,!0);return}if(n.result=e,n.target||(n.target=o),i=null!=i?R.makeArray(i):[],i.unshift(n),h=R.event.special[y]||{},h.trigger&&h.trigger.apply(o,i)===!1)return;if(f=[[o,h.bindType||y]],!r&&!h.noBubble&&!R.isWindow(o)){for(m=h.delegateType||y,c=ie.test(m+y)?o:o.parentNode,l=null;c;c=c.parentNode)f.push([c,m]),l=c;l&&l===o.ownerDocument&&f.push([l.defaultView||l.parentWindow||t,m])}for(u=0;u<f.length&&!n.isPropagationStopped();u++)c=f[u][0],n.type=f[u][1],d=(R._data(c,"events")||{})[n.type]&&R._data(c,"handle"),d&&d.apply(c,i),d=p&&c[p],d&&R.acceptData(c)&&d.apply(c,i)===!1&&n.preventDefault();return n.type=y,!(r||n.isDefaultPrevented()||h._default&&h._default.apply(o.ownerDocument,i)!==!1||"click"===y&&R.nodeName(o,"a")||!R.acceptData(o)||!p||!o[y]||("focus"===y||"blur"===y)&&0===n.target.offsetWidth||R.isWindow(o)||(l=o[p],l&&(o[p]=null),R.event.triggered=y,o[y](),R.event.triggered=e,!l||!(o[p]=l))),n.result}},dispatch:function(n){n=R.event.fix(n||t.event);var i,o,r,s,a,u,c,l,p,h,d=(R._data(this,"events")||{})[n.type]||[],f=d.delegateCount,m=[].slice.call(arguments,0),y=!n.exclusive&&!n.namespace,g=[];if(m[0]=n,n.delegateTarget=this,f&&!n.target.disabled&&(!n.button||"click"!==n.type))for(s=R(this),s.context=this.ownerDocument||this,r=n.target;r!=this;r=r.parentNode||this){for(u={},l=[],s[0]=r,i=0;f>i;i++)p=d[i],h=p.selector,u[h]===e&&(u[h]=p.quick?se(r,p.quick):s.is(h)),u[h]&&l.push(p);l.length&&g.push({elem:r,matches:l})}for(d.length>f&&g.push({elem:this,matches:d.slice(f)}),i=0;i<g.length&&!n.isPropagationStopped();i++)for(c=g[i],n.currentTarget=c.elem,o=0;o<c.matches.length&&!n.isImmediatePropagationStopped();o++)p=c.matches[o],(y||!n.namespace&&!p.namespace||n.namespace_re&&n.namespace_re.test(p.namespace))&&(n.data=p.data,n.handleObj=p,a=((R.event.special[p.origType]||{}).handle||p.handler).apply(c.elem,m),a!==e&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,o,r,s=n.button,a=n.fromElement;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||M,o=i.documentElement,r=i.body,t.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?n.toElement:a),!t.which&&s!==e&&(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[R.expando])return t;var n,i,o=t,r=R.event.fixHooks[t.type]||{},s=r.props?this.props.concat(r.props):this.props;for(t=R.Event(o),n=s.length;n;)i=s[--n],t[i]=o[i];return t.target||(t.target=o.srcElement||M),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey===e&&(t.metaKey=t.ctrlKey),r.filter?r.filter(t,o):t},special:{ready:{setup:R.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,n){R.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,n,i){var o=R.extend(new R.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?R.event.trigger(o,null,e):R.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},R.event.handle=R.event.dispatch,R.removeEvent=M.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent&&t.detachEvent("on"+e,n)},R.Event=function(t,e){return this instanceof R.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?C:k):this.type=t,e&&R.extend(this,e),this.timeStamp=t&&t.timeStamp||R.now(),this[R.expando]=!0,void 0):new R.Event(t,e)},R.Event.prototype={preventDefault:function(){this.isDefaultPrevented=C;var t=this.originalEvent;!t||(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=C;var t=this.originalEvent;!t||(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=C,this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k},R.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){R.event.special[t]={delegateType:e,bindType:e,handle:function(t){{var n,i=this,o=t.relatedTarget,r=t.handleObj;r.selector}return(!o||o!==i&&!R.contains(i,o))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),R.support.submitBubbles||(R.event.special.submit={setup:function(){return R.nodeName(this,"form")?!1:(R.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=R.nodeName(n,"input")||R.nodeName(n,"button")?n.form:e;i&&!i._submit_attached&&(R.event.add(i,"submit._submit",function(t){this.parentNode&&!t.isTrigger&&R.event.simulate("submit",this.parentNode,t,!0)}),i._submit_attached=!0)}),void 0)},teardown:function(){return R.nodeName(this,"form")?!1:(R.event.remove(this,"._submit"),void 0)}}),R.support.changeBubbles||(R.event.special.change={setup:function(){return K.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(R.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),R.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1,R.event.simulate("change",this,t,!0))})),!1):(R.event.add(this,"beforeactivate._change",function(t){var e=t.target;K.test(e.nodeName)&&!e._change_attached&&(R.event.add(e,"change._change",function(t){this.parentNode&&!t.isSimulated&&!t.isTrigger&&R.event.simulate("change",this.parentNode,t,!0)}),e._change_attached=!0)}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return R.event.remove(this,"._change"),K.test(this.nodeName)}}),R.support.focusinBubbles||R.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){R.event.simulate(e,t.target,R.event.fix(t),!0)};R.event.special[e]={setup:function(){0===n++&&M.addEventListener(t,i,!0)},teardown:function(){0===--n&&M.removeEventListener(t,i,!0)}}}),R.fn.extend({on:function(t,n,i,o,r){var s,a;if("object"==typeof t){"string"!=typeof n&&(i=n,n=e);for(a in t)this.on(a,n,i,t[a],r);return this}if(null==i&&null==o?(o=n,i=n=e):null==o&&("string"==typeof n?(o=i,i=e):(o=i,i=n,n=e)),o===!1)o=k;else if(!o)return this;return 1===r&&(s=o,o=function(t){return R().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=R.guid++)),this.each(function(){R.event.add(this,t,o,i,n)})},one:function(t,e,n,i){return this.on.call(this,t,e,n,i,1)},off:function(t,n,i){if(t&&t.preventDefault&&t.handleObj){var o=t.handleObj;return R(t.delegateTarget).off(o.namespace?o.type+"."+o.namespace:o.type,o.selector,o.handler),this}if("object"==typeof t){for(var r in t)this.off(r,n,t[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=k),this.each(function(){R.event.remove(this,t,i,n)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,n){return R(this.context).on(t,this.selector,e,n),this},die:function(t,e){return R(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1==arguments.length?this.off(t,"**"):this.off(e,t,n)},trigger:function(t,e){return this.each(function(){R.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?R.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,n=t.guid||R.guid++,i=0,o=function(n){var o=(R._data(this,"lastToggle"+t.guid)||0)%i;return R._data(this,"lastToggle"+t.guid,o+1),n.preventDefault(),e[o].apply(this,arguments)||!1};for(o.guid=n;i<e.length;)e[i++].guid=n;return this.click(o)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),R.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){R.fn[e]=function(t,n){return null==n&&(n=t,t=null),arguments.length>0?this.on(e,null,t,n):this.trigger(e)},R.attrFn&&(R.attrFn[e]=!0),ee.test(e)&&(R.event.fixHooks[e]=R.event.keyHooks),ne.test(e)&&(R.event.fixHooks[e]=R.event.mouseHooks)}),function(){function t(t,e,n,i,r,s){for(var a=0,u=i.length;u>a;a++){var c=i[a];if(c){var l=!1;for(c=c[t];c;){if(c[o]===n){l=i[c.sizset];break}if(1===c.nodeType)if(s||(c[o]=n,c.sizset=a),"string"!=typeof e){if(c===e){l=!0;break}}else if(h.filter(e,[c]).length>0){l=c;break}c=c[t]}i[a]=l}}}function n(t,e,n,i,r,s){for(var a=0,u=i.length;u>a;a++){var c=i[a];if(c){var l=!1;for(c=c[t];c;){if(c[o]===n){l=i[c.sizset];break}if(1===c.nodeType&&!s&&(c[o]=n,c.sizset=a),c.nodeName.toLowerCase()===e){l=c;break}c=c[t]}i[a]=l}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o="sizcache"+(Math.random()+"").replace(".",""),r=0,s=Object.prototype.toString,a=!1,u=!0,c=/\\/g,l=/\r\n/g,p=/\W/;[0,0].sort(function(){return u=!1,0});var h=function(t,e,n,o){n=n||[],e=e||M;var r=e;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return n;var a,u,c,l,p,d,y,g,T=!0,b=h.isXML(e),x=[],S=t;do if(i.exec(""),a=i.exec(S),a&&(S=a[3],x.push(a[1]),a[2])){l=a[3];break}while(a);if(x.length>1&&m.exec(t))if(2===x.length&&f.relative[x[0]])u=_(x[0]+x[1],e,o);else for(u=f.relative[x[0]]?[e]:h(x.shift(),e);x.length;)t=x.shift(),f.relative[t]&&(t+=x.shift()),u=_(t,u,o);else if(!o&&x.length>1&&9===e.nodeType&&!b&&f.match.ID.test(x[0])&&!f.match.ID.test(x[x.length-1])&&(p=h.find(x.shift(),e,b),e=p.expr?h.filter(p.expr,p.set)[0]:p.set[0]),e)for(p=o?{expr:x.pop(),set:v(o)}:h.find(x.pop(),1!==x.length||"~"!==x[0]&&"+"!==x[0]||!e.parentNode?e:e.parentNode,b),u=p.expr?h.filter(p.expr,p.set):p.set,x.length>0?c=v(u):T=!1;x.length;)d=x.pop(),y=d,f.relative[d]?y=x.pop():d="",null==y&&(y=e),f.relative[d](c,y,b);else c=x=[];if(c||(c=u),c||h.error(d||t),"[object Array]"===s.call(c))if(T)if(e&&1===e.nodeType)for(g=0;null!=c[g];g++)c[g]&&(c[g]===!0||1===c[g].nodeType&&h.contains(e,c[g]))&&n.push(u[g]);else for(g=0;null!=c[g];g++)c[g]&&1===c[g].nodeType&&n.push(u[g]);else n.push.apply(n,c);else v(c,n);return l&&(h(l,r,n,o),h.uniqueSort(n)),n};h.uniqueSort=function(t){if(b&&(a=u,t.sort(b),a))for(var e=1;e<t.length;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},h.matches=function(t,e){return h(t,null,null,e)},h.matchesSelector=function(t,e){return h(e,null,null,[t]).length>0},h.find=function(t,e,n){var i,o,r,s,a,u;if(!t)return[];for(o=0,r=f.order.length;r>o;o++)if(a=f.order[o],(s=f.leftMatch[a].exec(t))&&(u=s[1],s.splice(1,1),"\\"!==u.substr(u.length-1)&&(s[1]=(s[1]||"").replace(c,""),i=f.find[a](s,e,n),null!=i))){t=t.replace(f.match[a],"");break}return i||(i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):[]),{set:i,expr:t}},h.filter=function(t,n,i,o){for(var r,s,a,u,c,l,p,d,m,y=t,g=[],v=n,T=n&&n[0]&&h.isXML(n[0]);t&&n.length;){for(a in f.filter)if(null!=(r=f.leftMatch[a].exec(t))&&r[2]){if(l=f.filter[a],p=r[1],s=!1,r.splice(1,1),"\\"===p.substr(p.length-1))continue;if(v===g&&(g=[]),f.preFilter[a])if(r=f.preFilter[a](r,v,i,g,o,T)){if(r===!0)continue}else s=u=!0;if(r)for(d=0;null!=(c=v[d]);d++)c&&(u=l(c,r,d,v),m=o^u,i&&null!=u?m?s=!0:v[d]=!1:m&&(g.push(c),s=!0));if(u!==e){if(i||(v=g),t=t.replace(f.match[a],""),!s)return[];break}}if(t===y){if(null!=s)break;h.error(t)}y=t}return v},h.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};var d=h.getText=function(t){var e,n,i=t.nodeType,o="";if(i){if(1===i||9===i){if("string"==typeof t.textContent)return t.textContent;if("string"==typeof t.innerText)return t.innerText.replace(l,"");for(t=t.firstChild;t;t=t.nextSibling)o+=d(t)}else if(3===i||4===i)return t.nodeValue}else for(e=0;n=t[e];e++)8!==n.nodeType&&(o+=d(n));return o},f=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var n="string"==typeof e,i=n&&!p.test(e),o=n&&!i;i&&(e=e.toLowerCase());for(var r,s=0,a=t.length;a>s;s++)if(r=t[s]){for(;(r=r.previousSibling)&&1!==r.nodeType;);t[s]=o||r&&r.nodeName.toLowerCase()===e?r||!1:r===e}o&&h.filter(e,t,!0)},">":function(t,e){var n,i="string"==typeof e,o=0,r=t.length;if(i&&!p.test(e)){for(e=e.toLowerCase();r>o;o++)if(n=t[o]){var s=n.parentNode;t[o]=s.nodeName.toLowerCase()===e?s:!1}}else{for(;r>o;o++)n=t[o],n&&(t[o]=i?n.parentNode:n.parentNode===e);i&&h.filter(e,t,!0)}},"":function(e,i,o){var s,a=r++,u=t;"string"==typeof i&&!p.test(i)&&(i=i.toLowerCase(),s=i,u=n),u("parentNode",i,a,e,s,o)},"~":function(e,i,o){var s,a=r++,u=t;"string"==typeof i&&!p.test(i)&&(i=i.toLowerCase(),s=i,u=n),u("previousSibling",i,a,e,s,o)}},find:{ID:function(t,e,n){if("undefined"!=typeof e.getElementById&&!n){var i=e.getElementById(t[1]);return i&&i.parentNode?[i]:[]}},NAME:function(t,e){if("undefined"!=typeof e.getElementsByName){for(var n=[],i=e.getElementsByName(t[1]),o=0,r=i.length;r>o;o++)i[o].getAttribute("name")===t[1]&&n.push(i[o]);return 0===n.length?null:n}},TAG:function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t[1]):void 0}},preFilter:{CLASS:function(t,e,n,i,o,r){if(t=" "+t[1].replace(c,"")+" ",r)return t;for(var s,a=0;null!=(s=e[a]);a++)s&&(o^(s.className&&(" "+s.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)?n||i.push(s):n&&(e[a]=!1));return!1},ID:function(t){return t[1].replace(c,"")},TAG:function(t){return t[1].replace(c,"").toLowerCase()},CHILD:function(t){if("nth"===t[1]){t[2]||h.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}else t[2]&&h.error(t[0]);return t[0]=r++,t},ATTR:function(t,e,n,i,o,r){var s=t[1]=t[1].replace(c,"");return!r&&f.attrMap[s]&&(t[1]=f.attrMap[s]),t[4]=(t[4]||t[5]||"").replace(c,""),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,n,o,r){if("not"===t[1]){if(!((i.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var s=h.filter(t[3],e,n,!0^r);return n||o.push.apply(o,s),!1}t[3]=h(t[3],null,null,e)}else if(f.match.POS.test(t[0])||f.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,n){return!!h(n[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),n=t.type;return"input"===t.nodeName.toLowerCase()&&"text"===n&&(e===n||null===e)},radio:function(t){return"input"===t.nodeName.toLowerCase()&&"radio"===t.type},checkbox:function(t){return"input"===t.nodeName.toLowerCase()&&"checkbox"===t.type},file:function(t){return"input"===t.nodeName.toLowerCase()&&"file"===t.type},password:function(t){return"input"===t.nodeName.toLowerCase()&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===t.type},image:function(t){return"input"===t.nodeName.toLowerCase()&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,n,i){return e===i.length-1},even:function(t,e){return e%2===0},odd:function(t,e){return e%2===1},lt:function(t,e,n){return e<n[3]-0},gt:function(t,e,n){return e>n[3]-0},nth:function(t,e,n){return n[3]-0===e},eq:function(t,e,n){return n[3]-0===e}},filter:{PSEUDO:function(t,e,n,i){var o=e[1],r=f.filters[o];if(r)return r(t,n,e,i);if("contains"===o)return(t.textContent||t.innerText||d([t])||"").indexOf(e[3])>=0;if("not"===o){for(var s=e[3],a=0,u=s.length;u>a;a++)if(s[a]===t)return!1;return!0}h.error(o)},CHILD:function(t,e){var n,i,r,s,a,u,c=e[1],l=t;switch(c){case"only":case"first":for(;l=l.previousSibling;)if(1===l.nodeType)return!1;if("first"===c)return!0;l=t;case"last":for(;l=l.nextSibling;)if(1===l.nodeType)return!1;return!0;case"nth":if(n=e[2],i=e[3],1===n&&0===i)return!0;if(r=e[0],s=t.parentNode,s&&(s[o]!==r||!t.nodeIndex)){for(a=0,l=s.firstChild;l;l=l.nextSibling)1===l.nodeType&&(l.nodeIndex=++a);s[o]=r}return u=t.nodeIndex-i,0===n?0===u:u%n===0&&u/n>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var n=e[1],i=h.attr?h.attr(t,n):f.attrHandle[n]?f.attrHandle[n](t):null!=t[n]?t[n]:t.getAttribute(n),o=i+"",r=e[2],s=e[4];return null==i?"!="===r:!r&&h.attr?null!=i:"="===r?o===s:"*="===r?o.indexOf(s)>=0:"~="===r?(" "+o+" ").indexOf(s)>=0:s?"!="===r?o!==s:"^="===r?0===o.indexOf(s):"$="===r?o.substr(o.length-s.length)===s:"|="===r?o===s||o.substr(0,s.length+1)===s+"-":!1:o&&i!==!1},POS:function(t,e,n,i){var o=e[2],r=f.setFilters[o];return r?r(t,n,e,i):void 0}}},m=f.match.POS,y=function(t,e){return"\\"+(e-0+1)};for(var g in f.match)f.match[g]=new RegExp(f.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[g].source.replace(/\\(\d+)/g,y));var v=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(M.documentElement.childNodes,0)[0].nodeType}catch(T){v=function(t,e){var n=0,i=e||[];if("[object Array]"===s.call(t))Array.prototype.push.apply(i,t);else if("number"==typeof t.length)for(var o=t.length;o>n;n++)i.push(t[n]);else for(;t[n];n++)i.push(t[n]);return i}}var b,x;M.documentElement.compareDocumentPosition?b=function(t,e){return t===e?(a=!0,0):t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:1:t.compareDocumentPosition?-1:1}:(b=function(t,e){if(t===e)return a=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var n,i,o=[],r=[],s=t.parentNode,u=e.parentNode,c=s;if(s===u)return x(t,e);if(!s)return-1;if(!u)return 1;for(;c;)o.unshift(c),c=c.parentNode;for(c=u;c;)r.unshift(c),c=c.parentNode;n=o.length,i=r.length;for(var l=0;n>l&&i>l;l++)if(o[l]!==r[l])return x(o[l],r[l]);return l===n?x(t,r[l],-1):x(o[l],e,1)},x=function(t,e,n){if(t===e)return n;for(var i=t.nextSibling;i;){if(i===e)return-1;i=i.nextSibling}return 1}),function(){var t=M.createElement("div"),n="script"+(new Date).getTime(),i=M.documentElement;t.innerHTML="<a name='"+n+"'/>",i.insertBefore(t,i.firstChild),M.getElementById(n)&&(f.find.ID=function(t,n,i){if("undefined"!=typeof n.getElementById&&!i){var o=n.getElementById(t[1]);return o?o.id===t[1]||"undefined"!=typeof o.getAttributeNode&&o.getAttributeNode("id").nodeValue===t[1]?[o]:e:[]}},f.filter.ID=function(t,e){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return 1===t.nodeType&&n&&n.nodeValue===e}),i.removeChild(t),i=t=null}(),function(){var t=M.createElement("div");t.appendChild(M.createComment("")),t.getElementsByTagName("*").length>0&&(f.find.TAG=function(t,e){var n=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var i=[],o=0;n[o];o++)1===n[o].nodeType&&i.push(n[o]);n=i}return n}),t.innerHTML="<a href='#'></a>",t.firstChild&&"undefined"!=typeof t.firstChild.getAttribute&&"#"!==t.firstChild.getAttribute("href")&&(f.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),M.querySelectorAll&&function(){var t=h,e=M.createElement("div"),n="__sizzle__";if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){h=function(e,i,o,r){if(i=i||M,!r&&!h.isXML(i)){var s=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(s&&(1===i.nodeType||9===i.nodeType)){if(s[1])return v(i.getElementsByTagName(e),o);if(s[2]&&f.find.CLASS&&i.getElementsByClassName)return v(i.getElementsByClassName(s[2]),o)}if(9===i.nodeType){if("body"===e&&i.body)return v([i.body],o);if(s&&s[3]){var a=i.getElementById(s[3]);if(!a||!a.parentNode)return v([],o);if(a.id===s[3])return v([a],o)}try{return v(i.querySelectorAll(e),o)}catch(u){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var c=i,l=i.getAttribute("id"),p=l||n,d=i.parentNode,m=/^\s*[+~]/.test(e);l?p=p.replace(/'/g,"\\$&"):i.setAttribute("id",p),m&&d&&(i=i.parentNode);try{if(!m||d)return v(i.querySelectorAll("[id='"+p+"'] "+e),o)}catch(y){}finally{l||c.removeAttribute("id")}}}return t(e,i,o,r)};for(var i in t)h[i]=t[i];e=null}}(),function(){var t=M.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var n=!e.call(M.createElement("div"),"div"),i=!1;try{e.call(M.documentElement,"[test!='']:sizzle")}catch(o){i=!0}h.matchesSelector=function(t,o){if(o=o.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!h.isXML(t))try{if(i||!f.match.PSEUDO.test(o)&&!/!=/.test(o)){var r=e.call(t,o);if(r||!n||t.document&&11!==t.document.nodeType)return r}}catch(s){}return h(o,null,null,[t]).length>0}}}(),function(){var t=M.createElement("div");if(t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length){if(t.lastChild.className="e",1===t.getElementsByClassName("e").length)return;f.order.splice(1,0,"CLASS"),f.find.CLASS=function(t,e,n){return"undefined"==typeof e.getElementsByClassName||n?void 0:e.getElementsByClassName(t[1])},t=null}}(),h.contains=M.documentElement.contains?function(t,e){return t!==e&&(t.contains?t.contains(e):!0)}:M.documentElement.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:function(){return!1},h.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1};var _=function(t,e,n){for(var i,o=[],r="",s=e.nodeType?[e]:e;i=f.match.PSEUDO.exec(t);)r+=i[0],t=t.replace(f.match.PSEUDO,"");t=f.relative[t]?t+"*":t;for(var a=0,u=s.length;u>a;a++)h(t,s[a],o,n);return h.filter(r,o)};h.attr=R.attr,h.selectors.attrMap={},R.find=h,R.expr=h.selectors,R.expr[":"]=R.expr.filters,R.unique=h.uniqueSort,R.text=h.getText,R.isXMLDoc=h.isXML,R.contains=h.contains}();var ue=/Until$/,ce=/^(?:parents|prevUntil|prevAll)/,le=/,/,pe=/^.[^:#\[\.,]*$/,he=Array.prototype.slice,de=R.expr.match.POS,fe={children:!0,contents:!0,next:!0,prev:!0};R.fn.extend({find:function(t){var e,n,i=this;if("string"!=typeof t)return R(t).filter(function(){for(e=0,n=i.length;n>e;e++)if(R.contains(i[e],this))return!0});var o,r,s,a=this.pushStack("","find",t);for(e=0,n=this.length;n>e;e++)if(o=a.length,R.find(t,this[e],a),e>0)for(r=o;r<a.length;r++)for(s=0;o>s;s++)if(a[s]===a[r]){a.splice(r--,1);break}return a},has:function(t){var e=R(t);return this.filter(function(){for(var t=0,n=e.length;n>t;t++)if(R.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(A(this,t,!1),"not",t)},filter:function(t){return this.pushStack(A(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?de.test(t)?R(t,this.context).index(this[0])>=0:R.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var n,i,o=[],r=this[0];if(R.isArray(t)){for(var s=1;r&&r.ownerDocument&&r!==e;){for(n=0;n<t.length;n++)R(r).is(t[n])&&o.push({selector:t[n],elem:r,level:s});r=r.parentNode,s++}return o}var a=de.test(t)||"string"!=typeof t?R(t,e||this.context):0;for(n=0,i=this.length;i>n;n++)for(r=this[n];r;){if(a?a.index(r)>-1:R.find.matchesSelector(r,t)){o.push(r);break}if(r=r.parentNode,!r||!r.ownerDocument||r===e||11===r.nodeType)break}return o=o.length>1?R.unique(o):o,this.pushStack(o,"closest",t)},index:function(t){return t?"string"==typeof t?R.inArray(this[0],R(t)):R.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var n="string"==typeof t?R(t,e):R.makeArray(t&&t.nodeType?[t]:t),i=R.merge(this.get(),n);return this.pushStack(N(n[0])||N(i[0])?i:R.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),R.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return R.dir(t,"parentNode")},parentsUntil:function(t,e,n){return R.dir(t,"parentNode",n)},next:function(t){return R.nth(t,2,"nextSibling")},prev:function(t){return R.nth(t,2,"previousSibling")},nextAll:function(t){return R.dir(t,"nextSibling")},prevAll:function(t){return R.dir(t,"previousSibling")},nextUntil:function(t,e,n){return R.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return R.dir(t,"previousSibling",n)},siblings:function(t){return R.sibling(t.parentNode.firstChild,t)},children:function(t){return R.sibling(t.firstChild)},contents:function(t){return R.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:R.makeArray(t.childNodes)}},function(t,e){R.fn[t]=function(n,i){var o=R.map(this,e,n);return ue.test(t)||(i=n),i&&"string"==typeof i&&(o=R.filter(i,o)),o=this.length>1&&!fe[t]?R.unique(o):o,(this.length>1||le.test(i))&&ce.test(t)&&(o=o.reverse()),this.pushStack(o,t,he.call(arguments).join(","))}}),R.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?R.find.matchesSelector(e[0],t)?[e[0]]:[]:R.find.matches(t,e)},dir:function(t,n,i){for(var o=[],r=t[n];r&&9!==r.nodeType&&(i===e||1!==r.nodeType||!R(r).is(i));)1===r.nodeType&&o.push(r),r=r[n];return o},nth:function(t,e,n){e=e||1;for(var i=0;t&&(1!==t.nodeType||++i!==e);t=t[n]);return t},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var me="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ye=/ jQuery\d+="(?:\d+|null)"/g,ge=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Te=/<([\w:]+)/,be=/<tbody/i,xe=/<|&#?\w+;/,_e=/<(?:script|style)/i,Se=/<(?:script|object|embed|option|style)/i,we=new RegExp("<(?:"+me+")","i"),Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/\/(java|ecma)script/i,Ce=/^\s*<!(?:\[CDATA\[|\-\-)/,ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Pe=w(M);ke.optgroup=ke.option,ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,R.support.htmlSerialize||(ke._default=[1,"div<div>","</div>"]),R.fn.extend({text:function(t){return R.isFunction(t)?this.each(function(e){var n=R(this);n.text(t.call(this,e,n.text()))}):"object"!=typeof t&&t!==e?this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(t)):R.text(this)},wrapAll:function(t){if(R.isFunction(t))return this.each(function(e){R(this).wrapAll(t.call(this,e))});if(this[0]){var e=R(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return R.isFunction(t)?this.each(function(e){R(this).wrapInner(t.call(this,e))}):this.each(function(){var e=R(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=R.isFunction(t);return this.each(function(n){R(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){R.nodeName(this,"body")||R(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)
});if(arguments.length){var t=R.clean(arguments);return t.push.apply(t,this.toArray()),this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=this.pushStack(this,"after",arguments);return t.push.apply(t,R.clean(arguments)),t}},remove:function(t,e){for(var n,i=0;null!=(n=this[i]);i++)(!t||R.filter(t,[n]).length)&&(!e&&1===n.nodeType&&(R.cleanData(n.getElementsByTagName("*")),R.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&R.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return R.clone(this,t,e)})},html:function(t){if(t===e)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(ye,""):null;if("string"!=typeof t||_e.test(t)||!R.support.leadingWhitespace&&ge.test(t)||ke[(Te.exec(t)||["",""])[1].toLowerCase()])R.isFunction(t)?this.each(function(e){var n=R(this);n.html(t.call(this,e,n.html()))}):this.empty().append(t);else{t=t.replace(ve,"<$1></$2>");try{for(var n=0,i=this.length;i>n;n++)1===this[n].nodeType&&(R.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=t)}catch(o){this.empty().append(t)}}return this},replaceWith:function(t){return this[0]&&this[0].parentNode?R.isFunction(t)?this.each(function(e){var n=R(this),i=n.html();n.replaceWith(t.call(this,e,i))}):("string"!=typeof t&&(t=R(t).detach()),this.each(function(){var e=this.nextSibling,n=this.parentNode;R(this).remove(),e?R(e).before(t):R(n).append(t)})):this.length?this.pushStack(R(R.isFunction(t)?t():t),"replaceWith",t):this},detach:function(t){return this.remove(t,!0)},domManip:function(t,n,i){var o,r,s,a,u=t[0],c=[];if(!R.support.checkClone&&3===arguments.length&&"string"==typeof u&&Ae.test(u))return this.each(function(){R(this).domManip(t,n,i,!0)});if(R.isFunction(u))return this.each(function(o){var r=R(this);t[0]=u.call(this,o,n?r.html():e),r.domManip(t,n,i)});if(this[0]){if(a=u&&u.parentNode,o=R.support.parentNode&&a&&11===a.nodeType&&a.childNodes.length===this.length?{fragment:a}:R.buildFragment(t,this,c),s=o.fragment,r=1===s.childNodes.length?s=s.firstChild:s.firstChild,r){n=n&&R.nodeName(r,"tr");for(var l=0,p=this.length,h=p-1;p>l;l++)i.call(n?S(this[l],r):this[l],o.cacheable||p>1&&h>l?R.clone(s,!0,!0):s)}c.length&&R.each(c,y)}return this}}),R.buildFragment=function(t,e,n){var i,o,r,s,a=t[0];return e&&e[0]&&(s=e[0].ownerDocument||e[0]),s.createDocumentFragment||(s=M),1===t.length&&"string"==typeof a&&a.length<512&&s===M&&"<"===a.charAt(0)&&!Se.test(a)&&(R.support.checkClone||!Ae.test(a))&&(R.support.html5Clone||!we.test(a))&&(o=!0,r=R.fragments[a],r&&1!==r&&(i=r)),i||(i=s.createDocumentFragment(),R.clean(t,s,i,n)),o&&(R.fragments[a]=r?i:1),{fragment:i,cacheable:o}},R.fragments={},R.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){R.fn[t]=function(n){var i=[],o=R(n),r=1===this.length&&this[0].parentNode;if(r&&11===r.nodeType&&1===r.childNodes.length&&1===o.length)return o[e](this[0]),this;for(var s=0,a=o.length;a>s;s++){var u=(s>0?this.clone(!0):this).get();R(o[s])[e](u),i=i.concat(u)}return this.pushStack(i,t,o.selector)}}),R.extend({clone:function(t,e,n){var i,o,r,s=R.support.html5Clone||!we.test("<"+t.nodeName)?t.cloneNode(!0):g(t);if(!(R.support.noCloneEvent&&R.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||R.isXMLDoc(t)))for(x(t,s),i=b(t),o=b(s),r=0;i[r];++r)o[r]&&x(i[r],o[r]);if(e&&(_(t,s),n))for(i=b(t),o=b(s),r=0;i[r];++r)_(i[r],o[r]);return i=o=null,s},clean:function(t,e,n,i){var o;e=e||M,"undefined"==typeof e.createElement&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||M);for(var r,s,a=[],u=0;null!=(s=t[u]);u++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(xe.test(s)){s=s.replace(ve,"<$1></$2>");var c=(Te.exec(s)||["",""])[1].toLowerCase(),l=ke[c]||ke._default,p=l[0],h=e.createElement("div");for(e===M?Pe.appendChild(h):w(e).appendChild(h),h.innerHTML=l[1]+s+l[2];p--;)h=h.lastChild;if(!R.support.tbody){var d=be.test(s),f="table"!==c||d?"<table>"!==l[1]||d?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes;for(r=f.length-1;r>=0;--r)R.nodeName(f[r],"tbody")&&!f[r].childNodes.length&&f[r].parentNode.removeChild(f[r])}!R.support.leadingWhitespace&&ge.test(s)&&h.insertBefore(e.createTextNode(ge.exec(s)[0]),h.firstChild),s=h.childNodes}else s=e.createTextNode(s);var m;if(!R.support.appendChecked)if(s[0]&&"number"==typeof(m=s.length))for(r=0;m>r;r++)v(s[r]);else v(s);s.nodeType?a.push(s):a=R.merge(a,s)}if(n)for(o=function(t){return!t.type||Ne.test(t.type)},u=0;a[u];u++)if(!i||!R.nodeName(a[u],"script")||a[u].type&&"text/javascript"!==a[u].type.toLowerCase()){if(1===a[u].nodeType){var y=R.grep(a[u].getElementsByTagName("script"),o);a.splice.apply(a,[u+1,0].concat(y))}n.appendChild(a[u])}else i.push(a[u].parentNode?a[u].parentNode.removeChild(a[u]):a[u]);return a},cleanData:function(t){for(var e,n,i,o=R.cache,r=R.event.special,s=R.support.deleteExpando,a=0;null!=(i=t[a]);a++)if((!i.nodeName||!R.noData[i.nodeName.toLowerCase()])&&(n=i[R.expando])){if(e=o[n],e&&e.events){for(var u in e.events)r[u]?R.event.remove(i,u):R.removeEvent(i,u,e.handle);e.handle&&(e.handle.elem=null)}s?delete i[R.expando]:i.removeAttribute&&i.removeAttribute(R.expando),delete o[n]}}});var Fe,Ee,Oe,Me=/alpha\([^)]*\)/i,De=/opacity=([^)]*)/,Le=/([A-Z]|^ms)/g,Re=/^-?\d+(?:px)?$/i,qe=/^-?\d/,je=/^([\-+])=([\-+.\de]+)/,Be={position:"absolute",visibility:"hidden",display:"block"},Ve=["Left","Right"],Ie=["Top","Bottom"];R.fn.css=function(t,n){return 2===arguments.length&&n===e?this:R.access(this,t,n,!0,function(t,n,i){return i!==e?R.style(t,n,i):R.css(t,n)})},R.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Fe(t,"opacity","opacity");return""===n?"1":n}return t.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":R.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,a=R.camelCase(n),u=t.style,c=R.cssHooks[a];if(n=R.cssProps[a]||a,i===e)return c&&"get"in c&&(r=c.get(t,!1,o))!==e?r:u[n];if(s=typeof i,"string"===s&&(r=je.exec(i))&&(i=+(r[1]+1)*+r[2]+parseFloat(R.css(t,n)),s="number"),null==i||"number"===s&&isNaN(i))return;if("number"===s&&!R.cssNumber[a]&&(i+="px"),!(c&&"set"in c&&(i=c.set(t,i))===e))try{u[n]=i}catch(l){}}},css:function(t,n,i){var o,r;return n=R.camelCase(n),r=R.cssHooks[n],n=R.cssProps[n]||n,"cssFloat"===n&&(n="float"),r&&"get"in r&&(o=r.get(t,!0,i))!==e?o:Fe?Fe(t,n):void 0},swap:function(t,e,n){var i={};for(var o in e)i[o]=t.style[o],t.style[o]=e[o];n.call(t);for(o in e)t.style[o]=i[o]}}),R.curCSS=R.css,R.each(["height","width"],function(t,e){R.cssHooks[e]={get:function(t,n,i){var o;return n?0!==t.offsetWidth?m(t,e,i):(R.swap(t,Be,function(){o=m(t,e,i)}),o):void 0},set:function(t,e){return Re.test(e)?(e=parseFloat(e),e>=0?e+"px":void 0):e}}}),R.support.opacity||(R.cssHooks.opacity={get:function(t,e){return De.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=R.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,e>=1&&""===R.trim(r.replace(Me,""))&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=Me.test(r)?r.replace(Me,o):r+" "+o)}}),R(function(){R.support.reliableMarginRight||(R.cssHooks.marginRight={get:function(t,e){var n;return R.swap(t,{display:"inline-block"},function(){n=e?Fe(t,"margin-right","marginRight"):t.style.marginRight}),n}})}),M.defaultView&&M.defaultView.getComputedStyle&&(Ee=function(t,e){var n,i,o;return e=e.replace(Le,"-$1").toLowerCase(),(i=t.ownerDocument.defaultView)&&(o=i.getComputedStyle(t,null))&&(n=o.getPropertyValue(e),""===n&&!R.contains(t.ownerDocument.documentElement,t)&&(n=R.style(t,e))),n}),M.documentElement.currentStyle&&(Oe=function(t,e){var n,i,o,r=t.currentStyle&&t.currentStyle[e],s=t.style;return null===r&&s&&(o=s[e])&&(r=o),!Re.test(r)&&qe.test(r)&&(n=s.left,i=t.runtimeStyle&&t.runtimeStyle.left,i&&(t.runtimeStyle.left=t.currentStyle.left),s.left="fontSize"===e?"1em":r||0,r=s.pixelLeft+"px",s.left=n,i&&(t.runtimeStyle.left=i)),""===r?"auto":r}),Fe=Ee||Oe,R.expr&&R.expr.filters&&(R.expr.filters.hidden=function(t){var e=t.offsetWidth,n=t.offsetHeight;return 0===e&&0===n||!R.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||R.css(t,"display"))},R.expr.filters.visible=function(t){return!R.expr.filters.hidden(t)});var He,Ge,We=/%20/g,Ue=/\[\]$/,$e=/\r?\n/g,ze=/#.*$/,Xe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Qe=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Je=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,Ke=/^\/\//,Ze=/\?/,tn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,en=/^(?:select|textarea)/i,nn=/\s+/,on=/([?&])_=[^&]*/,rn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,sn=R.fn.load,an={},un={},cn=["*/"]+["*"];try{He=L.href}catch(ln){He=M.createElement("a"),He.href="",He=He.href}Ge=rn.exec(He.toLowerCase())||[],R.fn.extend({load:function(t,n,i){if("string"!=typeof t&&sn)return sn.apply(this,arguments);if(!this.length)return this;var o=t.indexOf(" ");if(o>=0){var r=t.slice(o,t.length);t=t.slice(0,o)}var s="GET";n&&(R.isFunction(n)?(i=n,n=e):"object"==typeof n&&(n=R.param(n,R.ajaxSettings.traditional),s="POST"));var a=this;return R.ajax({url:t,type:s,dataType:"html",data:n,complete:function(t,e,n){n=t.responseText,t.isResolved()&&(t.done(function(t){n=t}),a.html(r?R("<div>").append(n.replace(tn,"")).find(r):n)),i&&a.each(i,[n,e,t])}}),this},serialize:function(){return R.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?R.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||en.test(this.nodeName)||Qe.test(this.type))}).map(function(t,e){var n=R(this).val();return null==n?null:R.isArray(n)?R.map(n,function(t){return{name:e.name,value:t.replace($e,"\r\n")}}):{name:e.name,value:n.replace($e,"\r\n")}}).get()}}),R.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){R.fn[e]=function(t){return this.on(e,t)}}),R.each(["get","post"],function(t,n){R[n]=function(t,i,o,r){return R.isFunction(i)&&(r=r||o,o=i,i=e),R.ajax({type:n,url:t,data:i,success:o,dataType:r})}}),R.extend({getScript:function(t,n){return R.get(t,e,n,"script")},getJSON:function(t,e,n){return R.get(t,e,n,"json")},ajaxSetup:function(t,e){return e?h(t,R.ajaxSettings):(e=t,t=R.ajaxSettings),h(t,e),t},ajaxSettings:{url:He,isLocal:Je.test(Ge[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":R.parseJSON,"text xml":R.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:f(an),ajaxTransport:f(un),ajax:function(t,n){function i(t,n,i,s){if(2!==S){S=2,u&&clearTimeout(u),a=e,r=s||"",w.readyState=t>0?4:0;var p,d,f,x,_,A=n,N=i?l(m,w,i):e;if(t>=200&&300>t||304===t)if(m.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(R.lastModified[o]=x),(_=w.getResponseHeader("Etag"))&&(R.etag[o]=_)),304===t)A="notmodified",p=!0;else try{d=c(m,N),A="success",p=!0}catch(C){A="parsererror",f=C}else f=A,(!A||t)&&(A="error",0>t&&(t=0));w.status=t,w.statusText=""+(n||A),p?v.resolveWith(y,[d,A,w]):v.rejectWith(y,[w,A,f]),w.statusCode(b),b=e,h&&g.trigger("ajax"+(p?"Success":"Error"),[w,m,p?d:f]),T.fireWith(y,[w,A]),h&&(g.trigger("ajaxComplete",[w,m]),--R.active||R.event.trigger("ajaxStop"))}}"object"==typeof t&&(n=t,t=e),n=n||{};var o,r,s,a,u,p,h,f,m=R.ajaxSetup({},n),y=m.context||m,g=y!==m&&(y.nodeType||y instanceof R)?R(y):R.event,v=R.Deferred(),T=R.Callbacks("once memory"),b=m.statusCode||{},x={},_={},S=0,w={readyState:0,setRequestHeader:function(t,e){if(!S){var n=t.toLowerCase();t=_[n]=_[n]||t,x[t]=e}return this},getAllResponseHeaders:function(){return 2===S?r:null},getResponseHeader:function(t){var n;if(2===S){if(!s)for(s={};n=Xe.exec(r);)s[n[1].toLowerCase()]=n[2];n=s[t.toLowerCase()]}return n===e?null:n},overrideMimeType:function(t){return S||(m.mimeType=t),this},abort:function(t){return t=t||"abort",a&&a.abort(t),i(0,t),this}};if(v.promise(w),w.success=w.done,w.error=w.fail,w.complete=T.add,w.statusCode=function(t){if(t){var e;if(2>S)for(e in t)b[e]=[b[e],t[e]];else e=t[w.status],w.then(e,e)}return this},m.url=((t||m.url)+"").replace(ze,"").replace(Ke,Ge[1]+"//"),m.dataTypes=R.trim(m.dataType||"*").toLowerCase().split(nn),null==m.crossDomain&&(p=rn.exec(m.url.toLowerCase()),m.crossDomain=!(!p||p[1]==Ge[1]&&p[2]==Ge[2]&&(p[3]||("http:"===p[1]?80:443))==(Ge[3]||("http:"===Ge[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=R.param(m.data,m.traditional)),d(an,m,n,w),2===S)return!1;if(h=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Ye.test(m.type),h&&0===R.active++&&R.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Ze.test(m.url)?"&":"?")+m.data,delete m.data),o=m.url,m.cache===!1)){var A=R.now(),N=m.url.replace(on,"$1_="+A);m.url=N+(N===m.url?(Ze.test(m.url)?"&":"?")+"_="+A:"")}(m.data&&m.hasContent&&m.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(o=o||m.url,R.lastModified[o]&&w.setRequestHeader("If-Modified-Since",R.lastModified[o]),R.etag[o]&&w.setRequestHeader("If-None-Match",R.etag[o])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+cn+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(y,w,m)===!1||2===S))return w.abort(),!1;for(f in{success:1,error:1,complete:1})w[f](m[f]);if(a=d(un,m,n,w)){w.readyState=1,h&&g.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(u=setTimeout(function(){w.abort("timeout")},m.timeout));try{S=1,a.send(x,i)}catch(C){if(!(2>S))throw C;i(-1,C)}}else i(-1,"No Transport");return w},param:function(t,n){var i=[],o=function(t,e){e=R.isFunction(e)?e():e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=R.ajaxSettings.traditional),R.isArray(t)||t.jquery&&!R.isPlainObject(t))R.each(t,function(){o(this.name,this.value)});else for(var r in t)p(r,t[r],n,o);return i.join("&").replace(We,"+")}}),R.extend({active:0,lastModified:{},etag:{}});var pn=R.now(),hn=/(\=)\?(&|$)|\?\?/i;R.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return R.expando+"_"+pn++}}),R.ajaxPrefilter("json jsonp",function(e,n,i){var o="application/x-www-form-urlencoded"===e.contentType&&"string"==typeof e.data;if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(hn.test(e.url)||o&&hn.test(e.data))){var r,s=e.jsonpCallback=R.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a=t[s],u=e.url,c=e.data,l="$1"+s+"$2";return e.jsonp!==!1&&(u=u.replace(hn,l),e.url===u&&(o&&(c=c.replace(hn,l)),e.data===c&&(u+=(/\?/.test(u)?"&":"?")+e.jsonp+"="+s))),e.url=u,e.data=c,t[s]=function(t){r=[t]},i.always(function(){t[s]=a,r&&R.isFunction(a)&&t[s](r[0])}),e.converters["script json"]=function(){return r||R.error(s+" was not called"),r[0]},e.dataTypes[0]="json","script"}}),R.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return R.globalEval(t),t}}}),R.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),R.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=M.head||M.getElementsByTagName("head")[0]||M.documentElement;return{send:function(o,r){n=M.createElement("script"),n.async="async",t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,o){(o||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=e,o||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var dn,fn=t.ActiveXObject?function(){for(var t in dn)dn[t](0,1)}:!1,mn=0;R.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&u()||a()}:u,function(t){R.extend(R.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(R.ajaxSettings.xhr()),R.support.ajax&&R.ajaxTransport(function(n){if(!n.crossDomain||R.support.cors){var i;return{send:function(o,r){var s,a,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)u[a]=n.xhrFields[a];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),!n.crossDomain&&!o["X-Requested-With"]&&(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)u.setRequestHeader(a,o[a])}catch(c){}u.send(n.hasContent&&n.data||null),i=function(t,o){var a,c,l,p,h;try{if(i&&(o||4===u.readyState))if(i=e,s&&(u.onreadystatechange=R.noop,fn&&delete dn[s]),o)4!==u.readyState&&u.abort();else{a=u.status,l=u.getAllResponseHeaders(),p={},h=u.responseXML,h&&h.documentElement&&(p.xml=h),p.text=u.responseText;try{c=u.statusText}catch(d){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=p.text?200:404}}catch(f){o||r(-1,f)}p&&r(a,c,p,l)},n.async&&4!==u.readyState?(s=++mn,fn&&(dn||(dn={},R(t).unload(fn)),dn[s]=i),u.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var yn,gn,vn,Tn,bn={},xn=/^(?:toggle|show|hide)$/,_n=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Sn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];R.fn.extend({show:function(t,e,n){var r,s;if(t||0===t)return this.animate(o("show",3),t,e,n);for(var a=0,u=this.length;u>a;a++)r=this[a],r.style&&(s=r.style.display,!R._data(r,"olddisplay")&&"none"===s&&(s=r.style.display=""),""===s&&"none"===R.css(r,"display")&&R._data(r,"olddisplay",i(r.nodeName)));for(a=0;u>a;a++)r=this[a],r.style&&(s=r.style.display,(""===s||"none"===s)&&(r.style.display=R._data(r,"olddisplay")||""));return this},hide:function(t,e,n){if(t||0===t)return this.animate(o("hide",3),t,e,n);for(var i,r,s=0,a=this.length;a>s;s++)i=this[s],i.style&&(r=R.css(i,"display"),"none"!==r&&!R._data(i,"olddisplay")&&R._data(i,"olddisplay",r));for(s=0;a>s;s++)this[s].style&&(this[s].style.display="none");return this},_toggle:R.fn.toggle,toggle:function(t,e,n){var i="boolean"==typeof t;return R.isFunction(t)&&R.isFunction(e)?this._toggle.apply(this,arguments):null==t||i?this.each(function(){var e=i?t:R(this).is(":hidden");R(this)[e?"show":"hide"]()}):this.animate(o("toggle",3),t,e,n),this},fadeTo:function(t,e,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,o){function r(){s.queue===!1&&R._mark(this);var e,n,o,r,a,u,c,l,p,h=R.extend({},s),d=1===this.nodeType,f=d&&R(this).is(":hidden");h.animatedProperties={};for(o in t){if(e=R.camelCase(o),o!==e&&(t[e]=t[o],delete t[o]),n=t[e],R.isArray(n)?(h.animatedProperties[e]=n[1],n=t[e]=n[0]):h.animatedProperties[e]=h.specialEasing&&h.specialEasing[e]||h.easing||"swing","hide"===n&&f||"show"===n&&!f)return h.complete.call(this);d&&("height"===e||"width"===e)&&(h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===R.css(this,"display")&&"none"===R.css(this,"float")&&(R.support.inlineBlockNeedsLayout&&"inline"!==i(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=h.overflow&&(this.style.overflow="hidden");for(o in t)r=new R.fx(this,h,o),n=t[o],xn.test(n)?(p=R._data(this,"toggle"+o)||("toggle"===n?f?"show":"hide":0),p?(R._data(this,"toggle"+o,"show"===p?"hide":"show"),r[p]()):r[n]()):(a=_n.exec(n),u=r.cur(),a?(c=parseFloat(a[2]),l=a[3]||(R.cssNumber[o]?"":"px"),"px"!==l&&(R.style(this,o,(c||1)+l),u=(c||1)/r.cur()*u,R.style(this,o,u+l)),a[1]&&(c=("-="===a[1]?-1:1)*c+u),r.custom(u,c,l)):r.custom(u,n,""));return!0}var s=R.speed(e,n,o);return R.isEmptyObject(t)?this.each(s.complete,[!1]):(t=R.extend({},t),s.queue===!1?this.each(r):this.queue(s.queue,r))},stop:function(t,n,i){return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){function e(t,e,n){var o=e[n];R.removeData(t,n,!0),o.stop(i)}var n,o=!1,r=R.timers,s=R._data(this);if(i||R._unmark(!0,this),null==t)for(n in s)s[n]&&s[n].stop&&n.indexOf(".run")===n.length-4&&e(this,s,n);else s[n=t+".run"]&&s[n].stop&&e(this,s,n);for(n=r.length;n--;)r[n].elem===this&&(null==t||r[n].queue===t)&&(i?r[n](!0):r[n].saveState(),o=!0,r.splice(n,1));(!i||!o)&&R.dequeue(this,t)})}}),R.each({slideDown:o("show",1),slideUp:o("hide",1),slideToggle:o("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){R.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),R.extend({speed:function(t,e,n){var i=t&&"object"==typeof t?R.extend({},t):{complete:n||!n&&e||R.isFunction(t)&&t,duration:t,easing:n&&e||e&&!R.isFunction(e)&&e};return i.duration=R.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in R.fx.speeds?R.fx.speeds[i.duration]:R.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(t){R.isFunction(i.old)&&i.old.call(this),i.queue?R.dequeue(this,i.queue):t!==!1&&R._unmark(this)},i},easing:{linear:function(t,e,n,i){return n+i*t},swing:function(t,e,n,i){return(-Math.cos(t*Math.PI)/2+.5)*i+n}},timers:[],fx:function(t,e,n){this.options=e,this.elem=t,this.prop=n,e.orig=e.orig||{}}}),R.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(R.fx.step[this.prop]||R.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t,e=R.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?e&&"auto"!==e?e:0:t},custom:function(t,n,i){function o(t){return r.step(t)}var r=this,a=R.fx;this.startTime=Tn||s(),this.end=n,this.now=this.start=t,this.pos=this.state=0,this.unit=i||this.unit||(R.cssNumber[this.prop]?"":"px"),o.queue=this.options.queue,o.elem=this.elem,o.saveState=function(){r.options.hide&&R._data(r.elem,"fxshow"+r.prop)===e&&R._data(r.elem,"fxshow"+r.prop,r.start)},o()&&R.timers.push(o)&&!vn&&(vn=setInterval(a.tick,a.interval))},show:function(){var t=R._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||R.style(this.elem,this.prop),this.options.show=!0,t!==e?this.custom(this.cur(),t):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),R(this.elem).show()},hide:function(){this.options.orig[this.prop]=R._data(this.elem,"fxshow"+this.prop)||R.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e,n,i,o=Tn||s(),r=!0,a=this.elem,u=this.options;if(t||o>=u.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),u.animatedProperties[this.prop]=!0;for(e in u.animatedProperties)u.animatedProperties[e]!==!0&&(r=!1);if(r){if(null!=u.overflow&&!R.support.shrinkWrapBlocks&&R.each(["","X","Y"],function(t,e){a.style["overflow"+e]=u.overflow[t]}),u.hide&&R(a).hide(),u.hide||u.show)for(e in u.animatedProperties)R.style(a,e,u.orig[e]),R.removeData(a,"fxshow"+e,!0),R.removeData(a,"toggle"+e,!0);i=u.complete,i&&(u.complete=!1,i.call(a))}return!1}return 1/0==u.duration?this.now=o:(n=o-this.startTime,this.state=n/u.duration,this.pos=R.easing[u.animatedProperties[this.prop]](this.state,n,0,1,u.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},R.extend(R.fx,{tick:function(){for(var t,e=R.timers,n=0;n<e.length;n++)t=e[n],!t()&&e[n]===t&&e.splice(n--,1);e.length||R.fx.stop()},interval:13,stop:function(){clearInterval(vn),vn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){R.style(t.elem,"opacity",t.now)},_default:function(t){t.elem.style&&null!=t.elem.style[t.prop]?t.elem.style[t.prop]=t.now+t.unit:t.elem[t.prop]=t.now}}}),R.each(["width","height"],function(t,e){R.fx.step[e]=function(t){R.style(t.elem,e,Math.max(0,t.now)+t.unit)}}),R.expr&&R.expr.filters&&(R.expr.filters.animated=function(t){return R.grep(R.timers,function(e){return t===e.elem}).length});var wn=/^t(?:able|d|h)$/i,An=/^(?:body|html)$/i;R.fn.offset="getBoundingClientRect"in M.documentElement?function(t){var e,i=this[0];if(t)return this.each(function(e){R.offset.setOffset(this,t,e)});if(!i||!i.ownerDocument)return null;if(i===i.ownerDocument.body)return R.offset.bodyOffset(i);try{e=i.getBoundingClientRect()}catch(o){}var r=i.ownerDocument,s=r.documentElement;if(!e||!R.contains(s,i))return e?{top:e.top,left:e.left}:{top:0,left:0};var a=r.body,u=n(r),c=s.clientTop||a.clientTop||0,l=s.clientLeft||a.clientLeft||0,p=u.pageYOffset||R.support.boxModel&&s.scrollTop||a.scrollTop,h=u.pageXOffset||R.support.boxModel&&s.scrollLeft||a.scrollLeft,d=e.top+p-c,f=e.left+h-l;return{top:d,left:f}}:function(t){var e=this[0];if(t)return this.each(function(e){R.offset.setOffset(this,t,e)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return R.offset.bodyOffset(e);for(var n,i=e.offsetParent,o=e,r=e.ownerDocument,s=r.documentElement,a=r.body,u=r.defaultView,c=u?u.getComputedStyle(e,null):e.currentStyle,l=e.offsetTop,p=e.offsetLeft;(e=e.parentNode)&&e!==a&&e!==s&&(!R.support.fixedPosition||"fixed"!==c.position);)n=u?u.getComputedStyle(e,null):e.currentStyle,l-=e.scrollTop,p-=e.scrollLeft,e===i&&(l+=e.offsetTop,p+=e.offsetLeft,R.support.doesNotAddBorder&&(!R.support.doesAddBorderForTableAndCells||!wn.test(e.nodeName))&&(l+=parseFloat(n.borderTopWidth)||0,p+=parseFloat(n.borderLeftWidth)||0),o=i,i=e.offsetParent),R.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(l+=parseFloat(n.borderTopWidth)||0,p+=parseFloat(n.borderLeftWidth)||0),c=n;return("relative"===c.position||"static"===c.position)&&(l+=a.offsetTop,p+=a.offsetLeft),R.support.fixedPosition&&"fixed"===c.position&&(l+=Math.max(s.scrollTop,a.scrollTop),p+=Math.max(s.scrollLeft,a.scrollLeft)),{top:l,left:p}},R.offset={bodyOffset:function(t){var e=t.offsetTop,n=t.offsetLeft;return R.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(R.css(t,"marginTop"))||0,n+=parseFloat(R.css(t,"marginLeft"))||0),{top:e,left:n}},setOffset:function(t,e,n){var i=R.css(t,"position");"static"===i&&(t.style.position="relative");var o,r,s=R(t),a=s.offset(),u=R.css(t,"top"),c=R.css(t,"left"),l=("absolute"===i||"fixed"===i)&&R.inArray("auto",[u,c])>-1,p={},h={};l?(h=s.position(),o=h.top,r=h.left):(o=parseFloat(u)||0,r=parseFloat(c)||0),R.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(p.top=e.top-a.top+o),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):s.css(p)}},R.fn.extend({position:function(){if(!this[0])return null;var t=this[0],e=this.offsetParent(),n=this.offset(),i=An.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(R.css(t,"marginTop"))||0,n.left-=parseFloat(R.css(t,"marginLeft"))||0,i.top+=parseFloat(R.css(e[0],"borderTopWidth"))||0,i.left+=parseFloat(R.css(e[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||M.body;t&&!An.test(t.nodeName)&&"static"===R.css(t,"position");)t=t.offsetParent;return t})}}),R.each(["Left","Top"],function(t,i){var o="scroll"+i;R.fn[o]=function(i){var r,s;return i===e?(r=this[0])?(s=n(r),s?"pageXOffset"in s?s[t?"pageYOffset":"pageXOffset"]:R.support.boxModel&&s.document.documentElement[o]||s.document.body[o]:r[o]):null:this.each(function(){s=n(this),s?s.scrollTo(t?R(s).scrollLeft():i,t?i:R(s).scrollTop()):this[o]=i})}}),R.each(["Height","Width"],function(t,n){var i=n.toLowerCase();R.fn["inner"+n]=function(){var t=this[0];return t?t.style?parseFloat(R.css(t,i,"padding")):this[i]():null},R.fn["outer"+n]=function(t){var e=this[0];return e?e.style?parseFloat(R.css(e,i,t?"margin":"border")):this[i]():null},R.fn[i]=function(t){var o=this[0];if(!o)return null==t?null:this;if(R.isFunction(t))return this.each(function(e){var n=R(this);n[i](t.call(this,e,n[i]()))});if(R.isWindow(o)){var r=o.document.documentElement["client"+n],s=o.document.body;return"CSS1Compat"===o.document.compatMode&&r||s&&s["client"+n]||r}if(9===o.nodeType)return Math.max(o.documentElement["client"+n],o.body["scroll"+n],o.documentElement["scroll"+n],o.body["offset"+n],o.documentElement["offset"+n]);if(t===e){var a=R.css(o,i),u=parseFloat(a);return R.isNumeric(u)?u:a}return this.css(i,"string"==typeof t?t:t+"px")}}),t.jQuery=t.$=R,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return R})}(window),/**
 * jQuery Picture
 * http://jquerypicture.com
 * http://github.com/Abban/jQuery-Picture
 * 
 * May 2012
 * 
 * @version 0.9
 * @author Abban Dunne http://abandon.ie
 * @license MIT
 * 
 * jQuery Picture is a plugin to add support for responsive images to your layouts.
 * It supports both figure elements with some custom data attributes and the new
 * proposed picture format. This plugin will be made redundant when the format is
 * approved and implemented by browsers. Lets hope that happens soon. In the meantime
 * this plugin will be kept up to date with latest developments.
 * 
 */
function(t){t.fn.picture=function(e){var n={container:null,ignorePixelRatio:!1},i=t.extend({},n,e);this.each(function(){function e(e){if(e)if("figure"==a.get(0).tagName.toLowerCase()){var u=a.data();t.each(u,function(t){var e;e=t.replace(/[^\d.]/g,""),e&&c.push(e)})}else a.find("source").each(function(){var e,n;e=t(this).attr("media"),e&&(n=e.replace(/[^\d.]/g,""),c.push(n))});var p=0;r=null==i.container?t(window).width()*l:t(i.container).width()*l,t.each(c,function(t,e){parseInt(r)>=parseInt(e)&&parseInt(p)<=parseInt(e)&&(p=e)}),s!==p&&(s=p,"figure"==a.get(0).tagName.toLowerCase()?o():n())}function n(){var e=new Object;if(a.find("source").each(function(){var n,i,o;n=t(this).attr("media"),i=t(this).attr("src"),o=n?n.replace(/[^\d.]/g,""):0,e[o]=i}),0==a.find("img").length){var n='<img src="'+e[s]+'" style="'+a.attr("style")+'" alt="'+a.attr("alt")+'">';0==t(">a",a).length?a.append(n):t(">a",a).append(n)}else a.find("img").attr("src",e[s])}function o(){var e=new Object,n=a.data();if(t.each(n,function(t,n){var i;i=t.replace(/[^\d.]/g,""),i||(i=0),e[i]=n}),0==a.find("img").length){var i='<img src="'+e[s]+'" alt="'+a.attr("title")+'">';0==t(">a",a).length?a.append(i):t(">a",a).append(i)}else a.find("img").attr("src",e[s])}var r,s,a,u,c=new Array,l=1;i.ignorePixelRatio||void 0===window.devicePixelRatio||(l=window.devicePixelRatio),a=t(this),e(!0),u=!1,t(window).resize(function(){u!==!1&&clearTimeout(u),u=setTimeout(e,200)})})}}(jQuery),!function(t){"use strict";t.fn.fitVids=function(e){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],o=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">'+o+"</style>",i.appendChild(r.childNodes[1])}return e&&t.extend(n,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&e.push(n.customSelector);var i=t(this).find(e.join(","));i=i.not("object object"),i.each(function(){var e=t(this);if(!("embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){var n="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),i=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),o=n/i;if(!e.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());e.attr("id",r)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),console.log("### p5.collide ###"),p5.prototype._collideDebug=!1,p5.prototype.collideDebug=function(t){_collideDebug=t},p5.prototype.collideRectRect=function(t,e,n,i,o,r,s,a){return t+n>=o&&o+s>=t&&e+i>=r&&r+a>=e?!0:!1},p5.prototype.collideRectCircle=function(t,e,n,i,o,r,s){var a=o,u=r;t>o?a=t:o>t+n&&(a=t+n),e>r?u=e:r>e+i&&(u=e+i);var c=dist(o,r,a,u);// if the distance is less than the radius, collision!
// if the distance is less than the radius, collision!
return s/2>=c?!0:!1},p5.prototype.collideCircleCircle=function(t,e,n,i,o,r){return dist(t,e,i,o)<=n/2+r/2?!0:!1},p5.prototype.collidePointCircle=function(t,e,n,i,o){return dist(t,e,n,i)<=o/2?!0:!1},p5.prototype.collidePointRect=function(t,e,n,i,o,r){return t>=n&&n+o>=t&&e>=i&&i+r>=e?!0:!1},p5.prototype.collidePointLine=function(t,e,n,i,o,r,s){var a=dist(t,e,n,i),u=dist(t,e,o,r),c=dist(n,i,o,r);// if the two distances are equal to the line's length, the point is on the line!
return void 0===s&&(s=.1),a+u>=c-s&&c+s>=a+u?!0:!1},p5.prototype.collideLineCircle=function(t,e,n,i,o,r,s){var a=collidePointCircle(t,e,o,r,s),u=collidePointCircle(n,i,o,r,s);if(a||u)return!0;var c=t-n,l=e-i,p=sqrt(c*c+l*l),h=((o-t)*(n-t)+(r-e)*(i-e))/pow(p,2),d=t+h*(n-t),f=e+h*(i-e),m=collidePointLine(d,f,t,e,n,i);if(!m)return!1;_collideDebug&&ellipse(d,f,10,10),c=d-o,l=f-r;var y=sqrt(c*c+l*l);return s/2>=y?!0:!1},p5.prototype.collideLineLine=function(t,e,n,i,o,r,s,a,u){var c,l=((s-o)*(e-r)-(a-r)*(t-o))/((a-r)*(n-t)-(s-o)*(i-e)),p=((n-t)*(e-r)-(i-e)*(t-o))/((a-r)*(n-t)-(s-o)*(i-e));if(l>=0&&1>=l&&p>=0&&1>=p){if(_collideDebug||u)var h=t+l*(n-t),d=e+l*(i-e);return _collideDebug&&ellipse(h,d,10,10),u?c={x:h,y:d}:!0}return u?c={x:!1,y:!1}:!1},p5.prototype.collideLineRect=function(t,e,n,i,o,r,s,a,u){var c,l,p,h,d;return u?(c=collideLineLine(t,e,n,i,o,r,o,r+a,!0),l=collideLineLine(t,e,n,i,o+s,r,o+s,r+a,!0),p=collideLineLine(t,e,n,i,o,r,o+s,r,!0),h=collideLineLine(t,e,n,i,o,r+a,o+s,r+a,!0),d={left:c,right:l,top:p,bottom:h}):(c=collideLineLine(t,e,n,i,o,r,o,r+a),l=collideLineLine(t,e,n,i,o+s,r,o+s,r+a),p=collideLineLine(t,e,n,i,o,r,o+s,r),h=collideLineLine(t,e,n,i,o,r+a,o+s,r+a)),c||l||p||h?u?d:!0:!1},p5.prototype.collidePointPoly=function(t,e,n){for(var i=!1,o=0,r=0;r<n.length;r++){o=r+1,o==n.length&&(o=0);var s=n[r],a=n[o];(s.y>e&&a.y<e||s.y<e&&a.y>e)&&t<(a.x-s.x)*(e-s.y)/(a.y-s.y)+s.x&&(i=!i)}return i},p5.prototype.collideCirclePoly=function(t,e,n,i,o){void 0==o&&(o=!1);for(var r=0,s=0;s<i.length;s++){r=s+1,r==i.length&&(r=0);var a=i[s],u=i[r],c=collideLineCircle(a.x,a.y,u.x,u.y,t,e,n);if(c)return!0}if(1==o){var l=collidePointPoly(t,e,i);if(l)return!0}return!1},p5.prototype.collideRectPoly=function(t,e,n,i,o,r){void 0==r&&(r=!1);for(var s=0,a=0;a<o.length;a++){s=a+1,s==o.length&&(s=0);var u=o[a],c=o[s],l=collideLineRect(u.x,u.y,c.x,c.y,t,e,n,i);if(l)return!0;if(1==r){var p=collidePointPoly(t,e,o);if(p)return!0}}return!1},p5.prototype.collideLinePoly=function(t,e,n,i,o){for(var r=0,s=0;s<o.length;s++){r=s+1,r==o.length&&(r=0);var a=o[s].x,u=o[s].y,c=o[r].x,l=o[r].y,p=collideLineLine(t,e,n,i,a,u,c,l);if(p)return!0}return!1},p5.prototype.collidePolyPoly=function(t,e,n){void 0==n&&(n=!1);for(var i=0,o=0;o<t.length;o++){i=o+1,i==t.length&&(i=0);var r=t[o],s=t[i],a=collideLinePoly(r.x,r.y,s.x,s.y,e);if(a)return!0;if(1==n&&(a=collidePointPoly(e[0].x,e[0].y,t)))return!0}return!1},p5.prototype.collidePointTriangle=function(t,e,n,i,o,r,s,a){var u=abs((o-n)*(a-i)-(s-n)*(r-i)),c=abs((n-t)*(r-e)-(o-t)*(i-e)),l=abs((o-t)*(a-e)-(s-t)*(r-e)),p=abs((s-t)*(i-e)-(n-t)*(a-e));// if the sum of the three areas equals the original, we're inside the triangle!
// if the sum of the three areas equals the original, we're inside the triangle!
return c+l+p==u?!0:!1},p5.prototype.collidePointPoint=function(t,e,n,i,o){return void 0==o&&(o=0),dist(t,e,n,i)<=o?!0:!1},/*! p5.sound.js v0.3.1 2016-09-29 */
function(t,e){"function"==typeof define&&define.amd?define("p5.sound",["p5"],function(t){e(t)}):"object"==typeof exports?e(require("../p5")):e(t.p5)}(this,function(p5){var sndcore;sndcore=function(){"use strict";!function(t,e){function n(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}return e=e||{},window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return n(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var e=t?this.internal_createDelay(t):this.internal_createDelay();return n(e.delayTime),e},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(e,n,i){"undefined"!=typeof i?t.internal_start(e||0,n,i):t.internal_start(e||0,n||0)}):t.start=function(t,e,n){e||n?this.noteGrainOn(t||0,e,n):this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},n(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return n(t.threshold),n(t.knee),n(t.ratio),n(t.reduction),n(t.attack),n(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return n(t.frequency),n(t.detune),n(t.Q),n(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(e){t.internal_start(e||0)}):t.start=function(t){this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),n(t.frequency),n(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext),e}(window);var t=new window.AudioContext;p5.prototype.getAudioContext=function(){return t},navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var e=document.createElement("audio");p5.prototype.isSupported=function(){return!!e.canPlayType};var n=function(){return!!e.canPlayType&&e.canPlayType('audio/ogg; codecs="vorbis"')},i=function(){return!!e.canPlayType&&e.canPlayType("audio/mpeg;")},o=function(){return!!e.canPlayType&&e.canPlayType('audio/wav; codecs="1"')},r=function(){return!!e.canPlayType&&(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;"))},s=function(){return!!e.canPlayType&&e.canPlayType("audio/x-aiff;")};p5.prototype.isFileSupported=function(t){switch(t.toLowerCase()){case"mp3":return i();case"wav":return o();case"ogg":return n();case"mp4":return r();case"aiff":return s();default:return!1}};var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;if(a){var u=!1,c=function(){if(!u){var e=t.createBuffer(1,1,22050),n=t.createBufferSource();n.buffer=e,n.connect(t.destination),n.start(0),console.log("start ios!"),"running"===t.state&&(u=!0)}};document.addEventListener("touchend",c,!1),document.addEventListener("touchstart",c,!1)}}();var master;master=function(){"use strict";var t=function(){var t=p5.prototype.getAudioContext();this.input=t.createGain(),this.output=t.createGain(),this.limiter=t.createDynamicsCompressor(),this.limiter.threshold.value=0,this.limiter.ratio.value=20,this.audiocontext=t,this.output.disconnect(),this.inputSources=[],this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=t.createGain(),this.fftMeter=t.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]},e=new t;return p5.prototype.getMasterVolume=function(){return e.output.gain.value},p5.prototype.masterVolume=function(t,n,i){if("number"==typeof t){var n=n||0,i=i||0,o=e.audiocontext.currentTime,r=e.output.gain.value;e.output.gain.cancelScheduledValues(o+i),e.output.gain.linearRampToValueAtTime(r,o+i),e.output.gain.linearRampToValueAtTime(t,o+i+n)}else{if(!t)return e.output.gain;t.connect(e.output.gain)}},p5.soundOut=e,p5.soundOut._silentNode=e.audiocontext.createGain(),p5.soundOut._silentNode.gain.value=0,p5.soundOut._silentNode.connect(e.audiocontext.destination),e}(sndcore);var helpers;helpers=function(){"use strict";var t=master;p5.prototype.sampleRate=function(){return t.audiocontext.sampleRate},p5.prototype.freqToMidi=function(t){var e=Math.log(t/440)/Math.log(2),n=Math.round(12*e)+57;return n},p5.prototype.midiToFreq=function(t){return 440*Math.pow(2,(t-69)/12)},p5.prototype.soundFormats=function(){t.extensions=[];for(var e=0;e<arguments.length;e++){if(arguments[e]=arguments[e].toLowerCase(),!(["mp3","wav","ogg","m4a","aac"].indexOf(arguments[e])>-1))throw arguments[e]+" is not a valid sound format!";t.extensions.push(arguments[e])}},p5.prototype.disposeSound=function(){for(var e=0;e<t.soundArray.length;e++)t.soundArray[e].dispose()},p5.prototype.registerMethod("remove",p5.prototype.disposeSound),p5.prototype._checkFileFormats=function(e){var n;if("string"==typeof e){n=e;var i=n.split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(i)>-1){var o=p5.prototype.isFileSupported(i);if(o)n=n;else for(var r=n.split("."),s=r[r.length-1],a=0;a<t.extensions.length;a++){var u=t.extensions[a],o=p5.prototype.isFileSupported(u);if(o){s="",2===r.length&&(s+=r[0]);for(var a=1;a<=r.length-2;a++){var c=r[a];s+="."+c}n=s+=".",n=n+=u;break}}}else for(var a=0;a<t.extensions.length;a++){var u=t.extensions[a],o=p5.prototype.isFileSupported(u);if(o){n=n+"."+u;break}}}else if("object"==typeof e)for(var a=0;a<e.length;a++){var u=e[a].split(".").pop(),o=p5.prototype.isFileSupported(u);if(o){n=e[a];break}}return n},p5.prototype._mathChain=function(t,e,n,i,o){for(var r in t.mathOps)t.mathOps[r]instanceof o&&(t.mathOps[r].dispose(),n=r,n<t.mathOps.length-1&&(i=t.mathOps[r+1]));return t.mathOps[n-1].disconnect(),t.mathOps[n-1].connect(e),e.connect(i),t.mathOps[n]=e,t}}(master);var errorHandler;errorHandler=function(){"use strict";var t=function(t,e,n){var i,o,r=new Error;r.name=t,r.originalStack=r.stack+e,i=r.stack+e,r.failedPath=n;var o=i.split("\n");return o=o.filter(function(t){return!t.match(/(p5.|native code|globalInit)/g)}),r.stack=o.join("\n"),r};return t}();var panner;panner=function(){"use strict";var t=master,e=t.audiocontext;"undefined"!=typeof e.createStereoPanner?(p5.Panner=function(t,n){this.stereoPanner=this.input=e.createStereoPanner(),t.connect(this.stereoPanner),this.stereoPanner.connect(n)},p5.Panner.prototype.pan=function(t,n){var i=n||0,o=e.currentTime+i;this.stereoPanner.pan.linearRampToValueAtTime(t,o)},p5.Panner.prototype.inputChannels=function(){},p5.Panner.prototype.connect=function(t){this.stereoPanner.connect(t)},p5.Panner.prototype.disconnect=function(){this.stereoPanner.disconnect()}):(p5.Panner=function(t,n,i){this.input=e.createGain(),t.connect(this.input),this.left=e.createGain(),this.right=e.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",i>1?(this.splitter=e.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=e.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(n)},p5.Panner.prototype.pan=function(t,n){var i=n||0,o=e.currentTime+i,r=(t+1)/2,s=Math.cos(r*Math.PI/2),a=Math.sin(r*Math.PI/2);this.left.gain.linearRampToValueAtTime(a,o),this.right.gain.linearRampToValueAtTime(s,o)},p5.Panner.prototype.inputChannels=function(t){1===t?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):2===t&&(this.splitter=e.createChannelSplitter(2),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))},p5.Panner.prototype.connect=function(t){this.output.connect(t)},p5.Panner.prototype.disconnect=function(){this.output.disconnect()}),p5.Panner3D=function(t,n){var i=e.createPanner();return i.panningModel="HRTF",i.distanceModel="linear",i.setPosition(0,0,0),t.connect(i),i.connect(n),i.pan=function(t,e,n){i.setPosition(t,e,n)},i}}(master);var soundfile;soundfile=function(){"use strict";function t(t,e){for(var n={},i=t.length,o=0;i>o;o++){if(t[o]>e){var r=t[o],s=new c(r,o);n[o]=s,o+=6e3}o++}return n}function e(t){for(var e=[],n=Object.keys(t).sort(),i=0;i<n.length;i++)for(var o=0;10>o;o++){var r=t[n[i]],s=t[n[i+o]];if(r&&s){var a=r.sampleIndex,u=s.sampleIndex,c=u-a;c>0&&r.intervals.push(c);var l=e.some(function(t){return t.interval===c?(t.count++,t):void 0});l||e.push({interval:c,count:1})}}return e}function n(t,e){var n=[];return t.forEach(function(t){try{var i=Math.abs(60/(t.interval/e));i=o(i);var r=n.some(function(e){return e.tempo===i?e.count+=t.count:void 0});if(!r){if(isNaN(i))return;n.push({tempo:Math.round(i),count:t.count})}}catch(s){throw s}}),n}function i(t,e,n,i){for(var r=[],s=Object.keys(t).sort(),a=0;a<s.length;a++)for(var u=s[a],c=t[u],l=0;l<c.intervals.length;l++){var p=Math.round(Math.abs(60/(c.intervals[l]/n)));p=o(p);Math.abs(p-e)<i&&r.push(c.sampleIndex/44100)}return r=r.filter(function(t,e,n){var i=n[e+1]-t;return i>.01?!0:void 0})}function o(t){if(isFinite(t)&&0!=t){for(;90>t;)t*=2;for(;t>180&&t>90;)t/=2;return t}}var r=errorHandler,s=master,a=s.audiocontext;p5.SoundFile=function(t,e,n,i){if("undefined"!=typeof t){if("string"==typeof t||"string"==typeof t[0]){var o=p5.prototype._checkFileFormats(t);this.url=o}else if("object"==typeof t&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";t.file&&(t=t.file),this.file=t}this._onended=function(){},this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._lastPos=0,this._counterNode,this._scopeNode,// array of sources so that they can all be stopped!
this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.gain=1,this.input=s.audiocontext.createGain(),this.output=s.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.panPosition=0,this.panner=new p5.Panner(this.output,s.input,2),(this.url||this.file)&&this.load(e,n),s.soundArray.push(this),this._whileLoading="function"==typeof i?i:function(){}},p5.prototype.registerPreloadMethod("loadSound",p5.prototype),p5.prototype.loadSound=function(t,e,n,i){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var o=new p5.SoundFile(t,e,n,i);return o},p5.SoundFile.prototype.load=function(t,e){var n=this,i=(new Error).stack;if(void 0!=this.url&&""!=this.url){var o=new XMLHttpRequest;o.addEventListener("progress",function(t){n._updateProgress(t)},!1),o.open("GET",this.url,!0),o.responseType="arraybuffer",o.onload=function(){if(200==o.status)a.decodeAudioData(o.response,function(e){n.buffer=e,n.panner.inputChannels(e.numberOfChannels),t&&t(n)},function(){var t=new r("decodeAudioData",i,n.url),o="AudioContext error at decodeAudioData for "+n.url;e?(t.msg=o,e(t)):console.error(o+"\n The error stack trace includes: \n"+t.stack)});else{var s=new r("loadSound",i,n.url),u="Unable to load "+n.url+". The request status was: "+o.status+" ("+o.statusText+")";e?(s.message=u,e(s)):console.error(u+"\n The error stack trace includes: \n"+s.stack)}},o.onerror=function(){var t=new r("loadSound",i,n.url),o="There was no response from the server at "+n.url+". Check the url and internet connectivity.";e?(t.message=o,e(t)):console.error(o+"\n The error stack trace includes: \n"+t.stack)},o.send()}else if(void 0!=this.file){var s=new FileReader,n=this;s.onload=function(){a.decodeAudioData(s.result,function(e){n.buffer=e,n.panner.inputChannels(e.numberOfChannels),t&&t(n)})},s.onerror=function(t){onerror&&onerror(t)},s.readAsArrayBuffer(this.file)}},p5.SoundFile.prototype._updateProgress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*.99;this._whileLoading(e,t)}else this._whileLoading("size unknown")},p5.SoundFile.prototype.isLoaded=function(){return this.buffer?!0:!1},p5.SoundFile.prototype.play=function(t,e,n,i,o){var r,a,u=this,c=s.audiocontext.currentTime,t=t||0;if(0>t&&(t=0),t+=c,!this.buffer)throw"not ready to play file, buffer has yet to load. Try preload()";if(this._pauseTime=0,"restart"===this.mode&&this.buffer&&this.bufferSourceNode){var c=s.audiocontext.currentTime;this.bufferSourceNode.stop(t),this._counterNode.stop(t)}if(e&&(this.playbackRate=e),this.bufferSourceNode=this._initSourceNode(),this._counterNode&&(this._counterNode=void 0),this._counterNode=this._initCounterNode(),i){if(!(i>=0&&i<this.buffer.duration))throw"start time out of range";r=i}else r=0;o=o?o<=this.buffer.duration-r?o:this.buffer.duration:this.buffer.duration-r;var l=n||1;this.bufferSourceNode.connect(this.output),this.output.gain.value=l,this._paused?(this.bufferSourceNode.start(t,this.pauseTime,o),this._counterNode.start(t,this.pauseTime,o)):(this.bufferSourceNode.start(t,r,o),this._counterNode.start(t,r,o)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1;var p=function(){this._playing=!1,this.removeEventListener("ended",p,!1),u._onended(u),u.bufferSourceNodes.forEach(function(t,e){t._playing===!1&&u.bufferSourceNodes.splice(e)}),0===u.bufferSourceNodes.length&&(u._playing=!1)};if(this.bufferSourceNode.onended=p,this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,this._looping===!0){var a=r+o;this.bufferSourceNode.loopStart=r,this.bufferSourceNode.loopEnd=a,this._counterNode.loopStart=r,this._counterNode.loopEnd=a}},p5.SoundFile.prototype.playMode=function(t){var e=t.toLowerCase();if("restart"===e&&this.buffer&&this.bufferSourceNode)for(var n=0;n<this.bufferSourceNodes.length-1;n++){var i=s.audiocontext.currentTime;this.bufferSourceNodes[n].stop(i)}if("restart"!==e&&"sustain"!==e)throw'Invalid play mode. Must be either "restart" or "sustain"';this.mode=e},p5.SoundFile.prototype.pause=function(t){var e=s.audiocontext.currentTime,t=t||0,n=t+e;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(n),this._counterNode.stop(n),this._paused=!0,this._playing=!1,this._pauseTime=this.currentTime()):this._pauseTime=0},p5.SoundFile.prototype.loop=function(t,e,n,i,o){this._looping=!0,this.play(t,e,n,i,o)},p5.SoundFile.prototype.setLoop=function(t){if(t===!0)this._looping=!0;else{if(t!==!1)throw"Error: setLoop accepts either true or false";this._looping=!1}this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)},p5.SoundFile.prototype.isLooping=function(){return this.bufferSourceNode?this._looping===!0&&this.isPlaying()===!0?!0:!1:!1},p5.SoundFile.prototype.isPlaying=function(){return this._playing},p5.SoundFile.prototype.isPaused=function(){return this._paused},p5.SoundFile.prototype.stop=function(t){var e=t||0;if("sustain"==this.mode)this.stopAll(e),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var n=s.audiocontext.currentTime,i=e||0;this.pauseTime=0,this.bufferSourceNode.stop(n+i),this._counterNode.stop(n+i),this._playing=!1,this._paused=!1}},p5.SoundFile.prototype.stopAll=function(t){var e=s.audiocontext.currentTime,n=t||0;if(this.buffer&&this.bufferSourceNode){for(var i=0;i<this.bufferSourceNodes.length;i++)if(void 0!=typeof this.bufferSourceNodes[i])try{this.bufferSourceNodes[i].onended=function(){},this.bufferSourceNodes[i].stop(e+n)}catch(o){}this._counterNode.stop(e+n),this._onended(this)}},p5.SoundFile.prototype.setVolume=function(t,e,n){if("number"==typeof t){var e=e||0,n=n||0,i=s.audiocontext.currentTime,o=this.output.gain.value;this.output.gain.cancelScheduledValues(i+n),this.output.gain.linearRampToValueAtTime(o,i+n),this.output.gain.linearRampToValueAtTime(t,i+n+e)}else{if(!t)return this.output.gain;t.connect(this.output.gain)}},p5.SoundFile.prototype.amp=p5.SoundFile.prototype.setVolume,p5.SoundFile.prototype.fade=p5.SoundFile.prototype.setVolume,p5.SoundFile.prototype.getVolume=function(){return this.output.gain.value},p5.SoundFile.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},p5.SoundFile.prototype.getPan=function(){return this.panPosition},p5.SoundFile.prototype.rate=function(t){if(this.playbackRate!==t||!this.bufferSourceNode||this.bufferSourceNode.playbackRate.value!==t){this.playbackRate=t;var e=t;if(0===this.playbackRate&&this._playing&&this.pause(),this.playbackRate<0&&!this.reversed){{var n=this.currentTime();this.bufferSourceNode.playbackRate.value}this.reverseBuffer(),e=Math.abs(t);var i=(n-this.duration())/e;this.pauseTime=i}else this.playbackRate>0&&this.reversed&&this.reverseBuffer();if(this.bufferSourceNode){var o=s.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(o),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(e),o),this._counterNode.playbackRate.cancelScheduledValues(o),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(e),o)}}},p5.SoundFile.prototype.setPitch=function(t){var e=midiToFreq(t)/midiToFreq(60);this.rate(e)},p5.SoundFile.prototype.getPlaybackRate=function(){return this.playbackRate},p5.SoundFile.prototype.duration=function(){return this.buffer?this.buffer.duration:0},p5.SoundFile.prototype.currentTime=function(){return this._pauseTime>0?this._pauseTime:this._lastPos/a.sampleRate},p5.SoundFile.prototype.jump=function(t,e){if(0>t||t>this.buffer.duration)throw"jump time out of range";if(e>this.buffer.duration-t)throw"end time out of range";var n=t||0,i=e||this.buffer.duration-t;this.isPlaying()&&this.stop(),this.play(0,this.playbackRate,this.output.gain.value,n,i)},p5.SoundFile.prototype.channels=function(){return this.buffer.numberOfChannels},p5.SoundFile.prototype.sampleRate=function(){return this.buffer.sampleRate},p5.SoundFile.prototype.frames=function(){return this.buffer.length},p5.SoundFile.prototype.getPeaks=function(t){if(!this.buffer)throw"Cannot load peaks yet, buffer is not loaded";if(t||(t=5*window.width),this.buffer){for(var e=this.buffer,n=e.length/t,i=~~(n/10)||1,o=e.numberOfChannels,r=new Float32Array(Math.round(t)),s=0;o>s;s++)for(var a=e.getChannelData(s),u=0;t>u;u++){for(var c=~~(u*n),l=~~(c+n),p=0,h=c;l>h;h+=i){var d=a[h];d>p?p=d:-d>p&&(p=d)}(0===s||Math.abs(p)>r[u])&&(r[u]=p)}return r}},p5.SoundFile.prototype.reverseBuffer=function(){var t=this.getVolume();if(this.setVolume(0,.01,0),this.pause(),!this.buffer)throw"SoundFile is not done loading";for(var e=0;e<this.buffer.numberOfChannels;e++)Array.prototype.reverse.call(this.buffer.getChannelData(e));this.reversed=!this.reversed,this.setVolume(t,.01,.0101),this.play()},p5.SoundFile.prototype.onended=function(t){return this._onended=t,this},p5.SoundFile.prototype.add=function(){},p5.SoundFile.prototype.dispose=function(){var t=s.audiocontext.currentTime,e=s.soundArray.indexOf(this);if(s.soundArray.splice(e,1),this.stop(t),this.buffer&&this.bufferSourceNode){for(var n=0;n<this.bufferSourceNodes.length-1;n++)if(null!==this.bufferSourceNodes[n]){this.bufferSourceNodes[n].disconnect();try{this.bufferSourceNodes[n].stop(t)}catch(i){}this.bufferSourceNodes[n]=null}if(this.isPlaying()){try{this._counterNode.stop(t)}catch(i){console.log(i)}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)},p5.SoundFile.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.panner.connect(t.input):this.panner.connect(t):this.panner.connect(s.input)},p5.SoundFile.prototype.disconnect=function(){this.panner.disconnect()},p5.SoundFile.prototype.getLevel=function(){console.warn("p5.SoundFile.getLevel has been removed from the library. Use p5.Amplitude instead")},p5.SoundFile.prototype.setPath=function(t,e){var n=p5.prototype._checkFileFormats(t);this.url=n,this.load(e)},p5.SoundFile.prototype.setBuffer=function(t){var e=t.length,n=t[0].length,i=a.createBuffer(e,n,a.sampleRate);!t[0]instanceof Float32Array&&(t[0]=new Float32Array(t[0]));for(var o=0;e>o;o++){var r=i.getChannelData(o);r.set(t[o])}this.buffer=i,this.panner.inputChannels(e)},p5.SoundFile.prototype._initCounterNode=function(){var t=this,e=a.currentTime,n=a.createBufferSource();return t._scopeNode&&(t._scopeNode.disconnect(),t._scopeNode.onaudioprocess=void 0,t._scopeNode=null),t._scopeNode=a.createScriptProcessor(256,1,1),n.buffer=u(t.buffer),n.playbackRate.setValueAtTime(t.playbackRate,e),n.connect(t._scopeNode),t._scopeNode.connect(p5.soundOut._silentNode),t._scopeNode.onaudioprocess=function(e){var n=e.inputBuffer.getChannelData(0);t._lastPos=n[n.length-1]||0,t._onTimeUpdate(t._lastPos)},n},p5.SoundFile.prototype._initSourceNode=function(){var t=this,e=(a.currentTime,a.createBufferSource());return e.buffer=t.buffer,e.playbackRate.value=t.playbackRate,e};var u=function(t){for(var e=new Float32Array(t.length),n=a.createBuffer(1,t.length,44100),i=0;i<t.length;i++)e[i]=i;return n.getChannelData(0).set(e),n};p5.SoundFile.prototype.processPeaks=function(o,r,s,a){var u=this.buffer.length,c=this.buffer.sampleRate,p=this.buffer,h=r||.9,d=h,f=s||.22,m=a||200,y=new OfflineAudioContext(1,u,c),g=y.createBufferSource();g.buffer=p;var v=y.createBiquadFilter();v.type="lowpass",g.connect(v),v.connect(y.destination),g.start(0),y.startRendering(),y.oncomplete=function(r){var s=r.renderedBuffer,a=s.getChannelData(0);do l=t(a,d),d-=.005;while(Object.keys(l).length<m&&d>=f);var u=e(l),c=n(u,s.sampleRate),p=c.sort(function(t,e){return e.count-t.count}).splice(0,5);this.tempo=p[0].tempo;var h=5,y=i(l,p[0].tempo,s.sampleRate,h);o(y)}};var c=function(t,e){this.sampleIndex=e,this.amplitude=t,this.tempos=[],this.intervals=[]},l=[];p5.SoundFile.prototype.addCue=function(t,e,n){var i=this._cueIDCounter++,o=new p(e,t,i,n);// if (!this.elt.ontimeupdate) {
return this._cues.push(o),i},p5.SoundFile.prototype.removeCue=function(t){for(var e=this._cues.length,n=0;e>n;n++){var i=this._cues[n];i.id===t&&this.cues.splice(n,1)}0===this._cues.length},p5.SoundFile.prototype.clearCues=function(){this._cues=[]},p5.SoundFile.prototype._onTimeUpdate=function(t){for(var e=t/this.buffer.sampleRate,n=this._cues.length,i=0;n>i;i++){var o=this._cues[i],r=o.time,s=o.val;this._prevTime<r&&e>=r&&o.callback(s)}this._prevTime=e};var p=function(t,e,n,i){this.callback=t,this.time=e,this.id=n,this.val=i}}(sndcore,errorHandler,master);var amplitude;amplitude=function(){"use strict";var t=master;p5.Amplitude=function(e){this.bufferSize=2048,this.audiocontext=t.audiocontext,this.processor=this.audiocontext.createScriptProcessor(this.bufferSize,2,1),this.input=this.processor,this.output=this.audiocontext.createGain(),this.smoothing=e||0,this.volume=0,this.average=0,this.stereoVol=[0,0],this.stereoAvg=[0,0],this.stereoVolNorm=[0,0],this.volMax=.001,this.normalize=!1,this.processor.onaudioprocess=this._audioProcess.bind(this),this.processor.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),t.meter.connect(this.processor),t.soundArray.push(this)},p5.Amplitude.prototype.setInput=function(e,n){t.meter.disconnect(),n&&(this.smoothing=n),null==e?(console.log("Amplitude input source is not ready! Connecting to master output instead"),t.meter.connect(this.processor)):e instanceof p5.Signal?e.output.connect(this.processor):e?(e.connect(this.processor),this.processor.disconnect(),this.processor.connect(this.output)):t.meter.connect(this.processor)},p5.Amplitude.prototype.connect=function(e){e?e.hasOwnProperty("input")?this.output.connect(e.input):this.output.connect(e):this.output.connect(this.panner.connect(t.input))},p5.Amplitude.prototype.disconnect=function(){this.output.disconnect()},p5.Amplitude.prototype._audioProcess=function(t){for(var e=0;e<t.inputBuffer.numberOfChannels;e++){for(var n,i=t.inputBuffer.getChannelData(e),o=i.length,r=0,s=0,a=0;o>a;a++)n=i[a],this.normalize?(r+=Math.max(Math.min(n/this.volMax,1),-1),s+=Math.max(Math.min(n/this.volMax,1),-1)*Math.max(Math.min(n/this.volMax,1),-1)):(r+=n,s+=n*n);var u=r/o,c=Math.sqrt(s/o);this.stereoVol[e]=Math.max(c,this.stereoVol[e]*this.smoothing),this.stereoAvg[e]=Math.max(u,this.stereoVol[e]*this.smoothing),this.volMax=Math.max(this.stereoVol[e],this.volMax)}var l=this,p=this.stereoVol.reduce(function(t,e,n){return l.stereoVolNorm[n-1]=Math.max(Math.min(l.stereoVol[n-1]/l.volMax,1),0),l.stereoVolNorm[n]=Math.max(Math.min(l.stereoVol[n]/l.volMax,1),0),t+e});this.volume=p/this.stereoVol.length,this.volNorm=Math.max(Math.min(this.volume/this.volMax,1),0)},p5.Amplitude.prototype.getLevel=function(t){return"undefined"!=typeof t?this.normalize?this.stereoVolNorm[t]:this.stereoVol[t]:this.normalize?this.volNorm:this.volume},p5.Amplitude.prototype.toggleNormalize=function(t){this.normalize="boolean"==typeof t?t:!this.normalize},p5.Amplitude.prototype.smooth=function(t){t>=0&&1>t?this.smoothing=t:console.log("Error: smoothing must be between 0 and 1")},p5.Amplitude.prototype.dispose=function(){var e=t.soundArray.indexOf(this);t.soundArray.splice(e,1),this.input.disconnect(),this.output.disconnect(),this.input=this.processor=void 0,this.output=void 0}}(master);var fft;fft=function(){"use strict";var t=master;p5.FFT=function(e,n){this.smoothing=e||.8,this.bins=n||1024;var i=2*n||2048;this.input=this.analyser=t.audiocontext.createAnalyser(),t.fftMeter.connect(this.analyser),this.analyser.smoothingTimeConstant=this.smoothing,this.analyser.fftSize=i,this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3],t.soundArray.push(this)},p5.FFT.prototype.setInput=function(e){e?(e.output?e.output.connect(this.analyser):e.connect&&e.connect(this.analyser),t.fftMeter.disconnect()):t.fftMeter.connect(this.analyser)},p5.FFT.prototype.waveform=function(){for(var t,e,n,r=0;r<arguments.length;r++)"number"==typeof arguments[r]&&(t=arguments[r],this.analyser.fftSize=2*t),"string"==typeof arguments[r]&&(e=arguments[r]);if(e&&!p5.prototype._isSafari())return i(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;o(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var n=new Array,r=0;r<this.timeDomain.length;r++){var s=p5.prototype.map(this.timeDomain[r],0,255,-1,1);n.push(s)}return n},p5.FFT.prototype.analyze=function(){for(var t,i,o=0;o<arguments.length;o++)"number"==typeof arguments[o]&&(t=this.bins=arguments[o],this.analyser.fftSize=2*this.bins),"string"==typeof arguments[o]&&(i=arguments[o]);if(i&&"db"===i.toLowerCase())return e(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain;n(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain);var r=Array.apply([],this.freqDomain);return r.length===this.analyser.fftSize,r.constructor===Array,r},p5.FFT.prototype.getEnergy=function(e,n){var i=t.audiocontext.sampleRate/2;if("bass"===e?(e=this.bass[0],n=this.bass[1]):"lowMid"===e?(e=this.lowMid[0],n=this.lowMid[1]):"mid"===e?(e=this.mid[0],n=this.mid[1]):"highMid"===e?(e=this.highMid[0],n=this.highMid[1]):"treble"===e&&(e=this.treble[0],n=this.treble[1]),"number"!=typeof e)throw"invalid input for getEnergy()";if(n){if(e&&n){if(e>n){var o=n;n=e,e=o}for(var r=Math.round(e/i*this.freqDomain.length),s=Math.round(n/i*this.freqDomain.length),a=0,u=0,c=r;s>=c;c++)a+=this.freqDomain[c],u+=1;var l=a/u;return l}throw"invalid input for getEnergy()"}var p=Math.round(e/i*this.freqDomain.length);return this.freqDomain[p]},p5.FFT.prototype.getFreq=function(t,e){console.log("getFreq() is deprecated. Please use getEnergy() instead.");var n=this.getEnergy(t,e);return n},p5.FFT.prototype.getCentroid=function(){for(var e=t.audiocontext.sampleRate/2,n=0,i=0,o=0;o<this.freqDomain.length;o++)n+=o*this.freqDomain[o],i+=this.freqDomain[o];var r=0;0!=i&&(r=n/i);var s=r*(e/this.freqDomain.length);return s},p5.FFT.prototype.smooth=function(t){t&&(this.smoothing=t),this.analyser.smoothingTimeConstant=t},p5.FFT.prototype.dispose=function(){var e=t.soundArray.indexOf(this);t.soundArray.splice(e,1),this.analyser.disconnect(),this.analyser=void 0};var e=function(t){t.freqDomain instanceof Float32Array==!1&&(t.freqDomain=new Float32Array(t.analyser.frequencyBinCount))},n=function(t){t.freqDomain instanceof Uint8Array==!1&&(t.freqDomain=new Uint8Array(t.analyser.frequencyBinCount))},i=function(t){t.timeDomain instanceof Float32Array==!1&&(t.timeDomain=new Float32Array(t.analyser.frequencyBinCount))},o=function(t){t.timeDomain instanceof Uint8Array==!1&&(t.timeDomain=new Uint8Array(t.analyser.frequencyBinCount))}}(master);var Tone_core_Tone;Tone_core_Tone=function(){"use strict";function t(t){return void 0===t}function e(t){return"function"==typeof t}var n;if(t(window.AudioContext)&&(window.AudioContext=window.webkitAudioContext),t(window.OfflineAudioContext)&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),t(AudioContext))throw new Error("Web Audio is not supported in this browser");n=new AudioContext,e(AudioContext.prototype.createGain)||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),e(AudioContext.prototype.createDelay)||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),e(AudioContext.prototype.createPeriodicWave)||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),e(AudioBufferSourceNode.prototype.start)||(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),e(AudioBufferSourceNode.prototype.stop)||(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),e(OscillatorNode.prototype.start)||(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),e(OscillatorNode.prototype.stop)||(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),e(OscillatorNode.prototype.setPeriodicWave)||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioNode.prototype._nativeConnect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(e,n,i){if(e.input)Array.isArray(e.input)?(t(i)&&(i=0),this.connect(e.input[i])):this.connect(e.input,n,i);else try{e instanceof AudioNode?this._nativeConnect(e,n,i):this._nativeConnect(e,n)}catch(o){throw new Error("error connecting to node: "+e)}};var i=function(e,n){t(e)||1===e?this.input=this.context.createGain():e>1&&(this.input=new Array(e)),t(n)||1===n?this.output=this.context.createGain():n>1&&(this.output=new Array(e))};i.prototype.set=function(e,n,o){if(this.isObject(e))o=n;else if(this.isString(e)){var r={};r[e]=n,e=r}for(var s in e){n=e[s];var a=this;if(-1!==s.indexOf(".")){for(var u=s.split("."),c=0;c<u.length-1;c++)a=a[u[c]];s=u[u.length-1]}var l=a[s];t(l)||(i.Signal&&l instanceof i.Signal||i.Param&&l instanceof i.Param?l.value!==n&&(t(o)?l.value=n:l.rampTo(n,o)):l instanceof AudioParam?l.value!==n&&(l.value=n):l instanceof i?l.set(n):l!==n&&(a[s]=n))}return this},i.prototype.get=function(n){t(n)?n=this._collectDefaults(this.constructor):this.isString(n)&&(n=[n]);for(var o={},r=0;r<n.length;r++){var s=n[r],a=this,u=o;if(-1!==s.indexOf(".")){for(var c=s.split("."),l=0;l<c.length-1;l++){var p=c[l];u[p]=u[p]||{},u=u[p],a=a[p]}s=c[c.length-1]}var h=a[s];this.isObject(n[s])?u[s]=h.get():i.Signal&&h instanceof i.Signal?u[s]=h.value:i.Param&&h instanceof i.Param?u[s]=h.value:h instanceof AudioParam?u[s]=h.value:h instanceof i?u[s]=h.get():e(h)||t(h)||(u[s]=h)}return o},i.prototype._collectDefaults=function(e){var n=[];if(t(e.defaults)||(n=Object.keys(e.defaults)),!t(e._super))for(var i=this._collectDefaults(e._super),o=0;o<i.length;o++)-1===n.indexOf(i[o])&&n.push(i[o]);return n},i.prototype.toString=function(){for(var t in i){var n=t[0].match(/^[A-Z]$/),o=i[t]===this.constructor;if(e(i[t])&&n&&o)return t}return"Tone"},i.context=n,i.prototype.context=i.context,i.prototype.bufferSize=2048,i.prototype.blockTime=128/i.context.sampleRate,i.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this};var o=null;i.prototype.noGC=function(){return this.output.connect(o),this},AudioNode.prototype.noGC=function(){return this.connect(o),this},i.prototype.connect=function(t,e,n){return Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,n)):this.output.connect(t,e,n),this},i.prototype.disconnect=function(t){return Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].disconnect()):this.output.disconnect(),this},i.prototype.connectSeries=function(){if(arguments.length>1)for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},i.prototype.connectParallel=function(){var t=arguments[0];if(arguments.length>1)for(var e=1;e<arguments.length;e++){var n=arguments[e];t.connect(n)}return this},i.prototype.chain=function(){if(arguments.length>0)for(var t=this,e=0;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},i.prototype.fan=function(){if(arguments.length>0)for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},AudioNode.prototype.chain=i.prototype.chain,AudioNode.prototype.fan=i.prototype.fan,i.prototype.defaultArg=function(e,n){if(this.isObject(e)&&this.isObject(n)){var i={};for(var o in e)i[o]=this.defaultArg(n[o],e[o]);for(var r in n)i[r]=this.defaultArg(e[r],n[r]);return i}return t(e)?n:e},i.prototype.optionsObject=function(t,e,n){var i={};if(1===t.length&&this.isObject(t[0]))i=t[0];else for(var o=0;o<e.length;o++)i[e[o]]=t[o];return this.isUndef(n)?i:this.defaultArg(i,n)},i.prototype.isUndef=t,i.prototype.isFunction=e,i.prototype.isNumber=function(t){return"number"==typeof t},i.prototype.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},i.prototype.isBoolean=function(t){return"boolean"==typeof t},i.prototype.isArray=function(t){return Array.isArray(t)},i.prototype.isString=function(t){return"string"==typeof t},i.noOp=function(){},i.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},i.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},i.State={Started:"started",Stopped:"stopped",Paused:"paused"},i.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},i.prototype.dbToGain=function(t){return Math.pow(2,t/6)},i.prototype.gainToDb=function(t){return 20*(Math.log(t)/Math.LN10)},i.prototype.now=function(){return this.context.currentTime},i.extend=function(e,n){function o(){}t(n)&&(n=i),o.prototype=n.prototype,e.prototype=new o,e.prototype.constructor=e,e._super=n};var r=[];return i._initAudioContext=function(t){t(i.context),r.push(t)},i.setContext=function(t){i.prototype.context=t,i.context=t;for(var e=0;e<r.length;e++)r[e](t)},i.startMobile=function(){var t=i.context.createOscillator(),e=i.context.createGain();e.gain.value=0,t.connect(e),e.connect(i.context.destination);var n=i.context.currentTime;t.start(n),t.stop(n+1)},i._initAudioContext(function(t){i.prototype.blockTime=128/t.sampleRate,o=t.createGain(),o.gain.value=0,o.connect(t.destination)}),i.version="r7-dev",i}();var Tone_signal_SignalBase;Tone_signal_SignalBase=function(t){"use strict";return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,n,i){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor||t.TimelineSignal&&t.TimelineSignal===e.constructor?(e._param.cancelScheduledValues(0),e._param.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.prototype.connect.call(this,e,n,i),this},t.SignalBase}(Tone_core_Tone);var Tone_signal_WaveShaper;Tone_signal_WaveShaper=function(t){"use strict";return t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):this.isFunction(t)&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,n=this._curve.length;n>e;e++){var i=e/n*2-1;this._curve[e]=t(i,e)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(-1===["none","2x","4x"].indexOf(t))throw new Error("invalid oversampling: "+t);this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}(Tone_core_Tone);var Tone_core_Type;Tone_core_Type=function(Tone){"use strict";function getTransportBpm(){return Tone.Transport&&Tone.Transport.bpm?Tone.Transport.bpm.value:120}function getTransportTimeSignature(){return Tone.Transport&&Tone.Transport.timeSignature?Tone.Transport.timeSignature:4}function toNotationHelper(t,e,n,i){for(var o=this.toSeconds(t),r=this.notationToSeconds(i[i.length-1],e,n),s="",a=0;a<i.length;a++){var u=this.notationToSeconds(i[a],e,n),c=o/u,l=1e-6;if(l>1-c%1&&(c+=l),c=Math.floor(c),c>0){if(s+=1===c?i[a]:c.toString()+"*"+i[a],o-=c*u,r>o)break;s+=" + "}}return""===s&&(s="0"),s}Tone.Type={Default:"number",Time:"time",Frequency:"frequency",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",TransportTime:"transportTime",Ticks:"tick",Note:"note",Milliseconds:"milliseconds",Notation:"notation"},Tone.prototype.isNowRelative=function(){var t=new RegExp(/^\s*\+(.)+/i);return function(e){return t.test(e)}}(),Tone.prototype.isTicks=function(){var t=new RegExp(/^\d+i$/i);return function(e){return t.test(e)}}(),Tone.prototype.isNotation=function(){var t=new RegExp(/^[0-9]+[mnt]$/i);return function(e){return t.test(e)}}(),Tone.prototype.isTransportTime=function(){var t=new RegExp(/^(\d+(\.\d+)?\:){1,2}(\d+(\.\d+)?)?$/i);return function(e){return t.test(e)}}(),Tone.prototype.isNote=function(){var t=new RegExp(/^[a-g]{1}(b|#|x|bb)?-?[0-9]+$/i);return function(e){return t.test(e)}}(),Tone.prototype.isFrequency=function(){var t=new RegExp(/^\d*\.?\d+hz$/i);return function(e){return t.test(e)}}(),Tone.prototype.notationToSeconds=function(t,e,n){e=this.defaultArg(e,getTransportBpm()),n=this.defaultArg(n,getTransportTimeSignature());var i=60/e;"1n"===t&&(t="1m");var o=parseInt(t,10),r=0;0===o&&(r=0);var s=t.slice(-1);return r="t"===s?4/o*2/3:"n"===s?4/o:"m"===s?o*n:0,i*r},Tone.prototype.transportTimeToSeconds=function(t,e,n){e=this.defaultArg(e,getTransportBpm()),n=this.defaultArg(n,getTransportTimeSignature());var i=0,o=0,r=0,s=t.split(":");2===s.length?(i=parseFloat(s[0]),o=parseFloat(s[1])):1===s.length?o=parseFloat(s[0]):3===s.length&&(i=parseFloat(s[0]),o=parseFloat(s[1]),r=parseFloat(s[2]));var a=i*n+o+r/4;return a*(60/e)},Tone.prototype.ticksToSeconds=function(t,e){if(this.isUndef(Tone.Transport))return 0;t=parseFloat(t),e=this.defaultArg(e,getTransportBpm());var n=60/e/Tone.Transport.PPQ;return n*t},Tone.prototype.frequencyToSeconds=function(t){return 1/parseFloat(t)},Tone.prototype.samplesToSeconds=function(t){return t/this.context.sampleRate},Tone.prototype.secondsToSamples=function(t){return t*this.context.sampleRate},Tone.prototype.secondsToTransportTime=function(t,e,n){e=this.defaultArg(e,getTransportBpm()),n=this.defaultArg(n,getTransportTimeSignature());var i=60/e,o=t/i,r=Math.floor(o/n),s=o%1*4;o=Math.floor(o)%n;var a=[r,o,s];return a.join(":")},Tone.prototype.secondsToFrequency=function(t){return 1/t},Tone.prototype.toTransportTime=function(t,e,n){var i=this.toSeconds(t);return this.secondsToTransportTime(i,e,n)},Tone.prototype.toFrequency=function(t,e){return this.isFrequency(t)?parseFloat(t):this.isNotation(t)||this.isTransportTime(t)?this.secondsToFrequency(this.toSeconds(t,e)):this.isNote(t)?this.noteToFrequency(t):t},Tone.prototype.toTicks=function(t){if(this.isUndef(Tone.Transport))return 0;var e=Tone.Transport.bpm.value,n=0;if(this.isNowRelative(t))t=t.replace("+",""),n=Tone.Transport.ticks;else if(this.isUndef(t))return Tone.Transport.ticks;var i=this.toSeconds(t),o=60/e,r=i/o,s=r*Tone.Transport.PPQ;return Math.round(s+n)},Tone.prototype.toSamples=function(t){var e=this.toSeconds(t);return Math.round(e*this.context.sampleRate)},Tone.prototype.toSeconds=function(time,now){if(now=this.defaultArg(now,this.now()),this.isNumber(time))return time;if(this.isString(time)){var plusTime=0;this.isNowRelative(time)&&(time=time.replace("+",""),plusTime=now);var betweenParens=time.match(/\(([^)(]+)\)/g);if(betweenParens)for(var j=0;j<betweenParens.length;j++){var symbol=betweenParens[j].replace(/[\(\)]/g,""),symbolVal=this.toSeconds(symbol);time=time.replace(betweenParens[j],symbolVal)}if(-1!==time.indexOf("@")){var quantizationSplit=time.split("@");if(this.isUndef(Tone.Transport))throw new Error("quantization requires Tone.Transport");var toQuantize=quantizationSplit[0].trim();""===toQuantize&&(toQuantize=void 0),plusTime>0&&(toQuantize="+"+toQuantize,plusTime=0);var subdivision=quantizationSplit[1].trim();time=Tone.Transport.quantize(toQuantize,subdivision)}else{var components=time.split(/[\(\)\-\+\/\*]/);if(components.length>1){for(var originalTime=time,i=0;i<components.length;i++){var symb=components[i].trim();if(""!==symb){var val=this.toSeconds(symb);time=time.replace(symb,val)}}try{time=eval(time)}catch(e){throw new EvalError("cannot evaluate Time: "+originalTime)}}else time=this.isNotation(time)?this.notationToSeconds(time):this.isTransportTime(time)?this.transportTimeToSeconds(time):this.isFrequency(time)?this.frequencyToSeconds(time):this.isTicks(time)?this.ticksToSeconds(time):parseFloat(time)}return time+plusTime}return now},Tone.prototype.toNotation=function(t,e,n){var i=["1m","2n","4n","8n","16n","32n","64n","128n"],o=toNotationHelper.call(this,t,e,n,i),r=["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"],s=toNotationHelper.call(this,t,e,n,r);return s.split("+").length<o.split("+").length?s:o},Tone.prototype.fromUnits=function(t,e){if(!this.convert&&!this.isUndef(this.convert))return t;switch(e){case Tone.Type.Time:return this.toSeconds(t);case Tone.Type.Frequency:return this.toFrequency(t);case Tone.Type.Decibels:return this.dbToGain(t);case Tone.Type.NormalRange:return Math.min(Math.max(t,0),1);case Tone.Type.AudioRange:return Math.min(Math.max(t,-1),1);case Tone.Type.Positive:return Math.max(t,0);default:return t}},Tone.prototype.toUnits=function(t,e){if(!this.convert&&!this.isUndef(this.convert))return t;switch(e){case Tone.Type.Decibels:return this.gainToDb(t);default:return t}};var noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return Tone.A4=440,Tone.prototype.noteToFrequency=function(t){var e=t.split(/(-?\d+)/);if(3===e.length){var n=noteToScaleIndex[e[0].toLowerCase()],i=e[1],o=n+12*(parseInt(i,10)+1);return this.midiToFrequency(o)}return 0},Tone.prototype.frequencyToNote=function(t){var e=Math.log(t/Tone.A4)/Math.LN2,n=Math.round(12*e)+57,i=Math.floor(n/12);0>i&&(n+=-12*i);var o=scaleIndexToNote[n%12];return o+i.toString()},Tone.prototype.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},Tone.prototype.midiToNote=function(t){var e=Math.floor(t/12)-1,n=t%12;return scaleIndexToNote[n]+e},Tone.prototype.noteToMidi=function(t){var e=t.split(/(\d+)/);if(3===e.length){var n=noteToScaleIndex[e[0].toLowerCase()],i=e[1];return n+12*(parseInt(i,10)+1)}return 0},Tone.prototype.midiToFrequency=function(t){return Tone.A4*Math.pow(2,(t-69)/12)},Tone}(Tone_core_Tone);var Tone_core_Param;Tone_core_Param=function(t){"use strict";return t.Param=function(){var e=this.optionsObject(arguments,["param","units","convert"],t.Param.defaults);this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this.isUndef(e.value)||(this.value=e.value)},t.extend(t.Param),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){var e=this._fromUnits(t);this._param.value=e}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return this.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return this.gainToDb(e);default:return e}},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.setValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.setRampPoint=function(t){t=this.defaultArg(t,this.now());var e=this._param.value;return this._param.setValueAtTime(e,t),this},t.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.linearRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),this._param.exponentialRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValue=function(t,e){var n=this.now(),i=this.value;return this.setValueAtTime(Math.max(i,this._minOutput),n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.linearRampToValue=function(t,e){var n=this.now();return this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.setTargetAtTime=function(t,e,n){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),n=Math.max(this._minOutput,n),this._param.setTargetAtTime(t,this.toSeconds(e),n),this},t.Param.prototype.setValueCurveAtTime=function(t,e,n){for(var i=0;i<t.length;i++)t[i]=this._fromUnits(t[i]);return this._param.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(n)),this},t.Param.prototype.cancelScheduledValues=function(t){return this._param.cancelScheduledValues(this.toSeconds(t)),this},t.Param.prototype.rampTo=function(e,n){return n=this.defaultArg(n,0),this.units===t.Type.Frequency||this.units===t.Type.BPM?this.exponentialRampToValue(e,n):this.linearRampToValue(e,n),this},t.Param.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param=null,this},t.Param}(Tone_core_Tone);var Tone_core_Gain;Tone_core_Gain=function(t){"use strict";return t.Gain=function(){var e=this.optionsObject(arguments,["gain","units"],t.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.Gain}(Tone_core_Tone,Tone_core_Param);var Tone_signal_Signal;Tone_signal_Signal=function(t){"use strict";return t.Signal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.output=this._gain=this.context.createGain(),e.param=this._gain.gain,t.Param.call(this,e),this.input=this._param=this._gain.gain,t.Signal._constant.chain(this._gain)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},t.Signal._constant=null,t._initAudioContext(function(e){for(var n=e.createBuffer(1,128,e.sampleRate),i=n.getChannelData(0),o=0;o<i.length;o++)i[o]=1;t.Signal._constant=e.createBufferSource(),t.Signal._constant.channelCount=1,t.Signal._constant.channelCountMode="explicit",t.Signal._constant.buffer=n,t.Signal._constant.loop=!0,t.Signal._constant.start(0),t.Signal._constant.noGC()}),t.Signal}(Tone_core_Tone,Tone_signal_WaveShaper,Tone_core_Type,Tone_core_Param);var Tone_signal_Add;Tone_signal_Add=function(t){"use strict";return t.Add=function(e){t.call(this,2,0),this._sum=this.input[0]=this.input[1]=this.output=this.context.createGain(),this._param=this.input[1]=new t.Signal(e),this._param.connect(this._sum)},t.extend(t.Add,t.Signal),t.Add.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},t.Add}(Tone_core_Tone);var Tone_signal_Multiply;Tone_signal_Multiply=function(t){"use strict";return t.Multiply=function(e){t.call(this,2,0),this._mult=this.input[0]=this.output=this.context.createGain(),this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(e,0)},t.extend(t.Multiply,t.Signal),t.Multiply.prototype.dispose=function(){return t.prototype.dispose.call(this),this._mult.disconnect(),this._mult=null,this._param=null,this},t.Multiply}(Tone_core_Tone);var Tone_signal_Scale;Tone_signal_Scale=function(t){"use strict";return t.Scale=function(e,n){this._outputMin=this.defaultArg(e,0),this._outputMax=this.defaultArg(n,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),t.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},t.Scale.prototype.dispose=function(){return t.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},t.Scale}(Tone_core_Tone,Tone_signal_Add,Tone_signal_Multiply);var signal;signal=function(){"use strict";var t=Tone_signal_Signal,e=Tone_signal_Add,n=Tone_signal_Multiply,i=Tone_signal_Scale,o=Tone_core_Tone,r=master;o.setContext(r.audiocontext),p5.Signal=function(e){var n=new t(e);return n},t.prototype.fade=t.prototype.linearRampToValueAtTime,n.prototype.fade=t.prototype.fade,e.prototype.fade=t.prototype.fade,i.prototype.fade=t.prototype.fade,t.prototype.setInput=function(t){t.connect(this)},n.prototype.setInput=t.prototype.setInput,e.prototype.setInput=t.prototype.setInput,i.prototype.setInput=t.prototype.setInput,t.prototype.add=function(t){var n=new e(t);return this.connect(n),n},n.prototype.add=t.prototype.add,e.prototype.add=t.prototype.add,i.prototype.add=t.prototype.add,t.prototype.mult=function(t){var e=new n(t);return this.connect(e),e},n.prototype.mult=t.prototype.mult,e.prototype.mult=t.prototype.mult,i.prototype.mult=t.prototype.mult,t.prototype.scale=function(t,e,n,o){var r,s;4===arguments.length?(r=p5.prototype.map(n,t,e,0,1)-.5,s=p5.prototype.map(o,t,e,0,1)-.5):(r=arguments[0],s=arguments[1]);var a=new i(r,s);return this.connect(a),a},n.prototype.scale=t.prototype.scale,e.prototype.scale=t.prototype.scale,i.prototype.scale=t.prototype.scale}(Tone_signal_Signal,Tone_signal_Add,Tone_signal_Multiply,Tone_signal_Scale,Tone_core_Tone,master);var oscillator;oscillator=function(){"use strict";var t=master,e=Tone_signal_Add,n=Tone_signal_Multiply,i=Tone_signal_Scale;/**
   *  <p>Creates a signal that oscillates between -1.0 and 1.0.
   *  By default, the oscillation takes the form of a sinusoidal
   *  shape ('sine'). Additional types include 'triangle',
   *  'sawtooth' and 'square'. The frequency defaults to
   *  440 oscillations per second (440Hz, equal to the pitch of an
   *  'A' note).</p> 
   *
   *  <p>Set the type of oscillation with setType(), or by creating a
   *  specific oscillator.</p> For example:
   *  <code>new p5.SinOsc(freq)</code>
   *  <code>new p5.TriOsc(freq)</code>
   *  <code>new p5.SqrOsc(freq)</code>
   *  <code>new p5.SawOsc(freq)</code>.
   *  </p>
   *  
   *  @class p5.Oscillator
   *  @constructor
   *  @param {Number} [freq] frequency defaults to 440Hz
   *  @param {String} [type] type of oscillator. Options:
   *                         'sine' (default), 'triangle',
   *                         'sawtooth', 'square'
   *  @return {Object}    Oscillator object
   *  @example
   *  <div><code>
   *  var osc;
   *  var playing = false;
   *  
   *  function setup() {
   *    backgroundColor = color(255,0,255);
   *    textAlign(CENTER);
   *    
   *    osc = new p5.Oscillator();
   *    osc.setType('sine');
   *    osc.freq(240);
   *    osc.amp(0);
   *    osc.start();
   *  }
   *
   *  function draw() {
   *    background(backgroundColor)
   *    text('click to play', width/2, height/2);
   *  }
   *
   *  function mouseClicked() {
   *    if (mouseX > 0 && mouseX < width && mouseY < height && mouseY > 0) {
   *      if (!playing) {
   *        // ramp amplitude to 0.5 over 0.1 seconds
   *        osc.amp(0.5, 0.05);
   *        playing = true;
   *        backgroundColor = color(0,255,255);
   *      } else {
   *        // ramp amplitude to 0 over 0.5 seconds
   *        osc.amp(0, 0.5);
   *        playing = false;
   *        backgroundColor = color(255,0,255);
   *      }
   *    }
   *  }
   *  </code> </div>
   */
p5.Oscillator=function(e,n){if("string"==typeof e){var i=n;n=e,e=i}if("number"==typeof n){var i=n;n=e,e=i}this.started=!1,this.phaseAmount=void 0,this.oscillator=t.audiocontext.createOscillator(),this.f=e||440,this.oscillator.type=n||"sine",this.oscillator.frequency.setValueAtTime(this.f,t.audiocontext.currentTime);this.oscillator;this.output=t.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,t.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=t.input,this.panner=new p5.Panner(this.output,this.connection,1),this.mathOps=[this.output],t.soundArray.push(this)},p5.Oscillator.prototype.start=function(e,n){if(this.started){var i=t.audiocontext.currentTime;this.stop(i)}if(!this.started){var o=n||this.f,r=this.oscillator.type;this.oscillator&&(this.oscillator.disconnect(),this.oscillator=void 0),this.oscillator=t.audiocontext.createOscillator(),this.oscillator.frequency.exponentialRampToValueAtTime(Math.abs(o),t.audiocontext.currentTime),this.oscillator.type=r,this.oscillator.connect(this.output),e=e||0,this.oscillator.start(e+t.audiocontext.currentTime),this.freqNode=this.oscillator.frequency;for(var s in this._freqMods)"undefined"!=typeof this._freqMods[s].connect&&this._freqMods[s].connect(this.oscillator.frequency);this.started=!0}},p5.Oscillator.prototype.stop=function(e){if(this.started){var n=e||0,i=t.audiocontext.currentTime;this.oscillator.stop(n+i),this.started=!1}},p5.Oscillator.prototype.amp=function(e,n,i){var o=this;if("number"==typeof e){var n=n||0,i=i||0,r=t.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(r),this.output.gain.linearRampToValueAtTime(s,r+i),this.output.gain.linearRampToValueAtTime(e,r+i+n)}else{if(!e)return this.output.gain;e.connect(o.output.gain)}},p5.Oscillator.prototype.fade=p5.Oscillator.prototype.amp,p5.Oscillator.prototype.getAmp=function(){return this.output.gain.value},p5.Oscillator.prototype.freq=function(e,n,i){if("number"!=typeof e||isNaN(e)){if(!e)return this.oscillator.frequency;e.output&&(e=e.output),e.connect(this.oscillator.frequency),this._freqMods.push(e)}else{this.f=e;var o=t.audiocontext.currentTime,n=n||0,i=i||0;0==n?(this.oscillator.frequency.cancelScheduledValues(o),this.oscillator.frequency.setValueAtTime(e,i+o)):e>0?this.oscillator.frequency.exponentialRampToValueAtTime(e,i+n+o):this.oscillator.frequency.linearRampToValueAtTime(e,i+n+o),this.phaseAmount&&this.phase(this.phaseAmount)}},p5.Oscillator.prototype.getFreq=function(){return this.oscillator.frequency.value},p5.Oscillator.prototype.setType=function(t){this.oscillator.type=t},p5.Oscillator.prototype.getType=function(){return this.oscillator.type},p5.Oscillator.prototype.connect=function(e){e?e.hasOwnProperty("input")?(this.panner.connect(e.input),this.connection=e.input):(this.panner.connect(e),this.connection=e):this.panner.connect(t.input)},p5.Oscillator.prototype.disconnect=function(){this.output.disconnect(),this.panner.disconnect(),this.output.connect(this.panner),this.oscMods=[]},p5.Oscillator.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},p5.Oscillator.prototype.getPan=function(){return this.panPosition},p5.Oscillator.prototype.dispose=function(){var e=t.soundArray.indexOf(this);if(t.soundArray.splice(e,1),this.oscillator){var n=t.audiocontext.currentTime;this.stop(n),this.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()},p5.Oscillator.prototype.phase=function(e){var n=p5.prototype.map(e,0,1,0,1/this.f),i=t.audiocontext.currentTime;this.phaseAmount=e,this.dNode||(this.dNode=t.audiocontext.createDelay(),this.oscillator.disconnect(),this.oscillator.connect(this.dNode),this.dNode.connect(this.output)),this.dNode.delayTime.setValueAtTime(n,i)};var o=function(t,e,n,i,o){var r=t.oscillator;for(var s in t.mathOps)t.mathOps[s]instanceof o&&(r.disconnect(),t.mathOps[s].dispose(),n=s,n<t.mathOps.length-2&&(i=t.mathOps[s+1]));return n==t.mathOps.length-1&&t.mathOps.push(i),s>0&&(r=t.mathOps[s-1]),r.disconnect(),r.connect(e),e.connect(i),t.mathOps[n]=e,t};p5.Oscillator.prototype.add=function(t){var n=new e(t),i=this.mathOps.length-1,r=this.output;return o(this,n,i,r,e)},/**
   *  Multiply the p5.Oscillator's output amplitude
   *  by a fixed value (i.e. turn it up!). Calling this method
   *  again will override the initial mult() with a new value.
   *  
   *  @method  mult
   *  @param {Number} number Constant number to multiply
   *  @return {p5.Oscillator} Oscillator Returns this oscillator
   *                                     with multiplied output
   */
p5.Oscillator.prototype.mult=function(t){var e=new n(t),i=this.mathOps.length-1,r=this.output;return o(this,e,i,r,n)},p5.Oscillator.prototype.scale=function(t,e,n,r){var s,a;4===arguments.length?(s=p5.prototype.map(n,t,e,0,1)-.5,a=p5.prototype.map(r,t,e,0,1)-.5):(s=arguments[0],a=arguments[1]);var u=new i(s,a),c=this.mathOps.length-1,l=this.output;return o(this,u,c,l,i)},p5.SinOsc=function(t){p5.Oscillator.call(this,t,"sine")},p5.SinOsc.prototype=Object.create(p5.Oscillator.prototype),p5.TriOsc=function(t){p5.Oscillator.call(this,t,"triangle")},p5.TriOsc.prototype=Object.create(p5.Oscillator.prototype),p5.SawOsc=function(t){p5.Oscillator.call(this,t,"sawtooth")},p5.SawOsc.prototype=Object.create(p5.Oscillator.prototype),p5.SqrOsc=function(t){p5.Oscillator.call(this,t,"square")},p5.SqrOsc.prototype=Object.create(p5.Oscillator.prototype)}(master,Tone_signal_Signal,Tone_signal_Add,Tone_signal_Multiply,Tone_signal_Scale);var Tone_core_Timeline;Tone_core_Timeline=function(t){"use strict";return t.Timeline=function(){var e=this.optionsObject(arguments,["memory"],t.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.addEvent=function(t){if(this.isUndef(t.time))throw new Error("events must have a time attribute");if(t.time=this.toSeconds(t.time),this._timeline.length){var e=this._search(t.time);this._timeline.splice(e+1,0,t)}else this._timeline.push(t);if(this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},t.Timeline.prototype.removeEvent=function(t){if(this._iterating)this._toRemove.push(t);else{var e=this._timeline.indexOf(t);-1!==e&&this._timeline.splice(e,1)}return this},t.Timeline.prototype.getEvent=function(t){t=this.toSeconds(t);var e=this._search(t);return-1!==e?this._timeline[e]:null},t.Timeline.prototype.getEventAfter=function(t){t=this.toSeconds(t);var e=this._search(t);return e+1<this._timeline.length?this._timeline[e+1]:null},t.Timeline.prototype.getEventBefore=function(t){t=this.toSeconds(t);var e=this._search(t);return e-1>=0?this._timeline[e-1]:null},t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){t=this.toSeconds(t);var e=this._search(t);this._timeline=e>=0?this._timeline.slice(0,e):[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){if(this._timeline.length){t=this.toSeconds(t);var e=this._search(t);e>=0&&(this._timeline=this._timeline.slice(e+1))}return this},t.Timeline.prototype._search=function(t){for(var e=0,n=this._timeline.length,i=n;i>=e&&n>e;){var o=Math.floor(e+(i-e)/2),r=this._timeline[o];if(r.time===t){for(var s=o;s<this._timeline.length;s++){var a=this._timeline[s];a.time===t&&(o=s)}return o}r.time>t?i=o-1:r.time<t&&(e=o+1)}return e-1},t.Timeline.prototype._iterate=function(t,e,n){this._iterating=!0,e=this.defaultArg(e,0),n=this.defaultArg(n,this._timeline.length-1);for(var i=e;n>=i;i++)t(this._timeline[i]);if(this._iterating=!1,this._toRemove.length>0){for(var o=0;o<this._toRemove.length;o++){var r=this._timeline.indexOf(this._toRemove[o]);-1!==r&&this._timeline.splice(r,1)}this._toRemove=[]}},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){t=this.toSeconds(t);var n=this._search(t);return-1!==n&&this._iterate(e,0,n),this},t.Timeline.prototype.forEachAfter=function(t,e){t=this.toSeconds(t);var n=this._search(t);return this._iterate(e,n+1),this},t.Timeline.prototype.forEachFrom=function(t,e){t=this.toSeconds(t);for(var n=this._search(t);n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){t=this.toSeconds(t);var n=this._search(t);return-1!==n&&this._iterate(function(n){n.time===t&&e(n)},0,n),this},t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},t.Timeline}(Tone_core_Tone);var Tone_signal_TimelineSignal;Tone_signal_TimelineSignal=function(t){"use strict";return t.TimelineSignal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);t.Signal.apply(this,e),e.param=this._param,t.Param.call(this,e),this._events=new t.Timeline(10),this._initial=this._fromUnits(this._param.value)},t.extend(t.TimelineSignal,t.Param),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){var e=this._fromUnits(t);this._initial=e,this._param.value=e}}),t.TimelineSignal.prototype.setValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.addEvent({type:t.TimelineSignal.Type.Set,value:e,time:n}),this._param.setValueAtTime(e,n),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.addEvent({type:t.TimelineSignal.Type.Linear,value:e,time:n}),this._param.linearRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(e,n){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),n=this.toSeconds(n),this._events.addEvent({type:t.TimelineSignal.Type.Exponential,value:e,time:n}),this._param.exponentialRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.setTargetAtTime=function(e,n,i){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),i=Math.max(this._minOutput,i),n=this.toSeconds(n),this._events.addEvent({type:t.TimelineSignal.Type.Target,value:e,time:n,constant:i}),this._param.setTargetAtTime(e,n,i),this},t.TimelineSignal.prototype.cancelScheduledValues=function(t){return this._events.cancel(t),this._param.cancelScheduledValues(this.toSeconds(t)),this},t.TimelineSignal.prototype.setRampPoint=function(e){e=this.toSeconds(e);var n=this.getValueAtTime(e),i=this._searchAfter(e);return i&&(this.cancelScheduledValues(e),i.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(n,e):i.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(n,e)),this.setValueAtTime(n,e),this},t.TimelineSignal.prototype.linearRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.linearRampToValueAtTime(t,n),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.exponentialRampToValueAtTime(t,n),this},t.TimelineSignal.prototype._searchBefore=function(t){return this._events.getEvent(t)},t.TimelineSignal.prototype._searchAfter=function(t){return this._events.getEventAfter(t)},t.TimelineSignal.prototype.getValueAtTime=function(e){var n=this._searchAfter(e),i=this._searchBefore(e),o=this._initial;if(null===i)o=this._initial;else if(i.type===t.TimelineSignal.Type.Target){var r,s=this._events.getEventBefore(i.time);r=null===s?this._initial:s.value,o=this._exponentialApproach(i.time,r,i.value,i.constant,e)}else o=null===n?i.value:n.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(i.time,i.value,n.time,n.value,e):n.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(i.time,i.value,n.time,n.value,e):i.value;return o},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(t,e,n,i,o){return n+(e-n)*Math.exp(-(o-t)/i)},t.TimelineSignal.prototype._linearInterpolate=function(t,e,n,i,o){return e+(i-e)*((o-t)/(n-t))},t.TimelineSignal.prototype._exponentialInterpolate=function(t,e,n,i,o){return e=Math.max(this._minOutput,e),e*Math.pow(i/e,(o-t)/(n-t))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),t.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}(Tone_core_Tone,Tone_signal_Signal);var env;env=function(){"use strict";var t=master,e=Tone_signal_Add,n=Tone_signal_Multiply,i=Tone_signal_Scale,o=Tone_signal_TimelineSignal,r=Tone_core_Tone;r.setContext(t.audiocontext),p5.Env=function(e,n,i,r,s,a){t.audiocontext.currentTime;this.aTime=e||.1,this.aLevel=n||1,this.dTime=i||.5,this.dLevel=r||0,this.rTime=s||0,this.rLevel=a||0,this._rampHighPercentage=.98,this._rampLowPercentage=.02,this.output=t.audiocontext.createGain(),this.control=new o,this._init(),this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],this.isExponential=!1,this.sourceToClear=null,this.wasTriggered=!1,t.soundArray.push(this)},p5.Env.prototype._init=function(){var e=t.audiocontext.currentTime,n=e;this.control.setTargetAtTime(1e-5,n,.001),this._setRampAD(this.aTime,this.dTime)},p5.Env.prototype.set=function(t,e,n,i,o,r){this.aTime=t,this.aLevel=e,this.dTime=n||0,this.dLevel=i||0,this.rTime=o||0,this.rLevel=r||0,this._setRampAD(t,n)},p5.Env.prototype.setADSR=function(t,e,n,i){this.aTime=t,this.dTime=e||0,this.sPercent=n||0,this.dLevel="undefined"!=typeof n?n*(this.aLevel-this.rLevel)+this.rLevel:0,this.rTime=i||0,this._setRampAD(t,e)},p5.Env.prototype.setRange=function(t,e){this.aLevel=t||1,this.rLevel=e||0},p5.Env.prototype._setRampAD=function(t,e){this._rampAttackTime=this.checkExpInput(t),this._rampDecayTime=this.checkExpInput(e);var n=1;n=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=t/this.checkExpInput(n),n=Math.log(1/this._rampLowPercentage),this._rampDecayTC=e/this.checkExpInput(n)},p5.Env.prototype.setRampPercentages=function(t,e){this._rampHighPercentage=this.checkExpInput(t),this._rampLowPercentage=this.checkExpInput(e);var n=1;n=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=this._rampAttackTime/this.checkExpInput(n),n=Math.log(1/this._rampLowPercentage),this._rampDecayTC=this._rampDecayTime/this.checkExpInput(n)},p5.Env.prototype.setInput=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t])},p5.Env.prototype.setExp=function(t){this.isExponential=t},p5.Env.prototype.checkExpInput=function(t){return 0>=t&&(t=1e-8),t},p5.Env.prototype.play=function(e,n,i){var o=(t.audiocontext.currentTime,n||0),i=i||0;e&&this.connection!==e&&this.connect(e),this.triggerAttack(e,o),this.triggerRelease(e,o+this.aTime+this.dTime+i)},/**
   *  Trigger the Attack, and Decay portion of the Envelope.
   *  Similar to holding down a key on a piano, but it will
   *  hold the sustain level until you let go. Input can be
   *  any p5.sound object, or a <a href="
   *  http://docs.webplatform.org/wiki/apis/webaudio/AudioParam">
   *  Web Audio Param</a>.
   *
   *  @method  triggerAttack
   *  @param  {Object} unit p5.sound Object or Web Audio Param
   *  @param  {Number} secondsFromNow time from now (in seconds)
   *  @example
   *  <div><code>
   *
   *  var attackLevel = 1.0;
   *  var releaseLevel = 0;
   *
   *  var attackTime = 0.001
   *  var decayTime = 0.3;
   *  var susPercent = 0.4;
   *  var releaseTime = 0.5;
   *
   *  var env, triOsc;
   *
   *  function setup() {
   *    var cnv = createCanvas(100, 100);
   *    background(200);
   *    textAlign(CENTER);
   *    text('click to play', width/2, height/2);
   *
   *    env = new p5.Env();
   *    env.setADSR(attackTime, decayTime, susPercent, releaseTime);
   *    env.setRange(attackLevel, releaseLevel);
   *
   *    triOsc = new p5.Oscillator('triangle');
   *    triOsc.amp(env);
   *    triOsc.start();
   *    triOsc.freq(220);
   *
   *    cnv.mousePressed(envAttack);
   *  }
   *
   *  function envAttack(){
   *    console.log('trigger attack');
   *    env.triggerAttack();
   *
   *    background(0,255,0);
   *    text('attack!', width/2, height/2);
   *  }
   *
   *  function mouseReleased() {
   *    env.triggerRelease();
   *
   *    background(200);
   *    text('click to play', width/2, height/2);
   *  }
   *  </code></div>
   */
p5.Env.prototype.triggerAttack=function(e,n){var i=t.audiocontext.currentTime,o=n||0,r=i+o;this.lastAttack=r,this.wasTriggered=!0,e&&this.connection!==e&&this.connect(e);var s=this.control.getValueAtTime(r);this.control.cancelScheduledValues(r),1==this.isExponential?this.control.exponentialRampToValueAtTime(this.checkExpInput(s),r):this.control.linearRampToValueAtTime(s,r),r+=this.aTime,1==this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.aLevel),r),s=this.checkExpInput(this.control.getValueAtTime(r)),this.control.cancelScheduledValues(r),this.control.exponentialRampToValueAtTime(s,r)):(this.control.linearRampToValueAtTime(this.aLevel,r),s=this.control.getValueAtTime(r),this.control.cancelScheduledValues(r),this.control.linearRampToValueAtTime(s,r)),r+=this.dTime,1==this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.dLevel),r),s=this.checkExpInput(this.control.getValueAtTime(r)),this.control.cancelScheduledValues(r),this.control.exponentialRampToValueAtTime(s,r)):(this.control.linearRampToValueAtTime(this.dLevel,r),s=this.control.getValueAtTime(r),this.control.cancelScheduledValues(r),this.control.linearRampToValueAtTime(s,r))},/**
   *  Trigger the Release of the Envelope. This is similar to releasing
   *  the key on a piano and letting the sound fade according to the
   *  release level and release time.
   *
   *  @method  triggerRelease
   *  @param  {Object} unit p5.sound Object or Web Audio Param
   *  @param  {Number} secondsFromNow time to trigger the release
   *  @example
   *  <div><code>
   *
   *  var attackLevel = 1.0;
   *  var releaseLevel = 0;
   *
   *  var attackTime = 0.001
   *  var decayTime = 0.3;
   *  var susPercent = 0.4;
   *  var releaseTime = 0.5;
   *
   *  var env, triOsc;
   *
   *  function setup() {
   *    var cnv = createCanvas(100, 100);
   *    background(200);
   *    textAlign(CENTER);
   *    text('click to play', width/2, height/2);
   *
   *    env = new p5.Env();
   *    env.setADSR(attackTime, decayTime, susPercent, releaseTime);
   *    env.setRange(attackLevel, releaseLevel);
   *
   *    triOsc = new p5.Oscillator('triangle');
   *    triOsc.amp(env);
   *    triOsc.start();
   *    triOsc.freq(220);
   *
   *    cnv.mousePressed(envAttack);
   *  }
   *
   *  function envAttack(){
   *    console.log('trigger attack');
   *    env.triggerAttack();
   *
   *    background(0,255,0);
   *    text('attack!', width/2, height/2);
   *  }
   *
   *  function mouseReleased() {
   *    env.triggerRelease();
   *
   *    background(200);
   *    text('click to play', width/2, height/2);
   *  }
   *  </code></div>
   */
p5.Env.prototype.triggerRelease=function(e,n){if(this.wasTriggered){var i=t.audiocontext.currentTime,o=n||0,r=i+o;e&&this.connection!==e&&this.connect(e);var s=this.control.getValueAtTime(r);this.control.cancelScheduledValues(r),1==this.isExponential?this.control.exponentialRampToValueAtTime(this.checkExpInput(s),r):this.control.linearRampToValueAtTime(s,r),r+=this.rTime,1==this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.rLevel),r),s=this.checkExpInput(this.control.getValueAtTime(r)),this.control.cancelScheduledValues(r),this.control.exponentialRampToValueAtTime(s,r)):(this.control.linearRampToValueAtTime(this.rLevel,r),s=this.control.getValueAtTime(r),this.control.cancelScheduledValues(r),this.control.linearRampToValueAtTime(s,r)),this.wasTriggered=!1}},p5.Env.prototype.ramp=function(e,n,i,o){var r=t.audiocontext.currentTime,s=n||0,a=r+s,u=this.checkExpInput(i),c="undefined"!=typeof o?this.checkExpInput(o):void 0;e&&this.connection!==e&&this.connect(e);var l=this.checkExpInput(this.control.getValueAtTime(a));this.control.cancelScheduledValues(a),u>l?(this.control.setTargetAtTime(u,a,this._rampAttackTC),a+=this._rampAttackTime):l>u&&(this.control.setTargetAtTime(u,a,this._rampDecayTC),a+=this._rampDecayTime),void 0!==c&&(c>u?this.control.setTargetAtTime(c,a,this._rampAttackTC):u>c&&this.control.setTargetAtTime(c,a,this._rampDecayTC))},p5.Env.prototype.connect=function(e){this.connection=e,(e instanceof p5.Oscillator||e instanceof p5.SoundFile||e instanceof p5.AudioIn||e instanceof p5.Reverb||e instanceof p5.Noise||e instanceof p5.Filter||e instanceof p5.Delay)&&(e=e.output.gain),e instanceof AudioParam&&e.setValueAtTime(0,t.audiocontext.currentTime),e instanceof p5.Signal&&e.setValue(0),this.output.connect(e)},p5.Env.prototype.disconnect=function(){this.output.disconnect()},p5.Env.prototype.add=function(t){var n=new e(t),i=this.mathOps.length,o=this.output;return p5.prototype._mathChain(this,n,i,o,e)},p5.Env.prototype.mult=function(t){var e=new n(t),i=this.mathOps.length,o=this.output;return p5.prototype._mathChain(this,e,i,o,n)},p5.Env.prototype.scale=function(t,e,n,o){var r=new i(t,e,n,o),s=this.mathOps.length,a=this.output;return p5.prototype._mathChain(this,r,s,a,i)},p5.Env.prototype.dispose=function(){var e=t.soundArray.indexOf(this);t.soundArray.splice(e,1);t.audiocontext.currentTime;this.disconnect();try{this.control.dispose(),this.control=null}catch(n){}for(var i=1;i<this.mathOps.length;i++)mathOps[i].dispose()}}(master,Tone_signal_Add,Tone_signal_Multiply,Tone_signal_Scale,Tone_signal_TimelineSignal,Tone_core_Tone);var pulse;pulse=function(){"use strict";function t(){for(var t=e.audiocontext,n=t.createBuffer(1,2048,t.sampleRate),i=n.getChannelData(0),o=0;2048>o;o++)i[o]=1;var r=t.createBufferSource();return r.buffer=n,r.loop=!0,r}var e=master;p5.Pulse=function(n,i){p5.Oscillator.call(this,n,"sawtooth"),this.w=i||0,this.osc2=new p5.SawOsc(n),this.dNode=e.audiocontext.createDelay(),this.dcOffset=t(),this.dcGain=e.audiocontext.createGain(),this.dcOffset.connect(this.dcGain),this.dcGain.connect(this.output),this.f=n||440;var o=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=o,this.dcGain.gain.value=1.7*(.5-this.w),this.osc2.disconnect(),this.osc2.panner.disconnect(),this.osc2.amp(-1),this.osc2.output.connect(this.dNode),this.dNode.connect(this.output),this.output.gain.value=1,this.output.connect(this.panner)},p5.Pulse.prototype=Object.create(p5.Oscillator.prototype),p5.Pulse.prototype.width=function(t){if("number"==typeof t){if(1>=t&&t>=0){this.w=t;var e=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=e}this.dcGain.gain.value=1.7*(.5-this.w)}else{t.connect(this.dNode.delayTime);var n=new p5.SignalAdd(-.5);n.setInput(t),n=n.mult(-1),n=n.mult(1.7),n.connect(this.dcGain.gain)}},p5.Pulse.prototype.start=function(n,i){var o=e.audiocontext.currentTime,r=i||0;if(!this.started){var s=n||this.f,a=this.oscillator.type;this.oscillator=e.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(s,o),this.oscillator.type=a,this.oscillator.connect(this.output),this.oscillator.start(r+o),this.osc2.oscillator=e.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(s,r+o),this.osc2.oscillator.type=a,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(r+o),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=t(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(r+o),void 0!==this.mods&&void 0!==this.mods.frequency&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}},p5.Pulse.prototype.stop=function(t){if(this.started){var n=t||0,i=e.audiocontext.currentTime;this.oscillator.stop(n+i),this.osc2.oscillator.stop(n+i),this.dcOffset.stop(n+i),this.started=!1,this.osc2.started=!1}},p5.Pulse.prototype.freq=function(t,n,i){if("number"==typeof t){this.f=t;var o=e.audiocontext.currentTime,n=n||0,i=i||0,r=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(o),this.oscillator.frequency.setValueAtTime(r,o+i),this.oscillator.frequency.exponentialRampToValueAtTime(t,i+n+o),this.osc2.oscillator.frequency.cancelScheduledValues(o),this.osc2.oscillator.frequency.setValueAtTime(r,o+i),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(t,i+n+o),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else t.output&&(t.output.disconnect(),t.output.connect(this.oscillator.frequency),t.output.connect(this.osc2.oscillator.frequency),this.freqMod=t)}}(master,oscillator);var noise;noise=function(){"use strict";var t=master;p5.Noise=function(t){var o;p5.Oscillator.call(this),delete this.f,delete this.freq,delete this.oscillator,o="brown"===t?i:"pink"===t?n:e,this.buffer=o},p5.Noise.prototype=Object.create(p5.Oscillator.prototype);var e=function(){for(var e=2*t.audiocontext.sampleRate,n=t.audiocontext.createBuffer(1,e,t.audiocontext.sampleRate),i=n.getChannelData(0),o=0;e>o;o++)i[o]=2*Math.random()-1;return n.type="white",n}(),n=function(){var e,n,i,o,r,s,a,u=2*t.audiocontext.sampleRate,c=t.audiocontext.createBuffer(1,u,t.audiocontext.sampleRate),l=c.getChannelData(0);e=n=i=o=r=s=a=0;for(var p=0;u>p;p++){var h=2*Math.random()-1;e=.99886*e+.0555179*h,n=.99332*n+.0750759*h,i=.969*i+.153852*h,o=.8665*o+.3104856*h,r=.55*r+.5329522*h,s=-.7616*s-.016898*h,l[p]=e+n+i+o+r+s+a+.5362*h,l[p]*=.11,a=.115926*h}return c.type="pink",c}(),i=function(){for(var e=2*t.audiocontext.sampleRate,n=t.audiocontext.createBuffer(1,e,t.audiocontext.sampleRate),i=n.getChannelData(0),o=0,r=0;e>r;r++){var s=2*Math.random()-1;i[r]=(o+.02*s)/1.02,o=i[r],i[r]*=3.5}return n.type="brown",n}();p5.Noise.prototype.setType=function(o){switch(o){case"white":this.buffer=e;break;case"pink":this.buffer=n;break;case"brown":this.buffer=i;break;default:this.buffer=e}if(this.started){var r=t.audiocontext.currentTime;this.stop(r),this.start(r+.01)}},p5.Noise.prototype.getType=function(){return this.buffer.type},p5.Noise.prototype.start=function(){this.started&&this.stop(),this.noise=t.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var e=t.audiocontext.currentTime;this.noise.start(e),this.started=!0},p5.Noise.prototype.stop=function(){var e=t.audiocontext.currentTime;this.noise&&(this.noise.stop(e),this.started=!1)},p5.Noise.prototype.dispose=function(){var e=t.audiocontext.currentTime,n=t.soundArray.indexOf(this);t.soundArray.splice(n,1),this.noise&&(this.noise.disconnect(),this.stop(e)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}(master);var audioin;audioin=function(){"use strict";var t=master;p5.AudioIn=function(e){this.input=t.audiocontext.createGain(),this.output=t.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=0,this.enabled=!1,this.amplitude=new p5.Amplitude,this.output.connect(this.amplitude.input),"undefined"==typeof window.MediaStreamTrack?e?e():window.alert("This browser does not support AudioIn"):"function"==typeof window.MediaStreamTrack.getSources&&window.MediaStreamTrack.getSources(this._gotSources),t.soundArray.push(this)},p5.AudioIn.prototype.start=function(e,n){var i=this;if(t.inputSources[i.currentSource]){var o=t.inputSources[i.currentSource].id,r={audio:{optional:[{sourceId:o}]}};window.navigator.getUserMedia(r,this._onStream=function(n){i.stream=n,i.enabled=!0,i.mediaStream=t.audiocontext.createMediaStreamSource(n),i.mediaStream.connect(i.output),e&&e(),i.amplitude.setInput(i.output)},this._onStreamError=function(t){n?n(t):console.error(t)})}else window.navigator.getUserMedia({audio:!0},this._onStream=function(n){i.stream=n,i.enabled=!0,i.mediaStream=t.audiocontext.createMediaStreamSource(n),i.mediaStream.connect(i.output),i.amplitude.setInput(i.output),e&&e()},this._onStreamError=function(t){n?n(t):console.error(t)})},p5.AudioIn.prototype.stop=function(){this.stream&&this.stream.getTracks()[0].stop()},p5.AudioIn.prototype.connect=function(e){e?e.hasOwnProperty("input")?this.output.connect(e.input):e.hasOwnProperty("analyser")?this.output.connect(e.analyser):this.output.connect(e):this.output.connect(t.input)},p5.AudioIn.prototype.disconnect=function(){this.output.disconnect(),this.output.connect(this.amplitude.input)},p5.AudioIn.prototype.getLevel=function(t){return t&&(this.amplitude.smoothing=t),this.amplitude.getLevel()},p5.AudioIn.prototype._gotSources=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("audio"===n.kind)return n}},p5.AudioIn.prototype.amp=function(e,n){if(n){var i=n||0,o=this.output.gain.value;this.output.gain.cancelScheduledValues(t.audiocontext.currentTime),this.output.gain.setValueAtTime(o,t.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(e,i+t.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(t.audiocontext.currentTime),this.output.gain.setValueAtTime(e,t.audiocontext.currentTime)},p5.AudioIn.prototype.listSources=function(){return console.log("listSources is deprecated - please use AudioIn.getSources"),console.log("input sources: "),t.inputSources.length>0?t.inputSources:"This browser does not support MediaStreamTrack.getSources()"},p5.AudioIn.prototype.getSources=function(e){"function"==typeof window.MediaStreamTrack.getSources?window.MediaStreamTrack.getSources(function(n){for(var i=0,o=n.length;o>i;i++){var r=n[i];"audio"===r.kind&&t.inputSources.push(r)}e(t.inputSources)}):console.log("This browser does not support MediaStreamTrack.getSources()")},p5.AudioIn.prototype.setSource=function(e){var n=this;t.inputSources.length>0&&e<t.inputSources.length?(n.currentSource=e,console.log("set source to "+t.inputSources[n.currentSource].id)):console.log("unable to set input source")},p5.AudioIn.prototype.dispose=function(){var e=t.soundArray.indexOf(this);t.soundArray.splice(e,1),this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),this.amplitude=null,this.output=null}}(master,errorHandler);var filter;filter=function(){"use strict";var t=master;p5.Filter=function(e){this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.biquad=this.ac.createBiquadFilter(),this.input.connect(this.biquad),this.biquad.connect(this.output),this.connect(),e&&this.setType(e),t.soundArray.push(this)},p5.Filter.prototype.process=function(t,e,n){t.connect(this.input),this.set(e,n)},p5.Filter.prototype.set=function(t,e,n){t&&this.freq(t,n),e&&this.res(e,n)},p5.Filter.prototype.freq=function(t,e){var n=this,i=e||0;return 0>=t&&(t=1),"number"==typeof t?(n.biquad.frequency.value=t,n.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+i),n.biquad.frequency.exponentialRampToValueAtTime(t,this.ac.currentTime+.02+i)):t&&t.connect(this.biquad.frequency),n.biquad.frequency.value},p5.Filter.prototype.res=function(t,e){var n=this,i=e||0;return"number"==typeof t?(n.biquad.Q.value=t,n.biquad.Q.cancelScheduledValues(n.ac.currentTime+.01+i),n.biquad.Q.linearRampToValueAtTime(t,n.ac.currentTime+.02+i)):t&&freq.connect(this.biquad.Q),n.biquad.Q.value},p5.Filter.prototype.setType=function(t){this.biquad.type=t},p5.Filter.prototype.amp=function(e,n,i){var n=n||0,i=i||0,o=t.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(o),this.output.gain.linearRampToValueAtTime(r,o+i+.001),this.output.gain.linearRampToValueAtTime(e,o+i+n+.001)},p5.Filter.prototype.connect=function(t){var e=t||p5.soundOut.input;this.output.connect(e)},p5.Filter.prototype.disconnect=function(){this.output.disconnect()},p5.Filter.prototype.dispose=function(){var e=t.soundArray.indexOf(this);t.soundArray.splice(e,1),this.input.disconnect(),this.input=void 0,this.output.disconnect(),this.output=void 0,this.biquad.disconnect(),this.biquad=void 0},p5.LowPass=function(){p5.Filter.call(this,"lowpass")},p5.LowPass.prototype=Object.create(p5.Filter.prototype),p5.HighPass=function(){p5.Filter.call(this,"highpass")},p5.HighPass.prototype=Object.create(p5.Filter.prototype),p5.BandPass=function(){p5.Filter.call(this,"bandpass")},p5.BandPass.prototype=Object.create(p5.Filter.prototype)}(master);var delay;delay=function(){"use strict";var t=master;/**
   *  Delay is an echo effect. It processes an existing sound source,
   *  and outputs a delayed version of that sound. The p5.Delay can
   *  produce different effects depending on the delayTime, feedback,
   *  filter, and type. In the example below, a feedback of 0.5 will
   *  produce a looping delay that decreases in volume by
   *  50% each repeat. A filter will cut out the high frequencies so
   *  that the delay does not sound as piercing as the original source.
   *  
   *  @class p5.Delay
   *  @constructor
   *  @return {Object} Returns a p5.Delay object
   *  @example
   *  <div><code>
   *  var noise, env, delay;
   *  
   *  function setup() {
   *    background(0);
   *    noStroke();
   *    fill(255);
   *    textAlign(CENTER);
   *    text('click to play', width/2, height/2);
   *    
   *    noise = new p5.Noise('brown');
   *    noise.amp(0);
   *    noise.start();
   *    
   *    delay = new p5.Delay();
   *
   *    // delay.process() accepts 4 parameters:
   *    // source, delayTime, feedback, filter frequency
   *    // play with these numbers!!
   *    delay.process(noise, .12, .7, 2300);
   *    
   *    // play the noise with an envelope,
   *    // a series of fades ( time / value pairs )
   *    env = new p5.Env(.01, 0.2, .2, .1);
   *  }
   *
   *  // mouseClick triggers envelope
   *  function mouseClicked() {
   *    // is mouse over canvas?
   *    if (mouseX > 0 && mouseX < width && mouseY > 0 && mouseY < height) {
   *      env.play(noise);
   *    }
   *  }
   *  </code></div>
   */
p5.Delay=function(){this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._split=this.ac.createChannelSplitter(2),this._merge=this.ac.createChannelMerger(2),this._leftGain=this.ac.createGain(),this._rightGain=this.ac.createGain(),this.leftDelay=this.ac.createDelay(),this.rightDelay=this.ac.createDelay(),this._leftFilter=new p5.Filter,this._rightFilter=new p5.Filter,this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._leftFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._rightFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._leftFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this._rightFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this.input.connect(this._split),this.leftDelay.connect(this._leftGain),this.rightDelay.connect(this._rightGain),this._leftGain.connect(this._leftFilter.input),this._rightGain.connect(this._rightFilter.input),this._merge.connect(this.output),this.output.connect(p5.soundOut.input),this._leftFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this._rightFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this.setType(0),this._maxDelay=this.leftDelay.delayTime.maxValue,t.soundArray.push(this)},p5.Delay.prototype.process=function(t,e,n,i){var o=n||0,r=e||0;if(o>=1)throw new Error("Feedback value will force a positive feedback loop.");if(r>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");t.connect(this.input),this.leftDelay.delayTime.setValueAtTime(r,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(r,this.ac.currentTime),this._leftGain.gain.setValueAtTime(o,this.ac.currentTime),this._rightGain.gain.setValueAtTime(o,this.ac.currentTime),i&&(this._leftFilter.freq(i),this._rightFilter.freq(i))},p5.Delay.prototype.delayTime=function(t){"number"!=typeof t?(t.connect(this.leftDelay.delayTime),t.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime))},p5.Delay.prototype.feedback=function(t){if("number"!=typeof t)t.connect(this._leftGain.gain),t.connect(this._rightGain.gain);else{if(t>=1)throw new Error("Feedback value will force a positive feedback loop.");this._leftGain.gain.exponentialRampToValueAtTime(t,this.ac.currentTime),this._rightGain.gain.exponentialRampToValueAtTime(t,this.ac.currentTime)}},p5.Delay.prototype.filter=function(t,e){this._leftFilter.set(t,e),this._rightFilter.set(t,e)},p5.Delay.prototype.setType=function(t){switch(1===t&&(t="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),t){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._leftFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._leftFilter.output.connect(this.rightDelay)}},p5.Delay.prototype.amp=function(e,n,i){var n=n||0,i=i||0,o=t.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(o),this.output.gain.linearRampToValueAtTime(r,o+i+.001),this.output.gain.linearRampToValueAtTime(e,o+i+n+.001)},p5.Delay.prototype.connect=function(t){var e=t||p5.soundOut.input;this.output.connect(e)},p5.Delay.prototype.disconnect=function(){this.output.disconnect()},p5.Delay.prototype.dispose=function(){var e=t.soundArray.indexOf(this);t.soundArray.splice(e,1),this.input.disconnect(),this.output.disconnect(),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._merge.disconnect(),this._leftGain.disconnect(),this._rightGain.disconnect(),this.leftDelay.disconnect(),this.rightDelay.disconnect(),this.input=void 0,this.output=void 0,this._split=void 0,this._leftFilter=void 0,this._rightFilter=void 0,this._merge=void 0,this._leftGain=void 0,this._rightGain=void 0,this.leftDelay=void 0,this.rightDelay=void 0}}(master,filter);var reverb;reverb=function(){"use strict";var t=master,e=errorHandler;p5.Reverb=function(){this.ac=t.audiocontext,this.convolverNode=this.ac.createConvolver(),this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.output),this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse(),this.connect(),t.soundArray.push(this)},p5.Reverb.prototype.process=function(t,e,n,i){t.connect(this.input);var o=!1;e&&(this._seconds=e,o=!0),n&&(this._decay=n),i&&(this._reverse=i),o&&this._buildImpulse()},p5.Reverb.prototype.set=function(t,e,n){var i=!1;t&&(this._seconds=t,i=!0),e&&(this._decay=e),n&&(this._reverse=n),i&&this._buildImpulse()},p5.Reverb.prototype.amp=function(e,n,i){var n=n||0,i=i||0,o=t.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(o),this.output.gain.linearRampToValueAtTime(r,o+i+.001),this.output.gain.linearRampToValueAtTime(e,o+i+n+.001)},p5.Reverb.prototype.connect=function(t){var e=t||p5.soundOut.input;this.output.connect(e.input?e.input:e)},p5.Reverb.prototype.disconnect=function(){this.output.disconnect()},p5.Reverb.prototype._buildImpulse=function(){var t,e,n=this.ac.sampleRate,i=n*this._seconds,o=this._decay,r=this.ac.createBuffer(2,i,n),s=r.getChannelData(0),a=r.getChannelData(1);for(e=0;i>e;e++)t=this.reverse?i-e:e,s[e]=(2*Math.random()-1)*Math.pow(1-t/i,o),a[e]=(2*Math.random()-1)*Math.pow(1-t/i,o);this.convolverNode.buffer=r},p5.Reverb.prototype.dispose=function(){var e=t.soundArray.indexOf(this);t.soundArray.splice(e,1),this.convolverNode&&(this.convolverNode.buffer=null,this.convolverNode=null),"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null),"undefined"!=typeof this.panner&&(this.panner.disconnect(),this.panner=null)},p5.Convolver=function(e,n,i){this.ac=t.audiocontext,this.convolverNode=this.ac.createConvolver(),this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.output),e?(this.impulses=[],this._loadBuffer(e,n,i)):(this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse()),this.connect(),t.soundArray.push(this)},p5.Convolver.prototype=Object.create(p5.Reverb.prototype),p5.prototype.registerPreloadMethod("createConvolver",p5.prototype),p5.prototype.createConvolver=function(t,e,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var i=new p5.Convolver(t,e,n);return i.impulses=[],i},p5.Convolver.prototype._loadBuffer=function(t,n,i){var t=p5.prototype._checkFileFormats(t),o=this,r=(new Error).stack,s=p5.prototype.getAudioContext(),a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer",a.onload=function(){if(200==a.status)s.decodeAudioData(a.response,function(e){var i={},r=t.split("/");i.name=r[r.length-1],i.audioBuffer=e,o.impulses.push(i),o.convolverNode.buffer=i.audioBuffer,n&&n(i)},function(){var t=new e("decodeAudioData",r,o.url),n="AudioContext error at decodeAudioData for "+o.url;i?(t.msg=n,i(t)):console.error(n+"\n The error stack trace includes: \n"+t.stack)});else{var u=new e("loadConvolver",r,o.url),c="Unable to load "+o.url+". The request status was: "+a.status+" ("+a.statusText+")";i?(u.message=c,i(u)):console.error(c+"\n The error stack trace includes: \n"+u.stack)}},a.onerror=function(){var t=new e("loadConvolver",r,o.url),n="There was no response from the server at "+o.url+". Check the url and internet connectivity.";i?(t.message=n,i(t)):console.error(n+"\n The error stack trace includes: \n"+t.stack)},a.send()},p5.Convolver.prototype.set=null,p5.Convolver.prototype.process=function(t){t.connect(this.input)},p5.Convolver.prototype.impulses=[],p5.Convolver.prototype.addImpulse=function(t,e,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(t,e,n)},p5.Convolver.prototype.resetImpulse=function(t,e,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(t,e,n)},p5.Convolver.prototype.toggleImpulse=function(t){if("number"==typeof t&&t<this.impulses.length&&(this.convolverNode.buffer=this.impulses[t].audioBuffer),"string"==typeof t)for(var e=0;e<this.impulses.length;e++)if(this.impulses[e].name===t){this.convolverNode.buffer=this.impulses[e].audioBuffer;break}},p5.Convolver.prototype.dispose=function(){for(var t in this.impulses)this.impulses[t]=null;this.convolverNode.disconnect(),this.concolverNode=null,"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null),"undefined"!=typeof this.panner&&(this.panner.disconnect(),this.panner=null)}}(master,errorHandler,sndcore);var Tone_core_TimelineState;Tone_core_TimelineState=function(t){"use strict";return t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getStateAtTime=function(t){var e=this.getEvent(t);return null!==e?e.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(t,e){this.addEvent({state:t,time:this.toSeconds(e)})},t.TimelineState}(Tone_core_Tone,Tone_core_Timeline);var Tone_core_Clock;Tone_core_Clock=function(t){"use strict";return t.Clock=function(){var e=this.optionsObject(arguments,["callback","frequency"],t.Clock.defaults);this.callback=e.callback,this._lookAhead="auto",this._computedLookAhead=1/60,this._threshold=.5,this._nextTick=-1,this._lastUpdate=0,this._loopID=-1,this.frequency=new t.TimelineSignal(e.frequency,t.Type.Frequency),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),this._readOnly("frequency"),this._loop()},t.extend(t.Clock),t.Clock.defaults={callback:t.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getStateAtTime(this.now())}}),Object.defineProperty(t.Clock.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(t){this._lookAhead="auto"===t?"auto":this.toSeconds(t)}}),t.Clock.prototype.start=function(e,n){return e=this.toSeconds(e),this._state.getStateAtTime(e)!==t.State.Started&&this._state.addEvent({state:t.State.Started,time:e,offset:n}),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)!==t.State.Stopped&&this._state.setStateAtTime(t.State.Stopped,e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getStateAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.Clock.prototype._loop=function(e){if(this._loopID=requestAnimationFrame(this._boundLoop),"auto"===this._lookAhead){if(!this.isUndef(e)){var n=(e-this._lastUpdate)/1e3;this._lastUpdate=e,n<this._threshold&&(this._computedLookAhead=(9*this._computedLookAhead+n)/10)}}else this._computedLookAhead=this._lookAhead;var i=this.now(),o=2*this._computedLookAhead,r=this._state.getEvent(i+o),s=t.State.Stopped;if(r&&(s=r.state,-1===this._nextTick&&s===t.State.Started&&(this._nextTick=r.time,this.isUndef(r.offset)||(this.ticks=r.offset))),s===t.State.Started)for(;i+o>this._nextTick;){i>this._nextTick+this._threshold&&(this._nextTick=i);var a=this._nextTick;this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),this.callback(a),this.ticks++}else s===t.State.Stopped&&(this._nextTick=-1,this.ticks=0)},t.Clock.prototype.getStateAtTime=function(t){return this._state.getStateAtTime(t)},t.Clock.prototype.dispose=function(){cancelAnimationFrame(this._loopID),t.TimelineState.prototype.dispose.call(this),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=t.noOp,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}(Tone_core_Tone,Tone_signal_TimelineSignal);var metro;metro=function(){"use strict";{var t=master,e=Tone_core_Clock;t.audiocontext}p5.Metro=function(){this.clock=new e({callback:this.ontick.bind(this)}),this.syncedParts=[],this.bpm=120,this._init(),this.tickCallback=function(){}};var n=0,i=0;p5.Metro.prototype.ontick=function(e){var o=e-n,r=e-t.audiocontext.currentTime;if(!(-.02>=o-i)){n=e;for(var s in this.syncedParts){var a=this.syncedParts[s];if(!a.isPlaying)return;a.incrementStep(r);for(var u in a.phrases){var c=a.phrases[u],l=c.sequence,p=this.metroTicks%l.length;0!==l[p]&&(this.metroTicks<l.length||!c.looping)&&c.callback(r,l[p])}}this.metroTicks+=1,this.tickCallback(r)}},p5.Metro.prototype.setBPM=function(e,n){var o=60/(e*this.tatums),r=t.audiocontext.currentTime;i=o;var n=n||0;this.clock.frequency.setValueAtTime(this.clock.frequency.value,r),this.clock.frequency.linearRampToValueAtTime(e,r+n),this.bpm=e},p5.Metro.prototype.getBPM=function(){return this.clock.getRate()/this.tatums*60},p5.Metro.prototype._init=function(){this.metroTicks=0},p5.Metro.prototype.resetSync=function(t){this.syncedParts=[t]},p5.Metro.prototype.pushSync=function(t){this.syncedParts.push(t)},p5.Metro.prototype.start=function(e){var n=e||0,i=t.audiocontext.currentTime;this.clock.start(i+n),this.setBPM(this.bpm)},p5.Metro.prototype.stop=function(e){var n=e||0,i=t.audiocontext.currentTime;this.clock._oscillator&&this.clock.stop(i+n)},p5.Metro.prototype.beatLength=function(t){this.tatums=1/t/4}}(master,Tone_core_Clock);var looper;looper=function(){"use strict";function t(t){t.currentPart++,t.currentPart>=t.parts.length?(t.scoreStep=0,t.onended()):(t.scoreStep=0,t.parts[t.currentPart-1].stop(),t.parts[t.currentPart].start())}var e=master,n=120;p5.prototype.setBPM=function(t,i){n=t;for(var o in e.parts)e.parts[o].setBPM(n,i)},p5.Phrase=function(t,e,n){this.phraseStep=0,this.name=t,this.callback=e,this.sequence=n},p5.Part=function(t,i){this.length=t||0,this.partStep=0,this.phrases=[],this.isPlaying=!1,this.noLoop(),this.tatums=i||.0625,this.metro=new p5.Metro,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(n),e.parts.push(this),this.callback=function(){}},p5.Part.prototype.setBPM=function(t,e){this.metro.setBPM(t,e)},p5.Part.prototype.getBPM=function(){return this.metro.getBPM()},p5.Part.prototype.start=function(t){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var e=t||0;this.metro.start(e)}},p5.Part.prototype.loop=function(t){this.looping=!0,this.onended=function(){this.partStep=0};var e=t||0;this.start(e)},p5.Part.prototype.noLoop=function(){this.looping=!1,this.onended=function(){this.stop()}},p5.Part.prototype.stop=function(t){this.partStep=0,this.pause(t)},p5.Part.prototype.pause=function(t){this.isPlaying=!1;var e=t||0;this.metro.stop(e)},p5.Part.prototype.addPhrase=function(t,e,n){var i;if(3===arguments.length)i=new p5.Phrase(t,e,n);else{if(!(arguments[0]instanceof p5.Phrase))throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";i=arguments[0]}this.phrases.push(i),i.sequence.length>this.length&&(this.length=i.sequence.length)},p5.Part.prototype.removePhrase=function(t){for(var e in this.phrases)this.phrases[e].name===t&&this.phrases.splice(e,1)},p5.Part.prototype.getPhrase=function(t){for(var e in this.phrases)if(this.phrases[e].name===t)return this.phrases[e]},p5.Part.prototype.replaceSequence=function(t,e){for(var n in this.phrases)this.phrases[n].name===t&&(this.phrases[n].sequence=e)},p5.Part.prototype.incrementStep=function(t){this.partStep<this.length-1?(this.callback(t),this.partStep+=1):this.looping||this.partStep!=this.length-1||(console.log("done"),this.onended())},p5.Part.prototype.onStep=function(t){this.callback=t},p5.Score=function(){this.parts=[],this.currentPart=0;var e=this;for(var n in arguments)this.parts[n]=arguments[n],this.parts[n].nextPart=this.parts[n+1],this.parts[n].onended=function(){e.resetPart(n),t(e)};this.looping=!1},p5.Score.prototype.onended=function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0},p5.Score.prototype.start=function(){this.parts[this.currentPart].start(),this.scoreStep=0},p5.Score.prototype.stop=function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0},p5.Score.prototype.pause=function(){this.parts[this.currentPart].stop()},p5.Score.prototype.loop=function(){this.looping=!0,this.start()},p5.Score.prototype.noLoop=function(){this.looping=!1},p5.Score.prototype.resetParts=function(){for(var t in this.parts)this.resetPart(t)},p5.Score.prototype.resetPart=function(t){this.parts[t].stop(),this.parts[t].partStep=0;for(var e in this.parts[t].phrases)this.parts[t].phrases[e].phraseStep=0},p5.Score.prototype.setBPM=function(t,e){for(var n in this.parts)this.parts[n].setBPM(t,e)}}(master);var soundRecorder;soundRecorder=function(){"use strict";function t(t,e){for(var n=t.length+e.length,i=new Float32Array(n),o=0,r=0;n>r;)i[r++]=t[o],i[r++]=e[o],o++;return i}function e(t,e,n){for(var i=n.length,o=0;i>o;o++)t.setUint8(e+o,n.charCodeAt(o))}var n=master,i=n.audiocontext;/**
   *  <p>Record sounds for playback and/or to save as a .wav file.
   *  The p5.SoundRecorder records all sound output from your sketch,
   *  or can be assigned a specific source with setInput().</p>
   *  <p>The record() method accepts a p5.SoundFile as a parameter.
   *  When playback is stopped (either after the given amount of time,
   *  or with the stop() method), the p5.SoundRecorder will send its
   *  recording to that p5.SoundFile for playback.</p>
   *  
   *  @class p5.SoundRecorder
   *  @constructor
   *  @example
   *  <div><code>
   *  var mic, recorder, soundFile;
   *  var state = 0;
   *  
   *  function setup() {
   *    background(200);
   *    // create an audio in
   *    mic = new p5.AudioIn();
   *    
   *    // prompts user to enable their browser mic
   *    mic.start();
   *    
   *    // create a sound recorder
   *    recorder = new p5.SoundRecorder();
   *    
   *    // connect the mic to the recorder
   *    recorder.setInput(mic);
   *    
   *    // this sound file will be used to
   *    // playback & save the recording
   *    soundFile = new p5.SoundFile();
   *
   *    text('keyPress to record', 20, 20);
   *  }
   *
   *  function keyPressed() {
   *    // make sure user enabled the mic
   *    if (state === 0 && mic.enabled) {
   *    
   *      // record to our p5.SoundFile
   *      recorder.record(soundFile);
   *      
   *      background(255,0,0);
   *      text('Recording!', 20, 20);
   *      state++;
   *    }
   *    else if (state === 1) {
   *      background(0,255,0);
   *
   *      // stop recorder and
   *      // send result to soundFile
   *      recorder.stop(); 
   *      
   *      text('Stopped', 20, 20);
   *      state++;
   *    }
   *    
   *    else if (state === 2) {
   *      soundFile.play(); // play the result!
   *      save(soundFile, 'mySound.wav');
   *      state++;
   *    }
   *  }
   *  </div></code>
   */
p5.SoundRecorder=function(){this.input=i.createGain(),this.output=i.createGain(),this.recording=!1,this.bufferSize=1024,this._channels=2,this._clear(),this._jsNode=i.createScriptProcessor(this.bufferSize,this._channels,2),this._jsNode.onaudioprocess=this._audioprocess.bind(this),this._callback=function(){},this._jsNode.connect(p5.soundOut._silentNode),this.setInput(),n.soundArray.push(this)},p5.SoundRecorder.prototype.setInput=function(t){this.input.disconnect(),this.input=null,this.input=i.createGain(),this.input.connect(this._jsNode),this.input.connect(this.output),t?t.connect(this.input):p5.soundOut.output.connect(this.input)},p5.SoundRecorder.prototype.record=function(t,e,n){this.recording=!0,e&&(this.sampleLimit=Math.round(e*i.sampleRate)),t&&n?this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer),n()}:t&&(this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer)})},p5.SoundRecorder.prototype.stop=function(){this.recording=!1,this._callback(),this._clear()},p5.SoundRecorder.prototype._clear=function(){this._leftBuffers=[],this._rightBuffers=[],this.recordedSamples=0,this.sampleLimit=null},p5.SoundRecorder.prototype._audioprocess=function(t){if(this.recording!==!1&&this.recording===!0)if(this.sampleLimit&&this.recordedSamples>=this.sampleLimit)this.stop();else{var e=t.inputBuffer.getChannelData(0),n=t.inputBuffer.getChannelData(1);this._leftBuffers.push(new Float32Array(e)),this._rightBuffers.push(new Float32Array(n)),this.recordedSamples+=this.bufferSize}},p5.SoundRecorder.prototype._getBuffer=function(){var t=[];return t.push(this._mergeBuffers(this._leftBuffers)),t.push(this._mergeBuffers(this._rightBuffers)),t},p5.SoundRecorder.prototype._mergeBuffers=function(t){for(var e=new Float32Array(this.recordedSamples),n=0,i=t.length,o=0;i>o;o++){var r=t[o];e.set(r,n),n+=r.length}return e},p5.SoundRecorder.prototype.dispose=function(){this._clear();var t=n.soundArray.indexOf(this);n.soundArray.splice(t,1),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._jsNode=null},p5.prototype.saveSound=function(n,i){var o,r;o=n.buffer.getChannelData(0),r=n.buffer.numberOfChannels>1?n.buffer.getChannelData(1):o;var s=t(o,r),a=new ArrayBuffer(44+2*s.length),u=new DataView(a);e(u,0,"RIFF"),u.setUint32(4,36+2*s.length,!0),e(u,8,"WAVE"),e(u,12,"fmt "),u.setUint32(16,16,!0),u.setUint16(20,1,!0),u.setUint16(22,2,!0),u.setUint32(24,44100,!0),u.setUint32(28,176400,!0),u.setUint16(32,4,!0),u.setUint16(34,16,!0),e(u,36,"data"),u.setUint32(40,2*s.length,!0);for(var c=s.length,l=44,p=1,h=0;c>h;h++)u.setInt16(l,32767*s[h]*p,!0),l+=2;p5.prototype.writeFile([u],i,"wav")}}(sndcore,master);var peakdetect;peakdetect=function(){"use strict";p5.PeakDetect=function(t,e,n,i){this.framesPerPeak=i||20,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=n||.35,this.cutoff=0,this.cutoffMult=1.5,this.energy=0,this.penergy=0,this.currentValue=0,this.isDetected=!1,this.f1=t||40,this.f2=e||2e4,this._onPeak=function(){}},p5.PeakDetect.prototype.update=function(t){var e=this.energy=t.getEnergy(this.f1,this.f2)/255;e>this.cutoff&&e>this.threshold&&e-this.penergy>0?(this._onPeak(),this.isDetected=!0,this.cutoff=e*this.cutoffMult,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.currentValue=e,this.penergy=e},p5.PeakDetect.prototype.onPeak=function(t,e){var n=this;n._onPeak=function(){t(n.energy,e)}}}(master);var gain;gain=function(){"use strict";var t=master;p5.Gain=function(){this.ac=t.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output),t.soundArray.push(this)},p5.Gain.prototype.setInput=function(t){t.connect(this.input)},p5.Gain.prototype.connect=function(t){var e=t||p5.soundOut.input;this.output.connect(e.input?e.input:e)},p5.Gain.prototype.disconnect=function(){this.output.disconnect()},p5.Gain.prototype.amp=function(e,n,i){var n=n||0,i=i||0,o=t.audiocontext.currentTime,r=this.output.gain.value;this.output.gain.cancelScheduledValues(o),this.output.gain.linearRampToValueAtTime(r,o+i),this.output.gain.linearRampToValueAtTime(e,o+i+n)},p5.Gain.prototype.dispose=function(){var e=t.soundArray.indexOf(this);t.soundArray.splice(e,1),this.output.disconnect(),this.input.disconnect(),this.output=void 0,this.input=void 0}}(master,sndcore);var distortion;distortion=function(){"use strict";function t(t){for(var e,n="number"==typeof t?t:50,i=44100,o=new Float32Array(i),r=Math.PI/180,s=0;i>s;++s)e=2*s/i-1,o[s]=(3+n)*e*20*r/(Math.PI+n*Math.abs(e));return o}var e=master;p5.Distortion=function(n,i){if("undefined"==typeof n&&(n=.25),"number"!=typeof n)throw new Error("amount must be a number");if("undefined"==typeof i&&(i="2x"),"string"!=typeof i)throw new Error("oversample must be a String");var o=p5.prototype.map(n,0,1,0,2e3);this.ac=e.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.waveShaperNode=this.ac.createWaveShaper(),this.amount=o,this.waveShaperNode.curve=t(o),this.waveShaperNode.oversample=i,this.input.connect(this.waveShaperNode),this.waveShaperNode.connect(this.output),this.connect(),e.soundArray.push(this)},p5.Distortion.prototype.process=function(t,e,n){t.connect(this.input),this.set(e,n)},p5.Distortion.prototype.set=function(e,n){if(e){var i=p5.prototype.map(e,0,1,0,2e3);this.amount=i,this.waveShaperNode.curve=t(i)}n&&(this.waveShaperNode.oversample=n)},p5.Distortion.prototype.getAmount=function(){return this.amount},p5.Distortion.prototype.getOversample=function(){return this.waveShaperNode.oversample},p5.Distortion.prototype.connect=function(t){var e=t||p5.soundOut.input;this.output.connect(e)},p5.Distortion.prototype.disconnect=function(){this.output.disconnect()},p5.Distortion.prototype.dispose=function(){var t=e.soundArray.indexOf(this);e.soundArray.splice(t,1),this.input.disconnect(),this.waveShaperNode.disconnect(),this.input=null,this.waveShaperNode=null,"undefined"!=typeof this.output&&(this.output.disconnect(),this.output=null)}}(master);var src_app;src_app=function(){"use strict";var t=sndcore;return t}(sndcore,master,helpers,errorHandler,panner,soundfile,amplitude,fft,signal,oscillator,env,pulse,noise,audioin,filter,delay,reverb,metro,looper,soundRecorder,peakdetect,gain,distortion)});var filterType,rects=[],numRects=80,tris=[],numTris=40,lives=0,score=0,rateChange,soundArray=[5],playSoundNumber=0,randomX;// 		this.x += randomX //move to the right!
// 		if (this.x > width) { //loop to the left!
Modernizr.addTest("boxsizing",function(){return Modernizr.testAllProps("boxSizing")&&(void 0===document.documentMode||document.documentMode>7)}),$(function(){$("html").hasClass("boxsizing")||$("*").each(function(){if("block"==$(this).css("display")){var t,e,n;t=$(this).outerWidth(),e=$(this).width(),n=e-(t-e),$(this).css("width",n)}})}),$(function(){$("figure.responsive").picture({container:$("#content")})}),$("#defaultCanvas0").width()<200&&$("#defaultCanvas0").remove();